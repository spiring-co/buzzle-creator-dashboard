{"version":3,"sources":["helpers/constants.ts","services/RemoteConfigContext.tsx","services/awsService.ts","helpers/themes.js","helpers/useDarkMode.js","common/PrivateRoute.tsx","common/Typography/index.tsx","common/AuthOperations/index.tsx","services/Re-AuthContext.tsx","common/RoleBasedView.js","services/api.ts","helpers/Currencies.ts","services/currencyContext.tsx","common/Navbar.tsx","common/RoleBasedRoute.tsx","common/Graphs.tsx","common/AlertHandler.tsx","common/EmailVerifyAlert/index.tsx","domains/Home/index.js","common/VerticalTabs.tsx","domains/Setting/Profile/index.tsx","helpers/index.ts","domains/Setting/Account/Credentials/index.tsx","domains/Setting/Account/index.tsx","domains/Setting/Webhooks/index.tsx","domains/Setting/index.tsx","common/SnackAlert.js","domains/User/UserTable/index.js","domains/User/UserDetails/index.js","common/Page.tsx","domains/User/index.js","contextStore/reducer.js","contextStore/store.js","contextStore/actions.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/AssetUpload/AssetUploader/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/AssetUpload/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/FontUpload/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/FormStepper/index.js","common/Ribbon/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/LayerAdder/AddAndUpdateFieldsDialog.tsx","common/FormTextInput/index.tsx","common/FormImageInput/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/LayerAdder/LayerBuilder.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/LayerAdder/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/VersionMeta/index.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/VersionStepper/index.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/CompositionPicker/index.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/VersionSampleField/index.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/AddOrUpdateVersionDialog/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VersionDisplay/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VideoTemplateMetaForm/ProjectFilePicker/index.tsx","common/ArrayInput.js","domains/VideoTemplate/VideoTemplateForm/FormBuilder/VideoTemplateMetaForm/index.tsx","domains/VideoTemplate/VideoTemplateForm/FormBuilder/index.tsx","domains/VideoTemplate/VideoTemplateForm/index.js","common/JSONEditorDialoge.js","domains/VideoTemplate/VideoTemplatePublishDialog/PublishSteps/index.tsx","helpers/formatTime.js","helpers/createTestJobs.ts","domains/VideoTemplate/VideoTemplatePublishDialog/RenderTimeStep/index.tsx","domains/VideoTemplate/VideoTemplatePublishDialog/LoyaltyAmountStep/index.tsx","domains/VideoTemplate/VideoTemplatePublishDialog/ApproveStep/index.tsx","domains/VideoTemplate/VideoTemplatePublishDialog/index.tsx","domains/VideoTemplate/VideoTemplatesTable/Table/index.tsx","domains/VideoTemplate/VideoTemplatesTable/MyTemplates/index.tsx","domains/VideoTemplate/VideoTemplatesTable/PublicTemplates/index.tsx","domains/VideoTemplate/VideoTemplatesTable/index.tsx","domains/VideoTemplate/VideoTemplateDrafts/index.js","helpers/downloadTemplateHelper.js","domains/VideoTemplate/VideoTemplateDetails/index.tsx","domains/VideoTemplate/index.js","domains/Job/JobDetails/ActionsHandler/ActionDialog.js","common/FontUploader.js","domains/Job/JobDetails/ActionsHandler/PreRender.js","domains/Job/JobDetails/ActionsHandler/index.js","domains/Job/JobDetails/ImageEditRow/index.js","domains/Job/JobDetails/TextEditRow/index.js","domains/Job/JobDetails/LogsTab/index.js","domains/Job/JobDetails/index.js","common/Filters.js","common/LogsDialog.js","domains/Job/ActiveJobsTable/index.js","domains/Job/JobsTable/index.tsx","domains/Job/index.tsx","domains/index.js","common/Branding.tsx","domains/NotFound/index.js","domains/Landing/index.js","domains/VideoTemplate/CreateTestJob/manualTestJob.js","domains/VideoTemplate/CreateTestJob/index.tsx","domains/Auth/index.tsx","App.tsx","serviceWorker.js","i18next.js","index.tsx","helpers/CreateImage.js","services/auth.tsx","services/buzzle-sdk/helpers/apiRequest.ts","services/buzzle-sdk/helpers/objectToQueryString.ts","services/buzzle-sdk/api/job.ts","services/buzzle-sdk/api/user.ts","services/buzzle-sdk/api/analytics.ts","services/buzzle-sdk/api/pricing.ts","services/buzzle-sdk/api/videoTemplate.ts","services/buzzle-sdk/index.ts","services/buzzle-sdk/api/index.ts","services/APIContext.tsx","services/firebase.ts","assets/404.svg","common/ImageCropperDialog.js","domains/Job/JobDetails/ActionsHandler/PostRender.js","assets/spiring.svg","assets/spiring_grey.svg","assets/landing.svg","assets/video.svg","common/FileUploader.tsx"],"names":["config","apiURL","socketURL","instances","defaultValues","defaultConfig","isConfigLoading","configError","RemoteConfigContext","createContext","useConfig","context","useContext","console","log","RemoteConfigProvider","props","useState","constants","setConstants","setIsConfigLoading","setConfigError","setInstances","keysTofetch","useEffect","init","a","remoteConfig","fetchAndActivate","fetch","process","result","ok","json","Object","assign","map","key","JSON","parse","getValue","asString","value","useMemo","Provider","tagsByUseCase","archive","deleteAfter7Days","deleteAfter90Days","s3Client","AWS","EC2","apiVersion","S3","endpoint","region","credentials","accessKeyId","secretAccessKey","upload","Key","Body","tag","Bucket","ACL","tags","Value","darkTheme","createMuiTheme","palette","type","primary","main","secondary","pink","background","default","paper","typography","fontSize","fontFamily","fontWeightRegular","h3","fontWeight","h4","h5","h6","overrides","MuiLink","root","MuiStepLabel","label","active","MuiButton","lightTheme","MuiTab","wrapper","color","DarkModeContext","useDarkMode","DarkModeProvider","theme","setTheme","componentMounted","setComponentMounted","setMode","mode","window","localStorage","setItem","localTheme","getItem","matchMedia","matches","useAuth","user","isUserLoading","isAuthorized","setIsAuthorized","to","SubHeading","Typography","style","variant","Text","SmallText","ExtraSmallText","message","email","onSubmit","handleClose","initialMode","onModeChange","enqueueSnackbar","useSnackbar","history","useHistory","error","setError","loading","setLoading","signUpWithEmailPassword","forgotPassword","checkUserExist","signInWithPassword","showPassword","setShowPassword","showNewPassword","setShowNewPassword","handleCredentialSubmit","React","useCallback","password","name","newPassword","replace","credential","firebase","auth","EmailAuthProvider","firebaseAuth","currentUser","reauthenticateWithCredential","updatePassword","code","Error","useFormik","initialValues","validationSchema","Yup","required","handleChange","handleBlur","handleSubmit","values","errors","touched","handleClickShowPassword","handleMouseDownPassword","event","preventDefault","getHeading","component","padding","paddingLeft","paddingRight","maxWidth","margin","noValidate","marginBottom","Alert","severity","children","TextField","InputProps","readOnly","onBlur","onChange","fullWidth","placeholder","helperText","FormControl","InputLabel","htmlFor","OutlinedInput","id","labelWidth","endAdornment","InputAdornment","position","IconButton","aria-label","onClick","onMouseDown","edge","FormHelperText","v","Box","width","marginTop","display","alignItems","justifyContent","Button","textTransform","size","undefined","disabled","marginRight","CircularProgress","ReAuthFlowContext","reAuthInit","isAuthFlowInitialised","useReAuthFlow","ReAuthFlowProvider","setIsAuthFlowInitialised","isUserLoadingFromFirebase","promise","setPromise","Promise","resolve","reject","onClose","resetAll","Dialog","aria-labelledby","open","AuthOperations","allowedRoles","redirectTo","isAdmin","includes","dotenv","path","uri","getCountry","headers","response","then","sort","b","Date","updatedAt","method","idArray","all","countryCode","getExtractionServerIP","aeExtraction","exchangeRates","currencyCodes","BD","BE","BF","BG","BA","BB","WF","BL","BM","BN","BO","BH","BI","BJ","BT","JM","BV","BW","WS","BQ","BR","BS","JE","BY","BZ","RU","RW","RS","TL","RE","TM","TJ","RO","TK","GW","GU","GT","GS","GR","GQ","GP","JP","GY","GG","GF","GE","GD","GB","GA","SV","GN","GM","GL","GI","GH","OM","TN","JO","HR","HT","HU","HK","HN","HM","VE","PR","PS","PW","PT","SJ","PY","IQ","PA","PF","PG","PE","PK","PH","PN","PL","PM","ZM","EH","EE","EG","ZA","EC","IT","VN","SB","ET","SO","ZW","SA","ES","ER","ME","MD","MG","MF","MA","MC","UZ","MM","ML","MO","MN","MH","MK","MU","MT","MW","MV","MQ","MP","MS","MR","IM","UG","TZ","MY","MX","IL","FR","IO","SH","FI","FJ","FK","FM","FO","NI","NL","NO","NA","VU","NC","NE","NF","NG","NZ","NP","NR","NU","CK","XK","CI","CH","CO","CN","CM","CL","CC","CA","CG","CF","CD","CZ","CY","CX","CR","CW","CV","CU","SZ","SY","SX","KG","KE","SS","SR","KI","KH","KN","KM","ST","SK","KR","SI","KP","KW","SN","SM","SL","SC","KZ","KY","SG","SE","SD","DO","DM","DJ","DK","VG","DE","YE","DZ","US","UY","YT","UM","LB","LC","LA","TV","TW","TT","TR","LK","LI","LV","TO","LT","LU","LR","LS","TH","TF","TG","TD","TC","LY","VA","VC","AE","AD","AG","AF","AI","VI","IS","IR","AM","AL","AO","AQ","AS","AR","AU","AT","AW","IN","AX","AZ","IE","ID","UA","QA","MZ","countryCodes","currencyInfo","AED","symbol","subunit_to_unit","decimal_mark","thousands_separator","symbol_first","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BRL","BSD","BTN","BWP","BYN","BYR","BZD","CAD","CDF","CHF","CLF","CLP","CNY","COP","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SKK","SLL","SOS","SRD","SSP","STD","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XTS","YER","ZAR","ZMK","ZMW","CurrencyContext","getConvertedCurrency","round","humanize","currency","getConvertedCurrencyValue","baseUnitValueOfCurrency","useCurrency","CurrencyProvider","country","setCountry","currencyData","currencyCode","hasOwnProperty","fx","rates","price","from","p","parseFloat","toFixed","ListItemLink","icon","renderLink","forwardRef","itemProps","ref","ListItem","height","button","ListItemIcon","marginLeft","ListItemText","useStyles","makeStyles","createStyles","flexgrow","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","breakpoints","up","enteringScreen","menuButton","spacing","hide","flexShrink","drawerOpen","drawerClose","overflowX","drawerPaper","toolbar","mixins","content","flexGrow","menu","grow","NavBar","items","classes","useTheme","setDrawerOpen","anchorEl","setAnchorEl","signOut","Boolean","className","flex","noWrap","RouterLink","textDecoration","direction","Divider","List","item","index","RoleBasedView","text","container","document","body","CssBaseline","AppBar","clsx","Toolbar","Chip","avatar","stripeCustomer","balance","Avatar","alt","src","photoURL","currentTarget","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","flexDirection","MenuItem","push","Hidden","smUp","implementation","Drawer","anchor","ModalProps","xsDown","role","Analytics","useAPI","token","startDate","moment","startOf","toDate","endDate","endOf","date","setDate","selectedDuration","setSelectedDuration","getCategories","categories","isBefore","add","subtract","noOfDays","Math","diff","noDaysDifference","setCategories","count","setCount","data","setData","isDatePickerOpen","setIsDatePickerOpen","fetchJobs","categ","jobsPerTemplate","templateIds","videoTemplateSeries","templateId","find","length","idVideoTemplate","title","categoryDate","filter","isBetween","action","handleSetToday","Paper","difference","startIcon","format","toLocaleUpperCase","Popover","editableDateInputs","selection","moveRangeOnFirstSelection","ranges","MenuList","minWidth","isAfter","handleDurationSet","minHeight","paddingTop","paddingBottom","alignSelf","every","options","chart","stacked","zoom","enabled","show","plotOptions","bar","stroke","colors","xaxis","labels","formatter","val","getXAxisLabel","yaxis","tooltip","y","x","getXAxisTitle","fill","opacity","legend","horizontalAlign","series","onRetry","showRetry","buttonText","AlertTitle","verifyEmail","setMessage","setType","handleVerify","emailVerified","AlertHandler","Home","EmailVerifyAlert","Graphs","TabPanel","other","hidden","VerticalTabs","tabs","initialTabIndex","onTabIndexChange","setValue","newValue","Tabs","indicatorColor","textColor","scrollButtons","Tab","a11yProps","refreshUser","User","uploadedPercent","setUploadedPercent","isAvatarUploading","setIsAvatarUploading","update","updated","updateProfile","displayName","handleAvatarChange","file","task","uid","split","pop","on","loaded","total","Location","startsWith","setFieldValue","flexWrap","accept","files","target","multiple","borderRadius","CameraAlt","floor","copyToClipboard","navigator","permissions","query","state","clipboard","writeText","reason","getLayersFromComposition","c","templateType","textLayers","imageLayers","getUniqueId","random","toString","substr","extractStructureFromFile","extractionURL","fileUrl","fileType","Accept","stringify","compositions","staticAssets","url","isHidden","setIsHidden","handleGenerate","keyOperation","handleRevoke","handleCopy","APIKey","contentEditable","orientation","Credentials","tab","URLSearchParams","useLocation","search","get","initialTab","setInitialTab","Profile","Account","Webhooks","findIndex","elevation","Snackbar","autoHideDuration","useRouteMatch","Job","VideoTemplate","tableRef","useRef","overflow","backgroundColor","gridList","drafted","location","statusObj","status","err","deleteStatus","setDeleteStatus","getAll","current","onQueryChange","SnackAlert","onRowClick","e","columns","field","render","imageUrl","localization","emptyDataSourceMessage","detailPanel","rowData","displayDataTypes","collapsed","page","pageSize","totalCount","catch","headerStyle","minBodyHeight","actionsColumnIndex","Component","exact","Page","UsersTable","UserDetails","updatedFields","versions","payload","activeVersionIndex","fields","rendererData","constraints","layerName","property","indexOf","restoreVersionIndex","currentCompositionFields","list","startIndex","endIndex","Array","splice","removed","shiftValueByIndex","swapIndex","targetSwapIndex","fieldIndex","idCreatedBy","description","keywords","fonts","thumbnail","VideoTemplateContext","StateProvider","useReducer","segmentReducer","dispatch","useActions","restoreChanges","restoreFieldsFromPreviousVersion","editVideoKeys","editversionKeys","removeVersion","resetVideo","addField","swapFields","removeField","updateField","loadVideo","video","AssetUploader","asset","handleDelete","setAssets","assetsNames","isFolderResolved","videoObj","setSrc","inputType","setInputType","progress","setProgress","taskController","setTaskController","extension","handleUpload","handleAssetUpload","dataTransfer","temp","now","handleUploadCancel","abort","OndemandVideo","MusicVideo","Image","Folder","RadioGroup","row","FormControlLabel","control","Radio","m","ml","webkitdirectory","mozdirectory","CloudUpload","basename","ListItemSecondaryAction","border","divider","AssetUpload","activeDisplayIndex","setActiveDisplayIndex","isAssetNavigated","setIsAssetNavigated","isSubmitting","submitError","handleSubmitForm","isValid","setIsValid","uploadType","setUploadType","assets","setIsFolderResolved","oldAsset","i","FormLabel","mt","renderAssetUploader","endIcon","FontUpload","setIsFontNavigated","isFontNavigated","fontList","setFontList","fontName","font","FileUploader","uploadFileNameColor","storageType","forceUploadDirectory","uploadDirectory","ArrowForward","steps","Stepper","activeStep","Step","StepLabel","textStyle","variants","styles","upperRibon","borderTopRightRadius","borderBottomRightRadius","smallRibbon","borderStyle","borderWidth","borderColor","borderTopColor","borderRightColor","top","left","transform","shape","propertyType","when","is","otherwise","maxLength","onDataSubmit","initialValue","editField","toggleDialog","resetForm","scroll","DialogTitle","DialogContent","dividers","Select","labelId","ev","selected","Autocomplete","layerNames","layer","handleLayerChange","autoHighlight","renderOptions","renderInput","params","defaultValue","concat","image","renderPropertyPicker","Switch","checked","renderImageCreator","renderInputForm","DialogActions","onError","otherProps","input","setInput","inputProps","CircularProgressWithLabel","bottom","right","fileName","setFileName","fileExt","URL","createObjectURL","Card","textAlign","memo","layers","editVersion","setCurrentCompositionFields","editIndex","setEditIndex","isDialogVisible","setIsDialogVisible","layerWithProperty","importVersionIndex","setImportVersionIndex","fieldsFromComp","composition","keys","layerType","flat","renderFieldPreview","draggableId","provided","snapshot","isDragging","draggableStyle","draggableProps","fieldPreview","deleteField","FormTextInput","FormImageInput","Tooltip","Add","select","parseInt","startAdornment","slice","option","onDragEnd","destination","source","droppableId","isDraggingOver","innerRef","AddAndUpdateFieldsDialog","prev","next","FieldPreviewContainer","dragHandleProps","Delete","onBack","LayerBuilder","min","max","multiline","rows","renderStep","StepContent","setComposition","openVersionMeta","isEdit","setActiveVersionIndex","openVersionDisplay","sample","onTouched","Transition","Slide","onDone","setActiveStep","onRequestClose","fullScreen","TransitionComponent","VersionStepper","CompositionPicker","VersionMeta","LayerAdder","VersionSampleField","handleAdd","extracted","compLayer","flatMap","k","isVersionValid","setIsVersionValid","Set","isVersionsFieldsDuplicate","setIsVersionsFieldsDuplicate","noOfImageInputs","noOfTextInputs","Ribbon","controls","poster","CardContent","CardActions","disableSpacing","handleEdit","AddOrUpdateVersionDialog","spacedText","invisible","onData","extractionServer","setExtractionServer","isUploadFailed","setIsUploadFailed","extractionUrlError","setExtractionUrlError","isUploading","setIsUploading","edit","hasPickedFile","setHasPickedFile","hasExtractedData","setHasExtractedData","extractionUrlLoading","setExtractionUrlLoading","getCompositionDetails","filePickerRef","handleFetchExtractionUrl","handlePickFile","uploadFile","forceExtract","stopPropagation","JSZip","loadAsync","async","handleReset","comp","allFields","uniqueFields","allLayers","onDragOver","onDrop","maxKeywords","tagInput","setTagInput","handleTagInput","onDelete","tagValue","projectFile","nullable","oneOf","setKeywords","isExtractionDone","setIsExtractionDone","setFieldError","setFieldTouched","ProjectFilePicker","ArrayInput","submitForm","isDrafted","setCompositions","setFonts","isVideoObjLoading","setIsVideoObjLoading","handleVideoTemplateMetaSubmit","allTextLayers","fontNames","sAssets","fontsTemp","Steps","VideoTemplateMetaForm","VersionDisplay","FormStepper","AddTemplate","setIsBlocking","useParams","draftIndex","pathname","FormBuilder","portions","hours","trunc","minutes","seconds","join","version","idVersion","renderPrefs","settingsTemplate","incrementFrame","fieldsToData","dataFillType","f","getNumberPalindrome","len","n","s1","s2","reverse","pricing","handleRenderJob","testJobs","full","half","averageTime","jobs","createTestJobs","isAllVersionHasRenderTime","Table","TableHead","TableRow","TableCell","TableBody","priceAndTimeForThiVersion","averageRenderTime","formatTime","onBackPress","handlePublish","createrLoyaltyPercentageShareValue","publishAction","persist","vItem","loyaltyCurrency","loyaltyValue","rejectReason","setRejectReason","publishState","rejectionReason","isRepublish","setPricing","Pricing","fetchPricing","navigateToNextStep","handleBacPress","ApproveStep","PublishSteps","RenderTimeStep","LoyaltyAmountStep","ownership","queryParam","selectedVideoTemplate","setSelectedVideoTemplate","isDeleting","setIsDeleting","closeSnackbar","handleAddTemplate","addTemplate","handleRefresh","delete","getDataFromQuery","orderBy","orderDirection","handleVideoTemplateUpdate","tableData","slug","createdBy","Fade","align","toLowerCase","getColorFromState","dateUpdated","timeago","components","Container","actions","guestTemplateUsed","videoTemplate","isFreeAction","sorting","JSONEditorDialoge","VideoTemplatePublishDialog","MyTemplates","PublicTemplates","templates","setTemplates","draftedAt","toLocaleString","lastIndexOf","ix","zip","require","zipMaker","aepFile","blob","downloadBlob","generateAsync","remove","filename","createElement","href","download","addEventListener","clickHandler","setTimeout","revokeObjectURL","removeEventListener","click","withStyles","colorPrimary","barColorPrimary","LinearProgress","expand","shortest","expandOpen","operationInProgress","setOperationInProgress","isPublishDialogOpen","setIsPublishDialogOpen","isGuestTemplate","template","handleDownload","Description","isOwner","toUpperCase","VideoTemplateCard","instancePrice","SpotPrice","expanded","setExpanded","aria-expanded","ExpandMore","Collapse","in","timeout","unmountOnExit","loyaltyAmount","scope","getNameFromActionText","VideoTemplatesTable","VideoTemplateForm","VideoTemplateDrafts","VideoTemplateDetails","setFont","setName","handleFontUpload","arrow","placement","actionName","actionValue","setAction","module","installFonts","FontUploader","handleFontInput","prerender","postrender","setIsEdit","actionType","setActionType","setInitialValue","isDialogOpen","setIsDialogOpen","prerenderActions","setPrerenderActions","postrenderActions","setPostrenderActions","handleOpen","PostRender","obj","PreRender","reorder","RootRef","rootRef","getListStyle","ContainerComponent","ContainerProps","getItemStyle","ActionDialog","listArray","sourceIndex","targetIndex","isConverting","setIsConverting","createRef","handleConvert","Jimp","read","quality","getBufferAsync","MIME_PNG","MIME_JPEG","cropEnabled","charsLeft","setCharsLeft","handleChangeInput","logs","setLogs","l","getFileText","d","finally","logColors","warning","info","px","Accordion","AccordionSummary","expandIcon","aria-controls","rendererInstance","instanceId","ipv4","AccordionDetails","line","level","timestamp","refreshIcon","loadingText","job","setJob","setOpen","socket","setSocket","redirect","setRedirect","isLoading","setIsLoading","activeTabIndex","setActiveTabIndex","selectedOutputIndex","setSelectedOutputIndex","fetchJob","io","connect","withCredentials","jobId","server","off","handleUpdateJob","noMessage","handleDeleteJob","output","renderTime","queueTime","dateCreated","dateFinished","dateStarted","failureReason","timeline","sortedOutput","State","percent","progressShow","handleUpdateAsset","renderJobInHd","alert","extra","forceRerender","handleAssetDelete","justifyItems","priority","autoWidth","o","centered","_","Grid","xs","toISOString","Timeline","startsAt","endsAt","TimelineItem","TimelineOppositeContent","TimelineSeparator","TimelineDot","TimelineConnector","TimelineContent","boxShadow","editable","onRowUpdate","newData","oldData","onRowDelete","editComponent","ImageEditRow","TextEditRow","ActionsHandler","compress","addWatermark","addThumbnail","addAudio","mergeVideos","rotateAction","outputModule","frameStart","frameEnd","LogsTab","checkedIcon","videoTemplates","setVideoTemplates","filters","setFilters","utils","DateFnsUtils","disableToolbar","KeyboardButtonProps","limitTags","idVideoTemplates","disableCloseOnSelect","getOptionLabel","renderOption","Fragment","Checkbox","states","logsRef","scrollIntoView","behavior","block","inline","activeJobs","setActiveJobs","jobStats","setJobStats","activeJobLogs","setActiveJobLogs","jobsData","setJobsData","selectedJobId","setSelectedJobId","initialJobsState","getStatus","paginate","forEach","j","created","dorender","predownload","postdownload","script","rendering","jobIdToBeFetched","finishedJobs","ActiveJobRow","jobData","ExpansionPanel","defaultExpanded","ExpansionPanelSummary","ExpansionPanelDetails","TableContainer","stickyHeader","LogsDialog","selectedJob","setSelectedJob","filterString","filterObjectToString","handleRetry","deleteMultipleJobs","array","deleteMultiple","ids","handleJobUpdate","TimeRenderer","handlePopoverClose","aria-owns","aria-haspopup","onMouseEnter","onMouseLeave","pointerEvents","disableRestoreFocus","restartMultiple","arrIds","updateMultiple","ActiveJobsTable","Filters","tagName","searchable","defaultSort","sourceCreatedBy","getColorFromSource","searchQuery","confirm","getArrayOfIdsAsQueryString","JobsTable","JobDetails","links","VideoLibrary","Work","Settings","Stars","RoleBasedRoute","Setting","VideoTemplates","Jobs","Users","spiring_black","spiring_white","hoverHighlight","backgroundImage","backgroundSize","backgroundRepeat","backButton","hoverUnderline","useTranslation","t","logo","heightInherit","viewportHeight","whiteText","whiteBg","Landing","justify","md","sm","landingIllustration","mb","Link","bgcolor","otherIllustration","videoIllustration","Branding","onSubmitJob","formikSubmit","vs","string","constraintsToYup","fieldComponents","readonly","schema","versionId","manualJob","setManualJob","renderSettings","as","FormGroup","handleVersionChoose","param","AppChild","appTheme","ThemeProvider","Auth","TestJob","PrivateRoute","Domains","NotFound","maxSnack","hostname","match","i18n","use","Backend","LanguageDetector","initReactI18next","fallbackLng","debug","whitelist","keySeparator","interpolation","escapeValue","ReactDOM","fallback","StrictMode","App","getElementById","serviceWorker","ready","registration","unregister","createImage","getRadianAngle","degreeValue","PI","getDiagonalLengthOfRectangle","sqrt","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","ctx","getContext","safeArea","beginPath","rect","fillStyle","translate","rotate","drawImage","getImageData","putImageData","canvasTemp","ctx2","toDataURL","readFile","reader","FileReader","readAsDataURL","ORIENTATION_TO_ANGLE","getRotatedImage","toBlob","defaultAuthValue","GoogleAuthProvider","initializing","AuthContext","AuthProvider","setToken","isAPIReady","apiToken","handleSetToken","setUser","setIsUserLoadingFromFirebase","setIsUserLoading","setInitializing","isUserRegistered","setIsUserRegistered","onAuthStateChanged","u","getIdToken","signInWithEmailAndPassword","updatedUser","sendPasswordResetEmail","origin","sendEmailVerification","createUserWithEmailAndPassword","apiRequest","str","encodeURIComponent","baseUrl","sortBy","extraParams","objectToQueryString","removeTemplate","guestTemplateUsedToBeRemoved","instance","updateMany","deleteMany","API","authToken","Authorization","APIContext","APIProvider","setIsAPIReady","methods","setMethods","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","settings","minimumFetchIntervalMillis","fetchTimeoutMillis","messaging","isSupported","usePublicVapidKey","onMessage","exports","cropAreaHeight","innerHeight","cropSize","setIsCropperOpen","onUpload","onCancel","crop","setCrop","setZoom","setRotation","minZoom","croppedAreaPixels","setCroppedAreaPixels","handleSave","ratio","cropperHeight","cropperWidth","innerWidth","gutterBottom","step","degree","autoFocus","maxZoom","onRotationChange","restrictPosition","aspect","onCropChange","onCropComplete","croppedArea","onZoomChange","preset","setCompress","setRotateAction","watermark","setAddWatermark","thumbnailDuration","setAddThumbnail","provider","bucket","acl","setUpload","input2","setMergeVideos","audio","setAddAudio","fileError","setFileError","eval","renderCompress","presets","renderUpload","renderWatermark","renderAddThumbnail","renderMergeVideos","renderRotateAction","transpose","renderAddAudio","isError","setIsError","cropImage","setCropImage","substring","setFilename","isCropperOpen","handleFile","handleCropImage","imageDataUrl","getOrientation","my","base64","base64Data","Buffer"],"mappings":"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C,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,GACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OAEOC,GAAoB,CAC/B1P,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,IACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,SACJC,GAAI,WACJC,GAAI,OACJC,GAAI,OACJC,GAAI,KACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,IACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,WACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,KACJC,GAAI,MACJC,GAAI,mBACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,SACJC,GAAI,OACJC,GAAI,WACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,IACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,MACJC,GAAI,MACJC,GAAI,KACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,KACJC,GAAI,SACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,mBACJC,GAAI,SACJC,GAAI,OACJC,GAAI,MACJC,GAAI,SACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,KACJC,GAAI,OACJC,GAAI,OACJC,GAAI,KACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,IACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,OACJC,GAAI,OACJC,GAAI,SACJC,GAAI,MACJC,GAAI,SACJC,GAAI,SACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,IACJC,GAAI,SACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,OACJC,GAAI,MACJC,GAAI,UACJC,GAAI,OACJC,GAAI,OACJC,GAAI,MACJC,GAAI,OACJC,GAAI,OACJC,GAAI,QAGOE,GAAoB,CAC/BC,IAAK,CACHC,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBC,IAAK,CACHL,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBE,IAAK,CACHN,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBG,IAAK,CACHP,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBI,IAAK,CACHR,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBK,IAAK,CACHT,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBM,IAAK,CACHV,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBO,IAAK,CACHX,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBQ,IAAK,CACHZ,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBS,IAAK,CACHb,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBU,IAAK,CACHd,OAAQ,eACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBW,IAAK,CACHf,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBY,IAAK,CACHhB,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBa,IAAK,CACHjB,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBc,IAAK,CACHlB,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBe,IAAK,CACHnB,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgB,IAAK,CACHpB,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiB,IAAK,CACHrB,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkB,IAAK,CACHtB,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmB,IAAK,CACHvB,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoB,IAAK,CACHxB,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqB,IAAK,CACHzB,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsB,IAAK,CACH1B,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuB,IAAK,CACH3B,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwB,IAAK,CACH5B,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByB,IAAK,CACH7B,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0B,IAAK,CACH9B,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2B,IAAK,CACH/B,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4B,IAAK,CACHhC,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6B,IAAK,CACHjC,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8B,IAAK,CACHlC,OAAQ,IACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+B,IAAK,CACHnC,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgC,IAAK,CACHpC,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiC,IAAK,CACHrC,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkC,IAAK,CACHtC,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmC,IAAK,CACHvC,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoC,IAAK,CACHxC,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqC,IAAK,CACHzC,OAAQ,UACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsC,IAAK,CACH1C,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuC,IAAK,CACH3C,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwC,IAAK,CACH5C,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByC,IAAK,CACH7C,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0C,IAAK,CACH9C,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2C,IAAK,CACH/C,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4C,IAAK,CACHhD,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6C,IAAK,CACHjD,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8C,IAAK,CACHlD,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+C,IAAK,CACHnD,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgD,IAAK,CACHpD,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiD,IAAK,CACHrD,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkD,IAAK,CACHtD,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmD,IAAK,CACHvD,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoD,IAAK,CACHxD,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqD,IAAK,CACHzD,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsD,IAAK,CACH1D,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuD,IAAK,CACH3D,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwD,IAAK,CACH5D,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByD,IAAK,CACH7D,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0D,IAAK,CACH9D,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2D,IAAK,CACH/D,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4D,IAAK,CACHhE,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6D,IAAK,CACHjE,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8D,IAAK,CACHlE,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+D,IAAK,CACHnE,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgE,IAAK,CACHpE,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiE,IAAK,CACHrE,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkE,IAAK,CACHtE,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmE,IAAK,CACHvE,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoE,IAAK,CACHxE,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqE,IAAK,CACHzE,OAAQ,OACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsE,IAAK,CACH1E,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuE,IAAK,CACH3E,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwE,IAAK,CACH5E,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByE,IAAK,CACH7E,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0E,IAAK,CACH9E,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2E,IAAK,CACH/E,OAAQ,SACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4E,IAAK,CACHhF,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6E,IAAK,CACHjF,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8E,IAAK,CACHlF,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+E,IAAK,CACHnF,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgF,IAAK,CACHpF,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiF,IAAK,CACHrF,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkF,IAAK,CACHtF,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmF,IAAK,CACHvF,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoF,IAAK,CACHxF,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqF,IAAK,CACHzF,OAAQ,iBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsF,IAAK,CACH1F,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuF,IAAK,CACH3F,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwF,IAAK,CACH5F,OAAQ,qBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByF,IAAK,CACH7F,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0F,IAAK,CACH9F,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2F,IAAK,CACH/F,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4F,IAAK,CACHhG,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6F,IAAK,CACHjG,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8F,IAAK,CACHlG,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+F,IAAK,CACHnG,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgG,IAAK,CACHpG,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiG,IAAK,CACHrG,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkG,IAAK,CACHtG,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmG,IAAK,CACHvG,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoG,IAAK,CACHxG,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqG,IAAK,CACHzG,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsG,IAAK,CACH1G,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuG,IAAK,CACH3G,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwG,IAAK,CACH5G,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByG,IAAK,CACH7G,OAAQ,iBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0G,IAAK,CACH9G,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2G,IAAK,CACH/G,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4G,IAAK,CACHhH,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6G,IAAK,CACHjH,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8G,IAAK,CACHlH,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+G,IAAK,CACHnH,OAAQ,UACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgH,IAAK,CACHpH,OAAQ,SACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiH,IAAK,CACHrH,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkH,IAAK,CACHtH,OAAQ,MACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmH,IAAK,CACHvH,OAAQ,qBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoH,IAAK,CACHxH,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqH,IAAK,CACHzH,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsH,IAAK,CACH1H,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuH,IAAK,CACH3H,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwH,IAAK,CACH5H,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByH,IAAK,CACH7H,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0H,IAAK,CACH9H,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2H,IAAK,CACH/H,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4H,IAAK,CACHhI,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6H,IAAK,CACHjI,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8H,IAAK,CACHlI,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+H,IAAK,CACHnI,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgI,IAAK,CACHpI,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiI,IAAK,CACHrI,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkI,IAAK,CACHtI,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmI,IAAK,CACHvI,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoI,IAAK,CACHxI,OAAQ,QACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqI,IAAK,CACHzI,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsI,IAAK,CACH1I,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuI,IAAK,CACH3I,OAAQ,eACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwI,IAAK,CACH5I,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByI,IAAK,CACH7I,OAAQ,gBACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0I,IAAK,CACH9I,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2I,IAAK,CACH/I,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4I,IAAK,CACHhJ,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6I,IAAK,CACHjJ,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8I,IAAK,CACHlJ,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+I,IAAK,CACHnJ,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgJ,IAAK,CACHpJ,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiJ,IAAK,CACHrJ,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkJ,IAAK,CACHtJ,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmJ,IAAK,CACHvJ,OAAQ,OACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoJ,IAAK,CACHxJ,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqJ,IAAK,CACHzJ,OAAQ,SACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsJ,IAAK,CACH1J,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuJ,IAAK,CACH3J,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwJ,IAAK,CACH5J,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByJ,IAAK,CACH7J,OAAQ,OACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB0J,IAAK,CACH9J,OAAQ,OACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB2J,IAAK,CACH/J,OAAQ,GACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB4J,IAAK,CACHhK,OAAQ,GACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB6J,IAAK,CACHjK,OAAQ,GACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB8J,IAAK,CACHlK,OAAQ,GACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhB+J,IAAK,CACHnK,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBgK,IAAK,CACHpK,OAAQ,MACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBiK,IAAK,CACHrK,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBkK,IAAK,CACHtK,OAAQ,OACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBmK,IAAK,CACHvK,OAAQ,KACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBoK,IAAK,CACHxK,OAAQ,OACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBqK,IAAK,CACHzK,OAAQ,GACRC,gBAAiB,EACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBsK,IAAK,CACH1K,OAAQ,SACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBuK,IAAK,CACH3K,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhBwK,IAAK,CACH5K,OAAQ,KACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,GAEhByK,IAAK,CACH7K,OAAQ,IACRC,gBAAiB,IACjBC,aAAc,IACdC,oBAAqB,IACrBC,cAAc,ICtyDZ0K,GAAkBjrB,wBAPH,CACnBkrB,qBAAsB,SAACjpB,EAAekpB,EAAiBC,GAAjC,MAAgE,IACtFC,SAAU,MACVpb,YAAa,MACbqb,0BAA2B,SAACrpB,GAAD,OAA2B,GACtDspB,wBAAyB,MAO3B,SAASC,KACP,IAAMtrB,EAAUC,qBAAW8qB,IAI3B,OAHK/qB,GACHE,QAAQC,IAAI,sDAEPH,EAET,SAASurB,GAAiBlrB,GAAgB,IAAD,EACTC,mBAAiB,MADR,mBAChCkrB,EADgC,KACvBC,EADuB,KAEvC5qB,qBAAU,WACRC,MACC,IAEH,IAAM4qB,EAAe3L,GAAa5P,GAAcqb,GAAW,OAAS,OAC9D1qB,EAAI,yCAAG,mCAAAC,EAAA,yDAEE,QADP0I,EAAOxD,aAAaG,QAAQ,YADvB,gBAGLulB,EAAexb,GAAc1G,GACjCgiB,GAAwB,OAAbvb,SAAa,IAAbA,QAAA,EAAAA,GAAe0b,eAAeD,IAAgBliB,EAAO,MAJvD,uCAMU2F,KANV,OAMH3F,EANG,OAOLkiB,EAAexb,GAAc1G,GACjCgiB,GAAwB,OAAbvb,SAAa,IAAbA,QAAA,EAAAA,GAAe0b,eAAeD,IAAgBliB,EAAO,MAChExD,aAAaC,QACX,WACa,OAAbgK,SAAa,IAAbA,QAAA,EAAAA,GAAe0b,eAAeD,KAAgBliB,GAAe,MAXtD,4CAAH,qDAeV5I,qBAAU,WACRgrB,KAAGC,MAAQ5b,KACV,CAACA,KACJ,IAAM8a,EAAuB,SAACe,EAAed,EAAiBC,GAC5D,IAAInpB,EAAQ8pB,KAAGE,GAAOC,KAAK,OAAOplB,GAAGuJ,GAAcqb,GAAW,OAAS,OAEjES,EAAIP,EAAY,aAAZ,UACHA,EAAY,OADT,YACuBT,EAAQiB,WAAWnqB,GAAOoqB,QAAQ,GAAKpqB,GAD9D,UAEHkpB,EAAQiB,WAAWnqB,GAAOoqB,QAAQ,GAAKpqB,EAFpC,YAE6C2pB,EAAY,QACnE,OAAiB,GAAT3pB,GAAcmpB,EAAW,OAASe,GAAGjjB,QAAQ,IAAK0iB,EAAY,eAElEN,EAA4B,SAACW,EAAed,GAChD,IAAMgB,EAAIJ,KAAGE,GAAOC,KAAK,OAAOplB,GAAGuJ,GAAcqb,GAAW,OAAS,OACrE,OAAIP,EAAciB,WAAWD,GAAGE,QAAQ,GACjCD,WAAWD,IAEdlqB,EAAQC,mBAAQ,WACpB,MAAO,CACLgpB,uBACAG,SAAUhb,GAAcqb,GAAW,OAAS,MAC5Czb,YAAa+P,GAAa0L,GAC1BJ,4BACAC,wBAAyBK,EAAY,mBAEtC,CAACF,IACJ,OAAO,kBAACT,GAAgB9oB,SAAjB,eAA0BF,MAAOA,GAAW1B,IC3CrD,SAAS+rB,GAAa/rB,GAIlB,IACMgsB,EAAsBhsB,EAAtBgsB,KAAMzoB,EAAgBvD,EAAhBuD,QAASgD,EAAOvG,EAAPuG,GACjB0lB,EAAatqB,mBACjB,kBACEuqB,sBAAW,SAACC,EAAWC,GAAZ,OACT,kBAAC,KAAD,eAAY7lB,GAAIA,EAAI6lB,IAAKA,GAASD,SAEtC,CAAC5lB,IAGH,OACE,4BACE,kBAAC8lB,EAAA,EAAD,CACE3lB,MAAO,CAAE4lB,OAAQ,IACjBC,QAAM,EACNjiB,UAAW2hB,GACVD,EAAO,kBAACQ,EAAA,EAAD,CAAc9lB,MAAO,CAAE+lB,WAAY,IAAMT,GAAuB,KACxE,kBAACU,EAAA,EAAD,CAAcnpB,QAASA,MAK/B,IAAMopB,GAAYC,aAAW,SAACvnB,GAAD,OAAWwnB,YAAa,CACnDpoB,KAAM,CACJmI,QAAS,OACTkgB,SAAU,GAEZC,OAAQ,CACNC,OAAQ3nB,EAAM2nB,OAAOC,OAAS,EAC9BC,WAAY7nB,EAAM8nB,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQhoB,EAAM8nB,YAAYE,OAAOC,MACjCC,SAAUloB,EAAM8nB,YAAYI,SAASC,iBAGzCC,YAAY,eACTpoB,EAAMqoB,YAAYC,GAAG,MAAQ,CAC5BjhB,MAAM,eAAD,OA1CS,IA0CT,OACL+f,WA3Cc,IA4CdS,WAAY7nB,EAAM8nB,YAAYC,OAAO,CAAC,QAAS,UAAW,CACxDC,OAAQhoB,EAAM8nB,YAAYE,OAAOC,MACjCC,SAAUloB,EAAM8nB,YAAYI,SAASK,mBAK3CC,WAAY,CAEVzgB,YAAa/H,EAAMyoB,QAAQ,IAG7BC,KAAM,CACJnhB,QAAS,QAEXqgB,OAAO,eACJ5nB,EAAMqoB,YAAYC,GAAG,MAAQ,CAC5BjhB,MA7Dc,IA8DdshB,WAAY,IAGhBC,WAAY,CACVvhB,MAlEgB,IAmEhBwgB,WAAY7nB,EAAM8nB,YAAYC,OAAO,QAAS,CAC5CC,OAAQhoB,EAAM8nB,YAAYE,OAAOC,MACjCC,SAAUloB,EAAM8nB,YAAYI,SAASK,kBAGzCM,YAAY,aACVhB,WAAY7nB,EAAM8nB,YAAYC,OAAO,QAAS,CAC5CC,OAAQhoB,EAAM8nB,YAAYE,OAAOC,MACjCC,SAAUloB,EAAM8nB,YAAYI,SAASC,gBAEvCW,UAAW,SACXzhB,MAAOrH,EAAMyoB,QAAQ,GAAK,GACzBzoB,EAAMqoB,YAAYC,GAAG,MAAQ,CAC5BjhB,MAAOrH,EAAMyoB,QAAQ,GAAK,IAG9BM,YAAa,CACX1hB,MApFgB,KAsFlB2hB,QAAQ,aACNzhB,QAAS,OACTC,WAAY,SACZC,eAAgB,SAChBvC,QAASlF,EAAMyoB,QAAQ,EAAG,IAEvBzoB,EAAMipB,OAAOD,SAElBE,QAAS,CACPC,SAAU,EACVjkB,QAASlF,EAAMyoB,QAAQ,IAEzBW,KAAM,GAGNC,KAAM,CACJF,SAAU,QAeC,SAASG,GAAT,GAA4C,IAAD,QAAzBC,EAAyB,EAAzBA,MAAOjpB,EAAkB,EAAlBA,OAChCkpB,EAAUlC,KACRxmB,EAASD,cAATC,KAGFd,GAFsBiC,eAApBD,gBACeoG,KAAfF,WACMuhB,eACNnE,EAAyBM,KAAzBN,qBANgD,EAOpB1qB,oBAAS,GAPW,mBAOjDguB,EAPiD,KAOrCc,EAPqC,OAQxB9uB,mBAAS,MARe,mBAQjD+uB,EARiD,KAQvCC,EARuC,KAShDC,EAAYhpB,cAAZgpB,QACF3nB,EAAUC,cAVwC,EAWbrC,IAXa,mBAoBlDmJ,GApBkD,eAoB3C6gB,QAAQH,IAMf9nB,EAAc,WAClB+nB,EAAY,OAERhC,EAAU,oCAAE,yBAAKmC,UAAWP,EAAQR,SACxC,kBAAC5hB,EAAA,EAAD,CAAK4iB,KAAM,GACT,kBAAC5oB,EAAA,EAAD,CACE6oB,QAAM,EACNhlB,UAAWilB,KACXhpB,GAAG,QACHI,QAAQ,KACR1B,MAAM,cACNyB,MAAO,CACL8D,YAAa,GACbglB,eAAgB,OAChBrrB,WAAY,IACZH,WAAY,YAVhB,YAeF,kBAACkI,EAAA,EAAD,CAAYE,QA7BY,WACxB2iB,GAAc,KA6BS,QAApB1pB,EAAMoqB,UACL,kBAAC,IAAD,MAEA,kBAAC,IAAD,QAIJ,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACGf,EAAMxtB,KAAI,SAACwuB,EAAMC,GAAP,aACT,kBAACC,GAAD,CAAezuB,IAAKuuB,EAAKG,KAAMvhB,aAAY,iBAAEohB,QAAF,IAAEA,OAAF,EAAEA,EAAMphB,oBAAR,QAAwB,IACjE,kBAACud,GAAD,CACE1qB,IAAKuuB,EAAKG,KAAOH,EAAK5D,KACtBzlB,GAAIqpB,EAAKrpB,GACThD,QAAS0qB,EAAa2B,EAAKG,KAAO,GAClC/D,KAAM4D,EAAK5D,aAMfgE,OAAuB9iB,IAAXvH,EAAuB,kBAAMA,IAASsqB,SAASC,WAAOhjB,EACxE,OACE,yBAAKkiB,UAAWP,EAAQpqB,MACtB,kBAAC0rB,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CACEnkB,SAAS,QACTmjB,UAAWiB,YAAKxB,EAAQ9B,OAAT,eACZ8B,EAAQpB,YAAcQ,KAEzB,kBAACqC,EAAA,EAAD,KACE,kBAACpkB,EAAA,EAAD,CACEjH,MAAM,UACNkH,aAAW,cACXC,QApEe,WACvB2iB,GAAc,IAoENziB,KAAK,QACL8iB,UAAWiB,YAAKxB,EAAQhB,WAAT,eACZgB,EAAQd,KAAOE,KAElB,kBAAC,IAAD,OAEDA,EACC,8BAEA,kBAACxnB,EAAA,EAAD,CACExB,MAAM,UACNqF,UAAWilB,KACXhpB,GAAG,QACH+oB,QAAM,EACN3oB,QAAQ,KACRD,MAAO,CACL8oB,eAAgB,OAChBrrB,WAAY,IACZH,WAAY,YAThB,WAcF,yBAAKorB,UAAWP,EAAQH,OACxB,yBAAKU,UAAWP,EAAQJ,MACtB,kBAAC8B,EAAA,EAAD,CACE7pB,MAAO,CAAE0G,YAAa,IACtBojB,OAAQ,kBAAC,KAAD,MACR7rB,MAAK,UAAKgmB,EAAqBkB,WAAW,GAAD,wBAAI1lB,QAAJ,IAAIA,GAAJ,UAAIA,EAAMsqB,sBAAV,aAAI,EAAsBC,eAA1B,QAAqC,KAAK,IACnF/pB,QAAQ,YAEV,kBAAC4pB,EAAA,EAAD,CACEC,OAAQ,kBAACG,EAAA,EAAD,CAAQC,IAAI,SAClBC,KAAS,OAAJ1qB,QAAI,IAAJA,OAAA,EAAAA,EAAM2qB,WAAY,6FAEzBnsB,MAAK,OAAEwB,QAAF,IAAEA,OAAF,EAAEA,EAAMsC,KACb2D,QAhGO,SAACjC,GAClB8kB,EAAW,OAAC9kB,QAAD,IAACA,OAAD,EAACA,EAAO4mB,gBAgGTpqB,QAAQ,YAEV,kBAACqqB,EAAA,EAAD,CACEnlB,GAAG,cACHmjB,SAAUA,EACViC,aAAc,CACZC,SAAU,MACVC,WAAY,SAEdC,aAAW,EACXC,gBAAiB,CACfH,SAAU,MACVC,WAAY,SAEd7iB,KAAMA,EACNJ,QAAShH,GACT,yBAAKR,MAAO,CAAEkG,QAAS,OAAQ0kB,cAAe,WAC5C,kBAAC7qB,EAAA,EAAD,CACE6oB,QAAM,EACNrqB,MAAM,cACNyB,MAAO,CACL8D,YAAa,GACbC,aAAc,GACd+kB,eAAgB,OAChBxrB,WAAY,YAPhB,gBAWA,kBAACyC,EAAA,EAAD,CACE6oB,QAAM,EACNrqB,MAAM,cACNyB,MAAO,CACL8D,YAAa,GACbC,aAAc,GACdI,aAAc,GACd1G,WAAY,IACZqrB,eAAgB,OAChBxrB,WAAY,YAThB,OAWGmC,QAXH,IAWGA,OAXH,EAWGA,EAAMa,OAET,kBAAC0oB,EAAA,EAAD,OAEF,kBAAC6B,EAAA,EAAD,CAAUnlB,QAAS,WACjBlF,IACAK,EAAQiqB,KAAK,gCAFf,WAIA,kBAACD,EAAA,EAAD,CACEnlB,QAAS,WACPlF,IACAgoB,MAHJ,cAWR,kBAACuC,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACE5B,UAAWA,EACXrpB,QAAQ,YACRkrB,OAA4B,QAApBxsB,EAAMoqB,UAAsB,QAAU,OAC9CnhB,KAAM2f,EACN/f,QA3KmB,kBAAM6gB,GAAc,SAAAviB,GAAC,OAAKA,MA4K7CqiB,QAAS,CACPhrB,MAAOgrB,EAAQT,aAEjB0D,WAAY,CACVV,aAAa,IAGdnE,IAGL,kBAACwE,EAAA,EAAD,CAAQM,QAAM,EAACJ,eAAe,OAC5B,kBAACC,EAAA,EAAD,CACEjrB,QAAQ,YACRyoB,UAAWiB,YAAKxB,EAAQ5B,QAAT,mBACZ4B,EAAQZ,WAAaA,GADT,cAEZY,EAAQX,aAAeD,GAFX,IAIfY,QAAS,CACPhrB,MAAOwsB,aAAI,mBACRxB,EAAQZ,WAAaA,GADb,cAERY,EAAQX,aAAeD,GAFf,MAKZhB,KCjWI,gBAACjtB,GAAgB,IAAD,IACGkG,cAAxBC,EADqB,EACrBA,KAAMC,EADe,EACfA,cADe,EAEWnG,sBAAqBkG,IAASC,IAFzC,mBAEtBC,EAFsB,KAERC,EAFQ,KAM7B,OAHA9F,qBAAU,WACR8F,KAAmBH,IAASC,MAC3B,CAACD,EAAMC,IACLC,GACD,UAACrG,EAAMwO,oBAAP,aAAC,EAAoBG,SAApB,OAA6BxI,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAM6rB,QAAgC,MAAvBhyB,EAAMwO,aAEhD,kBAAC,IAAUxO,GADT,kBAAC,IAAD,CAAUuG,GAAG,cAFI,kBAAC,IAAD,CAAUA,GAAG,Y,2KCW1B,cAAO,IACVc,EAAoBC,eAApBD,gBACA4qB,EAAcC,eAAdD,UAFS,GAGC/rB,cAAVisB,MACgBlyB,mBAKpB,CACImyB,UAAWC,OAASC,QAAQ,KAAKC,SACjCC,QAASH,OAASI,MAAM,KAAKF,SAC7BlxB,IAAK,eAZI,mBAIVqxB,EAJU,KAIJC,EAJI,OAea1yB,oBAAS,GAftB,mBAeV0H,EAfU,KAeDC,EAfC,OAgB+B3H,mBAAmB,OAhBlD,mBAgBV2yB,EAhBU,KAgBQC,EAhBR,KAiBXC,EAAgB,SAAhBA,EAAiBvF,GAEnB,IAAMwF,EAAa,GACnB,OAFAxF,EAAWA,GAAYqF,GAGnB,IAAK,MACD,IAAK,IAAI/C,EAAQwC,KAAOK,EAAKN,WAAYvC,EAAMmD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAAMpD,EAAMoD,IAAI,EAAG,KACzGF,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAM0C,SAAUhsB,GAAI8rB,KAAOxC,EAAM0C,UAAUU,IAAI,EAAG,KAAKC,SAAS,EAAG,KAAKX,WAEpG,OAAOQ,EACX,IAAK,OACD,IAAK,IAAIlD,EAAQwC,KAAOK,EAAKN,WAAYvC,EAAMmD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAAMpD,EAAMoD,IAAI,EAAG,KACzGF,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAMyC,QAAQ,KAAKC,SAAUhsB,GAAIspB,EAAM4C,MAAM,KAAKF,WAE9E,OAAOQ,EACX,IAAK,QACD,IAAK,IAAIlD,EAAQwC,KAAOK,EAAKN,WAAYvC,EAAMmD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAAMpD,EAAMoD,IAAI,EAAG,KACzGF,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAMyC,QAAQ,KAAKC,SAAUhsB,GAAIspB,EAAM4C,MAAM,KAAKF,WAE9E,OAAOQ,EACX,IAAK,OACD,IAAK,IAAIlD,EAAQwC,KAAOK,EAAKN,WAAYvC,EAAMmD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAAMpD,EAAMoD,IAAI,EAAG,SAEzGF,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAMyC,QAAQ,SAASC,SAAUhsB,GAAIspB,EAAM4C,MAAM,SAASF,WAEtF,OAAOQ,EACX,IAAK,SACD,IAAMI,EAAYC,KAAKxI,MAAOyH,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,WAAa,GAAM,IAAO,GAC1G,GAAIe,GAAY,GACZ,OACWL,EADPK,GAAY,EACS,MAEhBA,GAAY,EACI,OAEA,SAGzB,IAAK,IAAItD,EAAQwC,KAAOK,EAAKN,WAAYvC,EAAMmD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAAMpD,EAAMoD,IAAI,EAAG,KACzG,GAAIZ,KAAOxC,EAAM0C,UAAUU,IAAI,EAAG,KAAKD,SAASX,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAM,KAC9EF,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAM0C,SAAUhsB,GAAI8rB,KAAOxC,EAAM0C,UAAUU,IAAI,EAAG,KAAKC,SAAS,EAAG,KAAKX,eAC7F,CACH,IAAMe,EAAoBF,KAAKxI,MAAOyH,KAAOK,EAAKF,SAASa,KAAKxD,EAAO,WAAa,GAAM,IAAO,GACjGkD,EAAWvB,KAAK,CAAE7F,KAAMkE,EAAM0C,SAAUhsB,GAAI8rB,KAAOxC,EAAM0C,UAAUU,IAAIK,EAAkB,KAAKJ,SAAS,EAAG,KAAKX,WAGvH,OAAOQ,EAEf,QACI,MAAO,KAjEF,EAoEmB9yB,mBAA0C6yB,EAAcF,IApE3E,mBAoEVG,EApEU,KAoEEQ,EApEF,OAqEStzB,mBAAwB,MArEjC,mBAqEVuzB,EArEU,KAqEHC,EArEG,OAsEOxzB,mBAEb,MAxEM,mBAsEVyzB,EAtEU,KAsEJC,EAtEI,OAyEerrB,IAAMrI,SAAS,MAzE9B,mBAyEV+uB,EAzEU,KAyEAC,EAzEA,OA0E+BhvB,oBAAS,GA1ExC,mBA0EV2zB,EA1EU,KA0EQC,EA1ER,OA2EO5zB,mBAAS,YA3EhB,mBAoFX6zB,GApFW,UAoFF,yCAAG,+CAAApzB,EAAA,sEAEJqzB,EAAQjB,EAAcF,GAC5BW,EAAcQ,GACdnsB,GAAW,GAJD,SAKSqqB,EAAU+B,gBAAgBtB,EAAKN,UAAWM,EAAKF,QAAS,YALjE,OASV,IAJIzxB,EALM,OAMV0yB,GAAe,OAAN1yB,QAAM,IAANA,OAAA,EAAAA,EAAQyyB,QAAS,MACpBS,GAAe,2BAAClzB,QAAD,IAACA,OAAD,EAACA,EAAQ2yB,YAAT,QAAiB,UAAjB,eAAsBtyB,KAAI,SAACwuB,GAAD,OAAUA,EAAK/jB,QAAO,GACjEqoB,EAAqC,GAR/B,WASDrE,GACL,IAAMsE,EAAaF,EAAYpE,GAC1BqE,EAAoBE,MAAK,SAAAvoB,GAAE,OAAIA,IAAOsoB,MACvCD,EAAoB1C,KAAK2C,IAHxBtE,EAAQ,EAAGA,EAAQoE,EAAYI,OAAQxE,IAAU,EAAjDA,GAMT8D,EAAQO,EAAoB9yB,KAAI,SAACkzB,GAAD,cAAsB,CAClD7rB,MAAY,OAAN1H,QAAM,IAANA,GAAA,UAAAA,EAAQ2yB,YAAR,mBAAcU,MAAK,qBAAGvoB,KAAgByoB,YAAtC,eAAwDC,QAAS,GACvEb,KAAMK,EAAM3yB,KAAI,SAACozB,GAAD,sBAAkBzzB,QAAlB,IAAkBA,GAAlB,UAAkBA,EAAQ2yB,YAA1B,iBAAkB,EAAce,QAAO,gBAAG5oB,EAAH,EAAGA,GAAI6mB,EAAP,EAAOA,KAAP,OAAkB7mB,IAAOyoB,GACzEjC,KAAOK,GAAMgC,UAAUrC,KAAM,OAACmC,QAAD,IAACA,OAAD,EAACA,EAAc7I,MAAO0G,KAAM,OAACmC,QAAD,IAACA,OAAD,EAACA,EAAcjuB,IAAK,IAAK,gBADzE,aAAkB,EAE/B8tB,eAGPzsB,GAAW,GAtBD,kDAwBVA,GAAW,GACX+rB,EAAQ,MACRJ,EAAcT,EAAcF,IAC5Ba,EAAS,MACTpsB,EAAgB,GAAD,oDACR,EAAgBN,eADR,QACmB,wBAC9B,CACIJ,QAAS,QACTguB,OAAQ,kBAAM,kBAAC5nB,GAAA,EAAD,CAAQE,KAAK,QAAQhI,MAAM,UAAU+F,SAAS,QAAQoB,QAAS0nB,OAhC3E,0DAAH,sDAqCftzB,qBAAU,WACDozB,GACDE,MAEL,CAACpB,EAAMkB,IACVpzB,qBAAU,YACDwuB,GAAY4E,GACbC,GAAoB,KAEzB,CAAC7E,EAAU4E,IAEd,IAIM1sB,EAAc,WAChB+nB,EAAY,OAGV3gB,EAAO6gB,QAAQH,GACfnjB,EAAKyC,EAAO,sBAAmBpB,EAE/B0nB,EAAiB,WACnB/B,EAAoB,OACpBF,EAAQ,CACJP,UAAWC,OAASC,QAAQ,KAAKC,SACjCC,QAASH,OAASI,MAAM,KAAKF,SAC7BlxB,IAAK,eAuNb,OACI,kBAACoL,EAAA,EAAD,KACI,kBAACooB,GAAA,EAAD,CAAOnuB,MAAO,CAAE6D,QAAS,KACrB,kBAACkC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUC,eAAgB,kBACjE,kBAACC,GAAA,EAAD,CAAQX,QAASwoB,EAAgB5pB,SAAS,QAAQrE,QAAQ,aAC1D,kBAAC8F,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAU4f,WAAY,GAAIrf,YAAa,KAC9E,kBAAClB,EAAA,EAAD,CAAYC,aAAW,WAAWC,QAnK3B,WACvB,OAAQwmB,GACJ,IAAK,SAED,IAAMkC,EAAazC,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,WACrEO,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWc,SAAS4B,EAAY,WAAWxC,QAAQ,KAAKC,SAC/EC,QAASH,KAAOK,EAAKF,SAASU,SAAS4B,EAAa,EAAG,WAAWrC,MAAM,KAAKF,SAC7ElxB,IAAK,cAET,MACJ,IAAK,MACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKZ,QAAQ,KAAKC,SAChEC,QAASH,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKT,MAAM,KAAKF,SAC5DlxB,IAAK,cAET,MACJ,IAAK,OACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKZ,QAAQ,QAAQC,SACnEC,QAASH,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKT,MAAM,QAAQF,SAC/DlxB,IAAK,cAET,MAEJ,IAAK,QACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKZ,QAAQ,SAASC,SACpEC,QAASH,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKT,MAAM,SAASF,SAChElxB,IAAK,cAET,MAEJ,IAAK,OACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKZ,QAAQ,QAAQC,SACnEC,QAASH,KAAOK,EAAKN,WAAWc,SAAS,EAAG,KAAKT,MAAM,QAAQF,SAC/DlxB,IAAK,iBA8HG,kBAAC,KAAD,CAAkB0C,SAAS,WAE/B,kBAACmI,EAAA,EAAD,CAAYC,aAAW,OAAOC,QA5N3B,WACnB,OAAQwmB,GACJ,IAAK,SAED,IAAMkC,EAAazC,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,WACrEO,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWa,IAAI6B,EAAa,EAAG,WAAWxC,QAAQ,KAAKC,SAC9EC,QAASH,KAAOK,EAAKF,SAASS,IAAI6B,EAAY,WAAWrC,MAAM,KAAKF,SACpElxB,IAAK,cAET,MACJ,IAAK,MACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKX,QAAQ,KAAKC,SACzDC,QAASH,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKR,MAAM,KAAKF,SACrDlxB,IAAK,cAET,MACJ,IAAK,OACDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKX,QAAQ,QAAQC,SAC5DC,QAASH,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKR,MAAM,QAAQF,SACxDlxB,IAAK,cAET,MAEJ,IAAK,QAEDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKX,QAAQ,SAASC,SAC7DC,QAASH,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKR,MAAM,SAASF,SACzDlxB,IAAK,cAET,MACJ,IAAK,OAEDsxB,EAAQ,CACJP,UAAWC,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKX,QAAQ,QAAQC,SAC5DC,QAASH,KAAOK,EAAKF,SAASS,IAAI,EAAG,KAAKR,MAAM,QAAQF,SACxDlxB,IAAK,cAET,MACJ,QACIsxB,EAAQ,CACJP,UAAWC,OAASC,QAAQ,KAAKC,SACjCC,QAASH,OAASI,MAAM,KAAKF,SAC7BlxB,IAAK,iBA+KG,kBAAC,KAAD,CAAqB0C,SAAS,WAElC,kBAACgJ,GAAA,EAAD,CACIX,QApPD,SAACjC,GACpB8kB,EAAY9kB,EAAM4mB,gBAoPEgE,UAAW,kBAAC,KAAD,OACgD,GAA1D1C,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,KAAYC,KAAOK,EAAKN,WAAW4C,OAAO,MAA5F,UAAuG3C,KAAOK,EAAKN,WAAW4C,OAAO,eAArI,cAAyJ3C,KAAOK,EAAKF,SAASwC,OAAO,gBACtL,kBAACzE,EAAA,EAAD,CAAM7pB,MAAO,CACT3C,SAAU,EAAGuoB,OAAQ,GACrBG,WAAY,GAAI9f,UAAW,GAC5BhI,MAAOiuB,EAAiBqC,oBAAqBhoB,KAAK,WAExDqB,EAAO,kBAAC4mB,GAAA,EAAD,CACJrpB,GAAIA,EACJyC,KAAMA,EACN0gB,SAAUA,EACV9gB,QAAShH,EACT+pB,aAAc,CACVC,SAAU,MACVC,WAAY,QAEhBE,gBAAiB,CACbH,SAAU,MACVC,WAAY,SAElByC,EAAmB,kBAACnnB,EAAA,EAAD,CAAK/F,MAAO,CAAE4qB,cAAe,SAAU1kB,QAAS,SAAhD,IAA2D,kBAAC,aAAD,CAC5EuoB,oBAAoB,EACpB9pB,SAAU,SAAAukB,GAAI,OAAI+C,EAAQ,2BACnB/C,EAAKwF,WADa,IAErBhD,UAAWC,KAAOzC,EAAKwF,UAAUhD,WAAWE,QAAQ,KAAKC,SACzDC,QAASH,KAAOzC,EAAKwF,UAAU5C,SAASC,MAAM,KAAKF,aAEvD8C,2BAA2B,EAC3BC,OAAQ,CAAC5C,KACX,kBAAC3lB,GAAA,EAAD,CAAQE,KAAK,QAAQb,QAASlF,EAC5BP,QAAQ,YACRqE,SAAS,QACT/F,MAAM,aAAqB,kBAACswB,GAAA,EAAD,CAAU7uB,MAAO,CAAE8uB,SAAU,MA7U9D,CACd,MACA,OACA,QACA,UA0U+Bp0B,KAAI,SAACC,GAAD,OAAS,kBAACkwB,EAAA,EAAD,CACpBnlB,QAAS,kBA/JX,SAACmhB,GAEvB,OADAsF,EAAoBtF,GACZA,GACJ,IAAK,SACDsG,GAAoB,GACpB,MACJ,IAAK,MAEGxB,KAAOK,EAAKF,SAASC,MAAM,KAAKgD,QAAQpD,OAASI,MAAM,MACvDmC,IAEAjC,EAAQ,CACJP,UAAWC,KAAOK,EAAKF,SAASF,QAAQ,KAAKC,SAC7CC,QAASH,KAAOK,EAAKF,SAASC,MAAM,KAAKF,SACzClxB,IAAK,cAIb6F,IACA,MACJ,IAAK,OACDyrB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWE,QAAQ,KAAKC,SAC/CC,QAASH,KAAOK,EAAKN,WAAWK,MAAM,KAAKF,SAC3ClxB,IAAK,cAET6F,IACA,MAEJ,IAAK,QACDyrB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWE,QAAQ,SAASC,SACnDC,QAASH,KAAOK,EAAKN,WAAWK,MAAM,SAASF,SAC/ClxB,IAAK,cAET6F,IACA,MACJ,IAAK,OACDyrB,EAAQ,CACJP,UAAWC,KAAOK,EAAKN,WAAWE,QAAQ,QAAQC,SAClDC,QAASH,KAAOK,EAAKN,WAAWK,MAAM,QAAQF,SAC9ClxB,IAAK,cAET6F,IACA,MACJ,QACIyrB,EAAQ,CACJP,UAAWC,OAASC,QAAQ,KAAKC,SACjCC,QAASH,OAASI,MAAM,KAAKF,SAC7BlxB,IAAK,cAET6F,KA4G+BwuB,CAAkBr0B,IACjC2J,SAAU3J,EAAI4zB,2BAGT,kBAACxoB,EAAA,EAAD,SAIzB,kBAACA,EAAA,EAAD,CAAK/F,MAAO,CACRivB,UAAW,IAAK/oB,QAAS,OAAQgpB,WAAY,GAAIC,cAAe,GAChE/oB,eAAgB,kBAEhB,kBAAC+nB,GAAA,EAAD,CAAOnuB,MAAO,CACVgG,MAAO,MAAOE,QAAS,OAAQ0f,OAAQ,IAAKzf,WAAY,SAAUC,eAAgB,WAEjFnF,EAAU,kBAAC0F,GAAA,EAAD,MACP,kBAAC,KAAD,CAAW3G,MAAO,CAAEovB,UAAW,aAAcF,WAAY,KACrD,kBAACnvB,EAAA,EAAD,CAAYE,QAAQ,KAAK1B,MAAM,WAA/B,eACA,kBAACwB,EAAA,EAAD,CAAYxB,MAAM,iBAA2E,GAA1DotB,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,KAAYC,KAAOK,EAAKN,WAAW4C,OAAO,MAA5F,UAAuG3C,KAAOK,EAAKN,WAAW4C,OAAO,eAArI,cAAyJ3C,KAAOK,EAAKF,SAASwC,OAAO,gBAAxN,KAA2O,kBAACzE,EAAA,EAAD,CAAM7pB,MAAO,CACpP3C,SAAU,EAAGuoB,OAAQ,GACrBG,WAAY,GAAI9f,UAAW,GAC5BhI,MAAOiuB,EAAiBqC,oBAAqBhoB,KAAK,WACrD,kBAACxG,EAAA,EAAD,CAAYE,QAAQ,KAAK1B,MAAM,WAAWuuB,GAAS,SAG/D,kBAACqB,GAAA,EAAD,CAAOnuB,MAAO,CACVgG,MAAO,MAAOE,QAAS,OAAQ0f,OAAQ,IACvCzf,WAAY,SAAUC,eAAgB,WAErCnF,EAAU,kBAAC0F,GAAA,EAAD,MACG,OAAVmmB,IAAA,OAAkBT,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAYgD,OAAM,oBAAGpK,YAAH,MAAU,GAAV,MAAcplB,GAAd,OAA4BolB,SAA5B,MAAmB,GAAnB,OAA0C,kBAAC,KAAD,CAC1Ejf,MAAO,IACPspB,QAAS,CACLC,MAAO,CACH3yB,KAAM,MACNgpB,OAAQ,IACR5f,MAAO,IACPwpB,SAAS,EACTC,KAAM,CAAEC,SAAS,GACjB/H,QAAS,CACLgI,MAAM,IAGdC,YAAa,CACTC,IAAK,CACDpF,YAAY,IAGpBqF,OAAQ,CACJ9pB,MAAO,EACP+pB,OAAQ,CAAC,SAEblC,MAAO,CACHxE,KAAM,0BAEV2G,MAAO,CACH3D,aACA4D,OAAQ,CACJC,UAAW,SAAUC,GACjB,OAnKlB,SAACn1B,GACnB,OAAQkxB,GACJ,IAAK,MACD,OAAOP,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAI0sB,IAAI,EAAG,KAAK+B,OAAO,MAChD,IAAK,OACD,OAAO3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,eACpC,IAAK,QACD,OAAO3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,UACpC,IAAK,OACD,OAAO3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,OACpC,IAAK,SACD,IAAM7B,EAAYC,KAAKxI,MAAOyH,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,WAAa,GAAM,IAAO,GAC1G,OAAIe,GAAY,GACRA,GAAY,EACLd,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAI0sB,IAAI,EAAG,KAAK+B,OAAO,MACrC7B,GAAY,EACZd,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,eAEzB3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,UAG9B,GAAN,OAAU3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAOiqB,MAAMqJ,OAAO,UAArC,cAAoD3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,WAErF,QACI,MAAO,IA2I4B8B,CAAcD,MAIjCE,MAAO,CAEHJ,OAAQ,CACJC,UAAW,SAAUC,GACjB,OAAOA,EAAM,MAKzBG,QAAS,CACLC,EAAG,CACCL,UAAW,SAAUC,GACjB,MAAM,GAAN,OAAUA,EAAV,WAELK,EAAG,CACFN,UAAW,SAAUC,GACjB,OA5JlB,SAACn1B,GACnB,OAAQkxB,GACJ,IAAK,MACD,MAAM,GAAN,OAAUP,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAOiqB,MAAMqJ,OAAO,MAArC,cAAgD3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAI0sB,IAAI,EAAG,KAAK+B,OAAO,OACzF,IAAK,OAEL,IAAK,QACD,MAAM,GAAN,OAAU3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,gBACvC,IAAK,OACD,OAAO3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,OACpC,IAAK,SACD,IAAM7B,EAAYC,KAAKxI,MAAOyH,KAAOK,EAAKF,SAASa,KAAKhB,KAAOK,EAAKN,WAAY,WAAa,GAAM,IAAO,GAC1G,OAAIe,GAAY,GACRA,GAAY,EACN,GAAN,OAAUd,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAOiqB,MAAMqJ,OAAO,MAArC,cAAgD3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAI0sB,IAAI,EAAG,KAAK+B,OAAO,OAG/E,GAAN,OAAU3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,gBAKjC,GAAN,OAAU3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAOiqB,MAAMqJ,OAAO,UAArC,cAAoD3C,KAAM,OAAC3wB,QAAD,IAACA,OAAD,EAACA,EAAO6E,IAAIyuB,OAAO,WAErF,QACI,MAAO,IAmI4BmC,CAAcN,MAIjCO,KAAM,CACFC,QAAS,GAEbC,OAAQ,CACJrrB,SAAU,SACVsrB,gBAAiB,SAKzBC,OAAQ9D,GAAQ,GAChBpwB,KAAK,MAAMgpB,OAAQ,MAAU,kC,WClgB1C,eAAsG,IAAnGvlB,EAAkG,EAAlGA,QAAoB0wB,GAA8E,EAAzFC,UAAyF,EAA9ED,SAA8E,IAArE1sB,gBAAqE,MAA1D,QAA0D,MAAjDwpB,aAAiD,MAAzC,GAAyC,EAArCoD,EAAqC,EAArCA,WAAqC,IAAzBjxB,aAAyB,MAAjB,GAAiB,EAClH,OACE,kBAACoE,GAAA,EAAD,CACEpE,MAAK,aAAImE,aAAc,IAAOnE,GAC9BqE,SAAUA,EAEV4pB,OACE8C,GACE,kBAAC1qB,GAAA,EAAD,CACEX,QAAS,kBAAMqrB,KACfxyB,MAAM,UACNgI,KAAK,SACJ0qB,GAAc,UAIpBpD,EAAQ,kBAACqD,GAAA,EAAD,KAAarD,GAAsB,GAC3CxtB,ICzBQ,cAAO,IAAD,EACab,cAAtBC,EADS,EACTA,KAAM0xB,EADG,EACHA,YADG,EAEa53B,mBAAS,uCAFtB,mBAEV8G,EAFU,KAED+wB,EAFC,OAGO73B,mBAA6B,WAHpC,mBAGVqD,EAHU,KAGJy0B,EAHI,KAIXC,EAAY,yCAAG,uBAAAt3B,EAAA,sEACXm3B,IADW,OAEjBC,EAAW,4CAAD,cAA6C3xB,QAA7C,IAA6CA,OAA7C,EAA6CA,EAAMa,MAAnD,mDACV+wB,EAAQ,QAHS,2CAAH,qDAKlB,cAAI5xB,QAAJ,IAAIA,OAAJ,EAAIA,EAAM8xB,eACC,8BAEJ,kBAACC,GAAD,CAAcnxB,QAASA,EAAS4wB,WAAW,SAC9C5sB,SAAUzH,EACVm0B,QAASO,KCZF,SAASG,KACtB,OACE,kBAAC1rB,EAAA,EAAD,KACE,kBAAC2rB,GAAD,MACA,kBAACC,GAAD,O,oCCCN,SAASC,GAASt4B,GAAa,IACrBgL,EAAqChL,EAArCgL,SAAUtJ,EAA2B1B,EAA3B0B,MAAOmuB,EAAoB7vB,EAApB6vB,MAAU0I,EADP,aACiBv4B,EADjB,8BAG5B,OACE,uCACEgyB,KAAK,WACLwG,OAAQ92B,IAAUmuB,EAClBnpB,MAAO,CAAE4lB,OAAQ,OAAQ5f,MAAO,QAChCb,GAAE,4BAAuBgkB,GACzBxhB,kBAAA,uBAAiCwhB,IAC7B0I,GACH72B,IAAUmuB,EACT,kBAACpjB,EAAA,EAAD,CAAK/F,MAAO,CAAE4lB,OAAQ,OAAQ5f,MAAO,SAClC1B,GAED,+BAYV,IAAM2hB,GAAYC,aAAW,SAACvnB,GAAD,MAAY,MAuB1B,SAASozB,GAAT,GAA+E,IAAD,IAAtDC,EAAsD,EAAtDA,KAAsD,IAAhDC,uBAAgD,MAA9B,EAA8B,EAA3BC,EAA2B,EAA3BA,iBAExDzyB,GADQwmB,KACCzmB,cAATC,MAFmF,EAGjEmC,IAAMrI,SAAS04B,GAHkD,mBAGpFj3B,EAHoF,KAG7Em3B,EAH6E,KAI3Fr4B,qBAAU,WACJm4B,IAAoBj3B,GACtBiI,EAAa,KAAMgvB,KAEpB,CAACA,IACJ,IAAMhvB,EAAe,SAACQ,EAAY2uB,GAChCD,EAASC,GACTF,GAAoBA,EAAiBE,IAGvC,OACE,kBAACjE,GAAA,EAAD,KAEE,kBAACkE,GAAA,EAAD,CACEr3B,MAAOA,EACP2J,SAAU1B,EACVqvB,eAAe,UACfC,UAAU,UACVtyB,QAAQ,aACRuyB,cAAc,QANhB,UAQGR,EACEjE,QAAO,qBAAGjmB,aAAgCG,SAAb,OAAsBxI,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAM6rB,gBAT9D,aAQG,EAEG5wB,KAAI,WAAYyuB,GAAZ,IAAGlrB,EAAH,EAAGA,MAAH,OACJ,kBAACw0B,GAAA,EAAD,eACEx0B,MAAOA,GA3DrB,SAAmBkrB,GACjB,MAAO,CACLhkB,GAAG,gBAAD,OAAkBgkB,GACpB,gBAAgB,qBAAhB,OAAsCA,IAyDxBuJ,CAAUvJ,SAfxB,UAoBG6I,EACEjE,QAAO,qBAAGjmB,aAAgCG,SAAb,OAAsBxI,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAM6rB,gBArB9D,aAoBG,EAEG5wB,KAAI,WAAmCyuB,GAAnC,IAAGvlB,EAAH,EAAGA,UAAH,EAAckE,aAAd,OACJ,kBAAC8pB,GAAD,CAAU52B,MAAOA,EAAOmuB,MAAOA,GAC5BvlB,O,yBCxFE,cAAO,IAAD,MACWpE,cAAtBC,EADW,EACXA,KAAMkzB,EADK,EACLA,YACNC,EAASpH,eAAToH,KACAjyB,EAAoBC,eAApBD,gBAHW,EAI2BpH,mBAAiB,GAJ5C,mBAIZs5B,EAJY,KAIKC,EAJL,OAK+Bv5B,oBAAkB,GALjD,mBAKZw5B,EALY,KAKOC,EALP,OAMWz5B,oBAAkB,GAN7B,mBAMZ0H,EANY,KAMHC,EANG,KAObS,EAAsB,yCAAG,oCAAA3H,EAAA,6DAAS+H,EAAT,EAASA,KAAMqoB,EAAf,EAAeA,SAAf,SAK3BlpB,GAAW,GALgB,SAML0xB,EAAKK,OAAO,CAAElxB,SANT,cAMrBmxB,EANqB,0BAOrB5wB,KAAaC,mBAPQ,aAOrB,EAA0B4wB,cAAc,CAAEC,YAAarxB,EAAMqoB,aAPxC,wBAQrBuI,EAAYO,EAAQlG,MARC,QAS3B9rB,GAAW,GACXP,EAAgB,gCAAiC,CAC/CV,QAAS,YAXgB,kDAc3BiB,GAAW,GACXP,EAAgB,2BAA4B,CAC1CV,QAAS,UAhBgB,0DAAH,sDAoBtBozB,EAAkB,yCAAG,WAAOC,GAAP,sBAAAt5B,EAAA,0DACrBs5B,EADqB,iCAGrBN,GAAqB,IACfO,EAAOt3B,aAAO,GAAD,wBAAIwD,QAAJ,IAAIA,OAAJ,EAAIA,EAAM+zB,WAAV,QAAiB,QAAjB,0BAAmC/zB,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAMa,MAAzC,YAAkDgzB,EAAKvxB,KAAK0xB,MAAM,KAAKC,OAASJ,IAC9FK,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC5Bf,EAAmBc,EAASC,MANT,SAQSN,EAAKpsB,UARd,gBAS7BiB,GADwBA,EARK,EAQf0rB,UACNC,WAAW,QAAS3rB,EAAxB,kBAAyCA,GACrC4qB,GAAqB,GACrBgB,EAAc,WAAY5rB,GAC1B0qB,EAAmB,GAZE,kDAcrBA,EAAmB,GACnBE,GAAqB,GACrBryB,EAAgB,yCAA0C,CACxDV,QAAS,UAjBU,0DAAH,sDA3BL,EA0Df2C,aAAU,CACZC,cAAe,CACbd,KAAI,iBAAEtC,QAAF,IAAEA,OAAF,EAAEA,EAAMsC,YAAR,eAAgBtC,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAM2zB,YAC1BhJ,SAAQ,iBAAE3qB,QAAF,IAAEA,OAAF,EAAEA,EAAM2qB,gBAAR,QAAoB,IAE9BtnB,iBAAkBC,KAAW,CAC3BhB,KAAMgB,OAAaC,SAAS,wBAC5BonB,SAAUrnB,SAEZxC,SAAUoB,IAhBVsB,EAnDiB,EAmDjBA,aACAC,EApDiB,EAoDjBA,WACAC,EArDiB,EAqDjBA,aACA6wB,EAtDiB,EAsDjBA,cACA5wB,EAvDiB,EAuDjBA,OACAC,EAxDiB,EAwDjBA,OACAC,EAzDiB,EAyDjBA,QAYF,OAAO,kBAAC,KAAD,CACL/C,SAAU4C,EACVe,YAAU,EACVN,UAAW,OACX5D,MAAO,CACL6D,QAAS,GAAIC,YAAa,GAAIC,aAAc,GAC5CE,OAAQ,IAEV,kBAAC,GAAD,CAAYjE,MAAO,CAAEmE,aAAc,KAAnC,gBACA,kBAAC4B,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAU8tB,SAAU,SAC7D,kBAACluB,EAAA,EAAD,CAAK/F,MAAO,CACVkG,QAAS,OAAQC,WAAY,SAAUykB,cAAe,SACtDlkB,YAAa,GACbvC,aAAc,GACdiC,eAAgB,WAEhB,2BACE8tB,OAAO,UACPvvB,SAAU,gBAAawvB,EAAb,EAAGC,OAAUD,MAAb,OAA2Bd,GAAoBc,GAAS,IAAI,KACtEn0B,MAAO,CAAEkG,QAAS,QAClBf,GAAG,wBACHkvB,UAAQ,EACRz3B,KAAK,SAEP,yBAAKoD,MAAO,CAAE4lB,OAAQ,IAAK5f,MAAO,IAAKsuB,aAAc,GAASr3B,WAAY,aACxEitB,IAAI,UAAUC,IAAK/mB,EAAOgnB,UAAY,6FACxC,2BAAOnlB,QAAQ,yBACb,kBAACoB,GAAA,EAAD,CAAQrG,MAAO,CAAEiG,UAAW,GAAImpB,UAAW,UACzC7oB,KAAK,QACL3C,UAAU,OACV6C,SAAUssB,GAAqB9xB,EAC/BotB,UAAW0E,EAAoB,kBAACpsB,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,kBAACguB,GAAA,EAAD,CAAWh2B,MAAM,UAAUlB,SAAU,UACrHiH,SAAUyuB,EAAiB,UAAMrG,KAAK8H,MAAwB,IAAlB3B,GAAjB,KAA6C,SAAUt0B,MAAM,UAAU0B,QAAQ,eAGhH,kBAAC8F,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQ0kB,cAAe,WAC5C,kBAACrmB,GAAA,EAAD,CACExC,KAAM,OACNkC,OAAO,QACPjJ,MAAOoI,EAAOrB,KACd9D,MAAM,YACNyG,OAAQxB,EACRyB,SAAU1B,EACVlC,MAAOuC,EAAQvB,QAAUsB,EAAOtB,KAChC9B,QAAS,WACT4E,YAAY,kBACZC,WACExB,EAAQvB,MAAQsB,EAAOtB,KAAvB,OACIsB,QADJ,IACIA,OADJ,EACIA,EAAQtB,KACR,KAGR,kBAACsE,GAAA,EAAD,CAAQI,SAAUssB,GAAqB9xB,EAASjB,MAAO,CAAEiG,UAAW,GAAImpB,UAAW,cACjF7oB,KAAK,QACL3J,KAAK,SACL0H,SAAUrD,EAAU,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,SAAUhI,MAAM,UAAU0B,QAAQ,kB,qBCrIpGw0B,GAAe,yCAAG,WAAOpL,GAAP,gBAAArvB,EAAA,sEAEN06B,UAAUC,YAAYC,MAAM,CAAE7yB,KAAM,oBAF9B,UAGP,YADd1H,EAFqB,QAGhBw6B,OAAsC,UAAhBx6B,EAAOw6B,MAHb,yCAIhBH,UAAUI,UAAUC,UAApB,UAAiC1L,IAAQ7gB,MAAK,WACjD,OAAOnB,QAAQC,aAChB,SAAU0tB,GACT,OAAO3tB,QAAQE,OAAO,8CAPH,2CAAH,sDAaf0tB,GAA2B,SAA3BA,EAA4BC,EAAQt4B,EAC7Cu4B,GAEA,OADAA,EAAeA,GAAgB,KAC1BD,EAEgB,aAAjBC,EACKv4B,EAMEs4B,EAAC,OALG,CACHE,WAAYH,EAAyBC,EAAG,aAAcC,GACtDE,YAAaJ,EAAyBC,EAAG,cAAeC,IAK/Dv4B,EAMDs4B,EAAEt4B,GACKs4B,EAAEt4B,GACC,GAPH,CACHw4B,WAAYF,EAAC,WACbG,YAAaH,EAAC,aAdP,IAsBNI,GAAc,kBAAM5I,KAAK6I,SAASC,SAAS,IAAIC,OAAO,EAAG,IAEzDC,GAAwB,yCAAG,WAAOC,EAAuBC,EAAiBC,GAA/C,oCAAA77B,EAAA,yDACnB,OAAb67B,EADgC,iCAET17B,MAAM,GAAD,OAAIw7B,GAAiBv7B,6DAArB,KAA8D,CACtFyO,OAAQ,OACRP,QAAS,CACLwtB,OAAQ,mBACR,eAAgB,oBAEpBtM,KAAM5uB,KAAKm7B,UAAU,CAAEH,cARK,YAE1BrtB,EAF0B,QAUnBjO,GAVmB,iCAWgCiO,EAAShO,OAXzC,uBAWpBy7B,EAXoB,EAWpBA,aAAcC,EAXM,EAWNA,aAXM,IAWQC,WAXR,MAWcN,EAXd,oBAYrB,CAAEI,eAAcC,eAAcC,IAAKA,GAAON,IAZrB,oBAclBjzB,MAdkB,UAcL4F,EAAShO,OAdJ,2JAcZ,EAAyB8F,QAdb,gDAcwB,wBAdxB,0EAgBZ,aAAbw1B,EAhByB,kCAmBX17B,MAAM,GAAD,OAAIw7B,GAAiBv7B,wCAA8C,CACzFyO,OAAQ,OACRP,QAAS,CACLwtB,OAAQ,mBACR,eAAgB,oBAEpBtM,KAAM5uB,KAAKm7B,UAAU,CAAEH,cAzBK,YAmB5BrtB,EAnB4B,QA2BlBjO,GA3BkB,6BA4BlBqI,MA5BkB,UA4BL4F,EAAShO,OA5BJ,2JA4BZ,EAAyB8F,QA5Bb,kEA8BfkI,EAAShO,OA9BM,eA8BhCgO,EA9BgC,yBAgCzB,CAAEytB,aAAY,UAAGztB,SAAH,aAAE,EAAmBytB,aAAcC,aAAc,GAAIC,IAAG,UAAE3tB,SAAF,aAAE,EAAU2tB,MAhCzD,cAkC1B,IAAIvzB,MAAM,0BAlCgB,4CAAH,0D,sBC9BtB,cAAO,IACVkE,EAAeE,KAAfF,WADS,EAEarH,cAAtBC,EAFS,EAETA,KAAMkzB,EAFG,EAEHA,YACNC,EAASpH,eAAToH,KAHS,EAIar5B,mBAAmC,IAJhD,mBAIV0H,EAJU,KAIDC,EAJC,KAKTP,EAAoBC,eAApBD,gBALS,EAMepH,oBAAkB,GANjC,mBAMV48B,EANU,KAMAC,EANA,KAOXC,EAAiBx0B,sBAAW,yCAAC,WAAO7C,GAAP,gBAAAhF,EAAA,sEAE3BkH,EAAW,UAFgB,SAGrB2F,IAHqB,uBAIL+rB,EAAKK,OAAO,GAAI,CAAEqD,aAAct3B,IAJ3B,cAIrBk0B,EAJqB,gBAKrBP,EAAYO,EAAQlG,MALC,OAM3BrsB,EAAgB,WAAD,OAAY3B,EAAZ,mBAAmC,CAC9CiB,QAAS,YAEbiB,EAAW,IATgB,kDAY3BA,EAAW,IACXP,EAAgB,+CAAgD,CAC5DV,QAAS,UAdc,0DAAD,sDAiB/B,IACGs2B,EAAe10B,sBAAW,wBAAC,6BAAA7H,EAAA,sEAEzBkH,EAAW,UAFc,SAGnB2F,IAHmB,uBAIH+rB,EAAKK,OAAO,GAAI,CAAEqD,aAAc,WAJ7B,cAInBpD,EAJmB,gBAKnBP,EAAYO,EAAQlG,MALD,OAMzBrsB,EAAgB,+BAAgC,CAC5CV,QAAS,YAEbiB,EAAW,IATc,kDAWzBA,EAAW,IAEXP,EAAgB,iDAAkD,CAC9DV,QAAS,UAdY,0DAiB9B,IAEGu2B,EAAa30B,sBAAW,wBAAC,6BAAA7H,EAAA,+EAEjBy6B,GAAe,iBAACh1B,QAAD,IAACA,OAAD,EAACA,EAAMg3B,cAAP,QAAiB,IAFf,OAGvB91B,EAAgB,+BAAgC,CAC5CV,QAAS,YAJU,+CAOvBU,EAAgB,GAAD,OAAI,KAAeN,SAAW,0BAA4B,CACrEJ,QAAS,UARU,wDAW5B,CAACR,IAKJ,OAAO,kBAAC,KAAD,CACHO,MAAO,CACH6D,QAAS,GAAIC,YAAa,GAAIC,aAAc,GAC5CE,OAAQ,IAEZ,kBAAC,GAAD,CAAYjE,MAAO,CAAEmE,aAAc,KAAnC,WACA,kBAACqtB,GAAD,CAAcnxB,SAAa,OAAJZ,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,0LAA4L,+GAAgHpyB,UAAc,OAAJ5E,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,UAAY,UAClX,OAAJh3B,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,kBAAC1wB,EAAA,EAAD,CAAK/F,MAAO,CAAEmE,aAAc,KACxC,kBAACI,GAAA,EAAD,CACI3H,KAAOu5B,EAAoB,WAAT,OAClBO,gBAAiB,QACjBzyB,OAAO,QACPsC,KAAK,QACLvG,MAAO,CACHmE,aAAc,EAAG9G,SAAU,GAC3B2G,SAAU,KAEdQ,WAAY,CACRa,aAAc,kBAACU,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACrD,kBAACX,EAAA,EAAD,CAAYE,QAtBJ,WACxB0wB,GAAY,SAAAtwB,GAAC,OAAKA,MAqBwCL,aAAW,WAChD0wB,EAAW,kBAAC,KAAD,CACR53B,MAAM,UAAUlB,SAAU,UAAc,kBAAC,KAAD,CACxCkB,MAAM,UAAUlB,SAAU,WAElC,kBAAC2rB,EAAA,EAAD,CAAShpB,MAAO,CACZ4lB,OAAQ,GACR3hB,OAAQ,GACT0yB,YAAY,aACf,kBAACnxB,EAAA,EAAD,CAAYE,QAAS8wB,EAAY/wB,aAAW,WACxC,kBAAC,KAAD,CAAsBlH,MAAM,UAAUlB,SAAU,aAI5D4C,QAAQ,WAAWjF,MAAK,iBAAKyE,QAAL,IAAKA,OAAL,EAAKA,EAAMg3B,WAClC,8BACT,kBAAC1wB,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACvC,kBAACE,GAAA,EAAD,CACII,SAAsB,WAAZxF,EAEVqD,SAAsB,WAAZrD,EAAuB,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,MAAa,OAAJ9G,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,cAAgB,eACjH/wB,QAAS,kBAAM2wB,GAAmB,OAAJ52B,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,SAAW,aACxDx2B,QAAQ,YAAY1B,MAAM,aACzB,OAAJkB,QAAI,IAAJA,OAAA,EAAAA,EAAMg3B,QAAS,kBAACpwB,GAAA,EAAD,CACZI,SAAsB,WAAZxF,EACVjB,MAAO,CAAE+lB,WAAY,IAAMzhB,SAAsB,WAAZrD,EAAuB,cAAgB,SAC5EyE,QAAS6wB,EACTh4B,MAAM,cAAiB,iCCjHxB,cACX,OAAO,kBAACwH,EAAA,EAAD,KACH,kBAAC8B,GAAD,CAAgBpH,YAAY,gBAC5B,kBAAC,KAAD,KACI,kBAACuoB,EAAA,EAAD,OAEJ,kBAAC4N,GAAD,QCRO,cACX,OAAO,kBAAC,KAAD,CACH52B,MAAO,CACH6D,QAAS,GAAIC,YAAa,GAAIC,aAAc,GAC5CE,OAAQ,IAEZ,kBAAC,GAAD,CAAYjE,MAAO,CAAEmE,aAAc,KAAnC,YACA,kBAAC,GAAD,sBCCO,kBACb,IACM0yB,EALC,IAAIC,gBAAgBC,cAAcC,QAKvBC,IAAI,QAAU,UAC1Bp2B,EAAUC,cAHG,EAIiBvH,mBAASs9B,GAJ1B,mBAIZK,EAJY,KAIAC,EAJA,KAKbnF,EAAO,CACX,CACE/zB,MAAO,UACPtD,IAAK,UACLiJ,UAAW,kBAACwzB,GAAD,MACXtvB,aAAc,CAAC,QAAS,SAE1B,CACE7J,MAAO,cACP2F,UAAW,kBAACyzB,GAAD,MACX18B,IAAK,cACLmN,aAAc,CAAC,QAAS,SAE1B,CACE7J,MAAO,WACP2F,UAAW,kBAAC0zB,GAAD,MACX38B,IAAK,WACLmN,aAAc,CAAC,QAAS,UAM5B,OAHAhO,qBAAU,WACRq9B,EAAcN,KACb,CAACA,IAEF,kBAAC9E,GAAD,CACEG,iBAAkB,SAAC/I,GAAD,OAAWtoB,EAAQiqB,KAAR,6BAAmCkH,EAAK7I,GAAOxuB,OAC5Es3B,gBAAiBD,EAAKuF,WAAU,qBAAG58B,MAAkBu8B,KACrDlF,KAAMA,K,WCxCZ,SAAS5tB,GAAM9K,GACb,OAAO,kBAAC,KAAD,eAAUk+B,UAAW,EAAGv3B,QAAQ,UAAa3G,IAGvC,mBAAuC,IAApCsO,EAAmC,EAAnCA,KAAMvH,EAA6B,EAA7BA,QAASzD,EAAoB,EAApBA,KAAM4K,EAAc,EAAdA,QACrC,OACE,kBAACiwB,GAAA,EAAD,CACElN,aAAc,CAAEC,SAAU,SAAUC,WAAY,SAChD7iB,KAAMA,EACN8vB,iBAAkB,IAClBlwB,QAASA,GACT,kBAAC,GAAD,CAAOA,QAASA,EAASnD,SAAUzH,GAChCyD,K,oDCaM,YAAC/G,GAAW,IAAD,YACJq+B,cAATxvB,GADa,EAClB+tB,IADkB,EACb/tB,MACLtH,EAAUC,cAFQ,EAGY0qB,eAARoH,GAHJ,EAGhBgF,IAHgB,EAGXC,cAHW,EAGIjF,MAHJ,EAIYr5B,oBAAS,GAJrB,gCAKEA,mBAAS,OALX,mBAKjBwH,EALiB,KAKVC,EALU,OAMsBzH,mBAAS,MAN/B,gCAOgBA,oBAAS,IAPzB,gCAQAA,mBAAS,KART,mBAQX0zB,GARW,aASA1zB,mBAAS,QATT,mBAUlBu+B,GAVkB,UAUPC,iBAAO,OAVA,GAWPv4B,cAATC,KACA6rB,KACC,UAAMlxB,0BAAN,cAgBS8rB,aAAW,SAACvnB,GAAD,MAAY,CACvCZ,KAAM,CACJmI,QAAS,OACTE,eAAgB,eAChB4xB,SAAU,SACVC,gBAAiBt5B,EAAMhC,QAAQM,WAAWE,OAE5C+6B,SAAU,CACRlyB,MAAO,KAETsf,KAAM,CACJ/mB,MAAO,6BAET45B,QAAS,CACPpS,WAAY,OAGAE,GAEwB1sB,mBAAQ,iBAC9CD,QAD8C,IAC9CA,GAD8C,UAC9CA,EAAO8+B,gBADuC,iBAC9C,EAAiBvD,aAD6B,aAC9C,EAAwBwD,iBADsB,QACT,CAAEC,QAAQ,EAAOC,KAAK,KAjDrC,mBAgDjBC,EAhDiB,KAgDHC,EAhDG,KAmDxB3+B,qBAAU,YACE,yCAAG,uBAAAE,EAAA,kEACXizB,EADW,SACG2F,EAAK8F,OAAO,EAAG,IADlB,6EAAH,qDAGV1L,KACC,IAEH,IAIMsL,EAAgBE,EAAhBF,OAAQC,EAAQC,EAARD,IAEd,OACE,kBAAC,KAAD,KACGx3B,GACC,kBAACywB,GAAD,CACEnxB,QAASU,EAAMV,QACf2wB,WAAW,EACXD,QAZY,WAClB/vB,GAAS,GACT82B,EAASa,SAAWb,EAASa,QAAQC,mBAanC,kBAACC,GAAD,CACEjxB,KAAM2wB,GAAOD,EACb17B,KAAM07B,EAAS,UAAY,QAC3Bj4B,QACEi4B,EAAM,iBACFA,QADE,IACFA,OADE,EACFA,EAAQj4B,eADN,QACiB,uBADjB,iBAEFk4B,QAFE,IAEFA,OAFE,EAEFA,EAAKl4B,eAFH,QAEc,8CAEtBmH,QAAS,kBAAMixB,EAAgB,CAAEH,QAAQ,EAAOC,KAAK,OAEvD,kBAACxyB,EAAA,EAAD,CACEG,QAAQ,OACRC,WAAW,MACXC,eAAe,gBACfwkB,cAAc,MACd1F,EAAG,IAGL,kBAAC,KAAD,CACE4S,SAAUA,EACVjK,MAAM,WACNiL,WAAY,SAACC,EAAD,GAAgB,IAAV5zB,EAAS,EAATA,GAChBtE,EAAQiqB,KAAR,UAAgB3iB,GAAhB,OAAuBhD,KAEzB6zB,QAAS,CACP,CACEnL,MAAO,OACPoL,MAAO,OAEPC,OAAQ,gBAAGC,EAAH,EAAGA,SAAUp3B,EAAb,EAAaA,KAAb,OAAwB,yBAAK/B,MAAO,CAAEkG,QAAS,OAAQ0kB,cAAe,MAAOzkB,WAAY,WAC/F,kBAAC8jB,EAAA,EAAD,CAAQjqB,MAAO,CAAE0G,YAAa,GAAIkf,OAAQ,GAAI5f,MAAO,IAAMkkB,IAAI,YAAYC,IAAKgP,IAC/Ep3B,KAGL,CACE8rB,MAAO,aACPoL,MAAO,MAGT,CACEpL,MAAO,QACPoL,MAAO,UAGXG,aAAc,CACZ5P,KAAM,CACJ6P,uBAAwB,kBAACt5B,EAAA,EAAD,4BAG5Bu5B,YAAa,CACX,CACEJ,OAAQ,SAACK,GAAD,OACN,kBAAC,KAAD,CACEC,kBAAkB,EAClBz3B,KAAMw3B,EAAQp0B,GACds0B,UAAW,EACXtP,IAAKoP,KAGTjU,KAAM,OACNgL,QAAS,cAIbtD,KAAM,SAAC4H,GAAD,OAcFhC,EAAK8F,OAAO9D,EAAM8E,KAAO,EAAG9E,EAAM+E,UAC/BnxB,MAAK,YAAkC,IAA/BwkB,EAA8B,EAA9BA,KAAa4M,EAAiB,EAAxB9M,MACb,MAAO,CACLE,OACA0M,KAAM9E,EAAM8E,KACZE,iBAGHC,OAAM,SAACtB,GAEN,OADAv3B,EAASu3B,GACF,CACLvL,KAAM,GACN0M,KAAM9E,EAAM8E,KACZE,WAAY,OAItBtK,QAAS,CACPqK,SAAU,GACVG,YAAa,CAAEr8B,WAAY,KAC3Bs8B,cAAe,IACfC,oBAAqB,OCrMhB,cACb,OACE,kBAAC,KAAD,KACE,kBAACj6B,EAAA,EAAD,uBCCS,eAAqD,IAAvCk6B,EAAsC,EAAjDr2B,UAAsBiqB,EAA2B,EAA3BA,MAAOv0B,EAAoB,EAApBA,MAI3C,OAHAQ,qBAAU,WACNyvB,SAASsE,MAAT,gBAA0BA,EAAK,aAASA,GAAU,MACnD,CAACA,IACG,kBAACoM,EAAc3gC,ICHX,cAAO,IACZ6O,EAASwvB,cAATxvB,KAEN,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,KAAc+xB,OAAK,EAC1BhB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWw2B,GAAYvM,MAAM,kBAEzD,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,QAAiB+wB,OAAQ,SAAA5/B,GAAK,OACrC,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWy2B,GAAaxM,MAAM,2B,+BCiBnD,gBAACgH,EAAO5G,GAAY,IAAD,QAChC,OAAQA,EAAOrxB,MAEb,IAvBgC,uBAwB9B,IAAM09B,EAAgBzF,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAAOhgC,KAAI,WAA0DyuB,GAAW,IAAlEvsB,EAAiE,EAAjEA,KAAM+9B,EAA2D,EAA3DA,aAAcC,EAA6C,EAA7CA,YAAa/1B,EAAgC,EAAhCA,YAAa5G,EAAmB,EAAnBA,MAC5Hg7B,GAAoB,OAAZ0B,QAAY,IAAZA,OAAA,EAAAA,EAAcE,YAAd,OAA0BF,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAcG,UACtD,OAAI7M,EAAOuM,QAAQF,cAAcryB,SAASgxB,GACjCpE,EAAM0F,SAAS,GAAGG,OAAOzM,EAAOuM,QAAQF,cAAcS,QAAQ9B,IACxD,CAAEr8B,OAAM+9B,eAAcC,cAAa/1B,cAAa5G,YAIjE,OAFA42B,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAASJ,EAEpD9/B,OAAOC,OAAO,GAAIo6B,GAE3B,IApC0B,iBAqCxB,IAAM6F,EAAS7F,EAAM0F,UAAe,OAANtM,QAAM,IAANA,GAAA,UAAAA,EAAQuM,eAAR,eAAiBQ,sBAAuB,GAAGN,OAAO3M,QAAO,gBAAG4M,EAAH,EAAGA,aAAH,OACpF1M,EAAOuM,QAAQS,0BAA4B,IAAIhzB,SAAS0yB,EAAaE,cAKxE,OAFAhG,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAASA,EAEpDlgC,OAAOC,OAAO,GAAIo6B,GAG3B,IA7CuB,cA+CrB,OADAA,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAxCxD,SAA2BQ,EAAMC,EAAYC,GAC3C,IAAM/gC,EAASghC,MAAMpW,KAAKiW,GAD2B,EAEnC7gC,EAAOihC,OAAOH,EAAY,GAArCI,EAF8C,oBAIrD,OADAlhC,EAAOihC,OAAOF,EAAU,EAAGG,GACpBlhC,EAoCwDmhC,CAAkB3G,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAAQzM,EAAOuM,QAAQiB,UAAWxN,EAAOuM,QAAQkB,iBACzKlhC,OAAOC,OAAO,GAAIo6B,GAE3B,IA3D2B,kBA4DzB,OAAO,2BAAKA,GAAU5G,EAAOuM,QAAQx/B,OAGvC,IA7D0B,iBA8DxB,OAAO,2BACF65B,GADL,IAEE0F,SAAU1F,EAAM0F,SAASxM,QACvB,SAAC7E,EAAMC,GAAP,OAAiBA,IAAU8E,EAAOuM,QAAQC,wBAMhD,IAtE6B,oBA4E3B,OALA5F,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAA9B,2BACK5F,EAAM0F,SAAStM,EAAOuM,QAAQC,qBADnC,IAEEC,OAAM,oBAAE7F,EAAM0F,SAAStM,EAAOuM,QAAQC,2BAAhC,aAAE,EAAmDC,cAArD,QAA+D,IAClEzM,EAAOuM,QAAQx/B,OAEbR,OAAOC,OAAO,GAAIo6B,GAI3B,IA7EwB,eA2FtB,OAbAA,EAAK,2BACAA,GADA,IAEH0F,SAAU1F,EAAM0F,SAAS7/B,KAAI,SAACwuB,EAAMC,GAClC,OAAIA,IAAU8E,EAAOuM,QAAQC,mBACpB,2BACFvR,GADL,IAEEwR,OAAQxR,EAAKwR,OAAO3M,QAClB,SAACkL,EAAO0C,GAAR,OAAuB1N,EAAOuM,QAAQmB,aAAeA,OAG7CzS,OAMpB,IAhGqB,YAoGnB,OAHA2L,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAAO5P,KAAzD,eACOmD,EAAOuM,QAAQvB,QAEfz+B,OAAOC,OAAO,GAAIo6B,GAG3B,IAtGwB,eA0GtB,OAHAA,EAAM0F,SAAStM,EAAOuM,QAAQC,oBAAoBC,OAChDzM,EAAOuM,QAAQmB,YADjB,eAES1N,EAAOuM,QAAQvB,OACjBz+B,OAAOC,OAAO,GAAIo6B,GAG3B,IA1GsB,aA2GpB,OAAO,eAAK5G,EAAOuM,SAErB,IA9GuB,cA+GrB,MAAO,CACL3M,MAAO,GACP+N,YAAat5B,KAAaC,YAAYixB,IACtC52B,KAAI,UAAEqxB,EAAOuM,eAAT,aAAE,EAAgB59B,KACtButB,IAAK,GACLoQ,SAAU,GACVsB,YAAa,GACbC,SAAU,GACV7F,aAAc,GACd8F,MAAO,GACPC,UAAW,IAEf,QACE,MAAM,IAAIr5B,MAAM,2BClIhBs5B,GAAuBljC,0BAEvBmjC,GAAgB,SAAC,GAAkB,IAAhB53B,EAAe,EAAfA,SAAe,EACZ63B,qBAAWC,GAAgB,CACnDvO,MAAO,GACP+N,YAAat5B,KAAaC,YAAYixB,IACtCrJ,IAAK,GACLvtB,KAAM,KACN29B,SAAU,GACVsB,YAAa,GACbC,SAAU,GACV7F,aAAc,GACd8F,MAAO,GACPC,UAAW,KAXyB,mBAC/BnH,EAD+B,KACxBwH,EADwB,KActC,OACE,kBAACJ,GAAqB/gC,SAAtB,CACEF,MAAO,CAAC65B,EAAOwH,GACf/3B,SAAUA,KCPD,SAASg4B,KAAc,IAAD,EACT16B,IAAM1I,WAAW+iC,IADR,mBACrBI,GADqB,WAGnC,MAAO,CACLE,eAAgB,SAAU9B,EAAoBH,GAC5C+B,EAAS,CACPz/B,KFR4B,uBES5B49B,QAAS,CAAEC,qBAAoBH,oBAGnCkC,iCAAkC,SAChCxB,EACAP,EACAQ,GAEAoB,EAAS,CACPz/B,KFpBsB,iBEqBtB49B,QAAS,CAAEQ,sBAAoBP,qBAAoBQ,+BAGvDwB,cAAe,SAAUzhC,GAEvBqhC,EAAS,CACPz/B,KFpCuB,kBEqCvB49B,QAAS,CAAEx/B,YAOf0hC,gBAAiB,SAAUjC,EAAoBz/B,GAE7CqhC,EAAS,CACPz/B,KF5CyB,oBE6CzB49B,QAAS,CACPx/B,QACAy/B,yBAINkC,cAAe,SAAUlC,GACvB4B,EAAS,CACPz/B,KFtDsB,iBEuDtB49B,QAAS,CACPC,yBAKNmC,WAAY,SAAUz3B,GAAkB,IAAdvI,EAAa,uDAAN,KAC/By/B,EAAS,CAAEz/B,KFzDU,cEyDS49B,QAAS,CAAEr1B,KAAIvI,WAG/CigC,SAAU,SAAUpC,EAAoBxB,GACtCoD,EAAS,CACPz/B,KFjEiB,YEkEjB49B,QAAS,CACPC,qBACAxB,YAIN6D,WAAY,SACVrC,EACAgB,EACAC,GAEAW,EAAS,CACPz/B,KFxEmB,cEyEnB49B,QAAS,CACPC,qBACAgB,YACAC,sBAINqB,YAAa,SAAUtC,EAAoBkB,GACzCU,EAAS,CACPz/B,KFtFoB,eEuFpB49B,QAAS,CACPC,qBACAkB,iBAINqB,YAAa,SAAUvC,EAAoBkB,EAAY1C,GAErDoD,EAAS,CACPz/B,KFjGoB,eEkGpB49B,QAAS,CACPC,qBACAkB,aACA1C,YAKNgE,UAAW,SAAUC,GACnBb,EAAS,CAAEz/B,KFxGS,aEwGS49B,QAAS0C,M,yJC5E7B,SAASC,GAAT,GAOH,IANVC,EAMS,EANTA,MAMS,IALTC,oBAKS,WALM72B,EAKN,EAJT82B,EAIS,EAJTA,UACA1gC,EAGS,EAHTA,KACA2gC,EAES,EAFTA,YACAC,EACS,EADTA,iBACS,EACqBjkC,oBAAS,GAD9B,mBACF0H,EADE,KACOC,EADP,OAEgChI,qBAAW+iC,IAA7CwB,EAFE,uBAGQj+B,cAATC,KACclG,mBACE,kBAAtB,OAAO6jC,QAAP,IAAOA,OAAP,EAAOA,EAAOjT,KAAd,OAAiCiT,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAOjT,IAAM,KALvC,mBAIFA,EAJE,KAIGuT,EAJH,OAOyBnkC,mBAAyB,QAPlD,mBAOFokC,EAPE,KAOSC,EAPT,OAQuBrkC,mBAAwB,MAR/C,mBAQFskC,EARE,KAQQC,EARR,OASiBvkC,mBAAuB,MATxC,mBASFwH,EATE,KASKC,EATL,OAUmCzH,mBAA+B,MAVlE,mBAUFwkC,EAVE,KAUcC,EAVd,KAWHC,EAAS,kBAAOb,QAAP,IAAOA,OAAP,EAAOA,EAAOr7B,KAAK0xB,MAAM,KAAKC,OAiD7C55B,qBAAU,WACJ0jC,GAA0C,kBAAtB,OAAOJ,QAAP,IAAOA,OAAP,EAAOA,EAAOjT,MACpC+T,EAAad,EAAMjT,OAEpB,IACHrwB,qBAAU,WACiB,kBAAdsjC,EAAMjT,KAAoBiT,EAAMjT,MAAQiT,EAAMjT,IAAI4J,WAAW,SACtE/yB,EAAS,IAAI2B,MAAM,2CAEpB,CAACy6B,IACJ,IAAMe,EAAiB,yCAAG,WAAOpF,GAAP,4BAAA/+B,EAAA,yDACX,WAAT4C,EADoB,mBAEhB02B,GACJ,iBAACyF,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWD,aAAZ,QAAqB,CAAC,OAAO,KAC7B,iBAAC4E,QAAD,IAACA,GAAD,UAACA,EAAGqF,oBAAJ,aAAC,EAAiBjK,aAAlB,QAA2B,CAAC,OAAO,GAJf,iDAMtB+J,EAAa5K,GANS,sBAQhB+K,EAAoB7jC,OAAOC,OAAO,GAAd,OAAkBs+B,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAG3E,OAAOD,OACtDmJ,EAAS,UAACe,EAAKtQ,QAAO,gBAAGhsB,EAAH,EAAGA,KAAH,OAAcw7B,EAAYt1B,SAASlG,aAAhD,aAAC,EAAuDrH,KAAI,SAAC44B,GAAD,MAAW,CAAEvxB,KAAMuxB,EAAKvxB,KAAMooB,IAAKmJ,OATlF,2CAAH,sDAcjB4K,EAAY,yCAAG,WAAO5K,GAAP,oBAAAt5B,EAAA,sEAEjBgH,EAAS,MACT88B,EAAY,MACZ58B,GAAW,GACLqyB,EAAOt3B,aAAO,aAAD,cACJwhC,QADI,IACJA,OADI,EACJA,EAAU5P,MADN,mBACsByF,EAAKvxB,MAAL,UAAgB4G,KAAK21B,MAArB,mBAA8BhL,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAMvxB,KAAK0xB,MAAM,KAAKC,QAC3FJ,GAEF0K,EAAkBzK,GAClBA,EAAKI,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC5BiK,EAAY,GAAD,OAAIpR,KAAK8H,MAAOZ,EAASC,EAAS,KAAlC,SAXI,SAaaN,EAAKpsB,UAblB,gBAcjBiB,GADgBA,EAbC,EAaX0rB,UACIC,WAAW,QAAU3rB,EAAzB,kBAA0CA,GAChDlH,GAAW,GACXo8B,EAAUl1B,GACVs1B,EAAOt1B,GACP01B,EAAY,MACZ58B,GAAW,GAnBM,kDAqBjB48B,EAAY,MACZ58B,GAAW,GACXF,EAAS,EAAD,IACRg9B,EAAkB,MAxBD,0DAAH,sDA2BZO,EAAkB,yCAAG,uBAAAvkC,EAAA,sFAEjB+jC,QAFiB,IAEjBA,OAFiB,EAEjBA,EAAgBS,QAFC,uDAIvBt9B,GAAW,GACXF,EAAS,EAAD,IACRg9B,EAAkB,MANK,yDAAH,qDASxB,OACE,kBAACj4B,EAAA,EAAD,KACE,kBAAC4f,EAAA,EAAD,KACE,kBAACG,EAAA,EAAD,KA9FkB,CACtB,OACA,OACA,OACA,QACA,OACA,OACA,OACA,QACA,OACA,OACA,QAoFuB7d,SAASg2B,GACxB,kBAACQ,GAAA,EAAD,CAAephC,SAAS,UAjHV,CACtB,QACA,QACA,QACA,QACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,MACA,QAmG0B4K,SAASg2B,GAC3B,kBAACS,GAAA,EAAD,CAAYrhC,SAAS,UArFP,CACtB,QACA,OACA,SACA,QACA,OACA,OACA,OACA,OACA,OACA,QACA,QACA,OACA,QACA,OACA,OACA,QAsE0B4K,SAASg2B,GAC3B,kBAACU,GAAA,EAAD,CAAOthC,SAAS,UAEhB,kBAACuhC,GAAA,EAAD,CAAQvhC,SAAS,WAGrB,kBAAC0I,EAAA,EAAD,KACE,kBAAC,GAAD,CAAM/F,MAAO,CAAEvC,WAAY,MAA3B,OAAmC2/B,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAOr7B,MAChC,SAATnF,EAAkB,kBAACmI,GAAA,EAAD,CAAanB,UAAU,YACxC,kBAACi7B,GAAA,EAAD,CACEp5B,aAAW,OACX1D,KAAK,OACL/G,MAAO2iC,EACPh5B,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OAA2B4iC,EAAa5iC,IAClD8jC,KAAG,GACH,kBAACC,GAAA,EAAD,CAAkB/jC,MAAM,OAAOgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,SACzD,kBAAC8gC,GAAA,EAAD,CAAkB/jC,MAAM,MAAMgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,UAE3C,8BACH,QAAb0/B,GAAgC,SAAT/gC,EAAkB,kBAACmJ,EAAA,EAAD,CAAKm5B,EAAG,EAAGC,GAAI,GAC7C,WAATviC,EACC,2BACEuI,GAAE,OAAEi4B,QAAF,IAAEA,OAAF,EAAEA,EAAOr7B,KACX/B,MAAO,CAAEkG,QAAS,QAClBtJ,KAAK,OACLmF,KAAI,OAAEq7B,QAAF,IAAEA,OAAF,EAAEA,EAAOr7B,KAEbq9B,gBAAgB,GAChBC,aAAa,GACb16B,SAAUw5B,IAGZ,2BACEh5B,GAAE,OAAEi4B,QAAF,IAAEA,OAAF,EAAEA,EAAOr7B,KACX/B,MAAO,CAAEkG,QAAS,QAClBtJ,KAAK,OACLmF,KAAI,OAAEq7B,QAAF,IAAEA,OAAF,EAAEA,EAAOr7B,KACbmyB,OAAQ+J,EACRt5B,SAAUw5B,IAGd,2BAAOl5B,QAAO,OAAEm4B,QAAF,IAAEA,OAAF,EAAEA,EAAOr7B,MACrB,kBAACsE,GAAA,EAAD,CACEI,SAAUxF,EACVhB,QAAQ,YACRsG,KAAK,QACLhI,MAAM,UACN8vB,UAAW,kBAACiR,GAAA,EAAD,MACX17B,UAAU,QACTumB,EAAG,oBAGR,kBAACpqB,EAAA,EAAD,CACEC,MAAK,aAAI+lB,WAAY,IAA8B,kBAAtB,OAAOqX,QAAP,IAAOA,OAAP,EAAOA,EAAOjT,MAA6B,SAATvtB,GAAoBqE,EAA+B,GAArB,CAAE1C,MAAO,UACtG0B,QAAQ,QACR2D,UAAW,OACXrF,MAAM,iBACL0C,EAAO,sBACW48B,GAAY,KADvB,eAEQ,WAATjhC,EAAoB,GAA0B,kBAAdwgC,EAAMjT,IAAmBhiB,KAAKo3B,SAAL,OAAcnC,QAAd,IAAcA,OAAd,EAAcA,EAAOjT,KAAiB,KAEvGlpB,GACC,kBAACoF,GAAA,EAAD,CACEX,QAAS64B,EACTh4B,KAAK,QACLhI,MAAM,YACNqF,UAAU,QAJZ,WASA,kBAACmC,EAAA,EAAD,KACA,kBAACxB,GAAA,EAAD,CACEtG,MAAM,WACN4G,YAAY,iBACZZ,OAAO,QACPjE,MAAO,CAAE0G,YAAa,IACtBzG,QAAQ,WACRjF,MAAOmvB,EACPxlB,SAAU,YAA4B,IAAf3J,EAAc,EAAxBo5B,OAAUp5B,MACrBgG,EAAS,MACTs8B,EAAUtiC,GACV0iC,EAAO1iC,OAGf,kBAAC6K,GAAA,EAAD,CAAgB9E,QAASA,EAAOuD,SAAUvD,EAAK,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAOV,SAAe,OAAL+8B,QAAK,IAALA,OAAA,EAAAA,EAAOjT,KAAM,GAAb,iBAAqC,WAATvtB,EAAoB,SAAW,4BAEhI,kBAAC4iC,GAAA,EAAD,KACE,kBAACn5B,GAAA,EAAD,CAAQI,UAAa42B,KAAkBlT,EAAKzkB,QAAS,kBAAM23B,EAAeA,IAAiBlkC,QAAQC,IAAI,aAAamF,MAAM,aAA1H,a,yBC9OJ0nB,GAAYC,aAAW,SAACvnB,GAAD,MAAY,CACvCZ,KAAM,CACJ0hC,OAAO,aAAD,OAAe9gC,EAAMhC,QAAQ+iC,cAcxB,SAASC,GAAT,GASH,IAAD,QART1J,EAQS,EARTA,aACA2J,EAOS,EAPTA,mBACAC,EAMS,EANTA,sBACAC,EAKS,EALTA,iBACAC,EAIS,EAJTA,oBACAC,EAGS,EAHTA,aACAC,EAES,EAFTA,YACAC,EACS,EADTA,iBAEM/X,EAAUlC,KADP,EAGqB1sB,oBAAS,GAH9B,mBAGF4mC,EAHE,KAGOC,EAHP,OAKgClnC,qBAAW+iC,IAA7CwB,EALE,oBAMDhB,EAAkBH,KAAlBG,cACA97B,EAAoBC,eAApBD,gBAPC,EAQ2BpH,mBACE,MAApC,oBAAC08B,EAAa,UAAd,aAAC,EAAiB9L,WAAlB,UAAyC,SAAW,QAT7C,mBAQFkW,EARE,KAQUC,EARV,OAYmB/mC,mBAAuB,IAZ1C,mBAYFgnC,EAZE,KAYMjD,EAZN,OAauC/jC,mBAAyC,kBAAhC,UAAO08B,EAAa,UAApB,aAAO,EAAiB9L,SAAqB,UAAC8L,EAAa,UAAd,aAAC,EAAiB9L,MAb/G,mBAaFqT,EAbE,KAagBgD,EAbhB,KAcT1mC,qBAAU,WACRimC,GAAoB,GACpBzC,EAAWwC,EAAwJrC,EAASxH,cAAgB,GAAlL,OAAoBA,QAApB,IAAoBA,OAApB,EAAoBA,EAAcv7B,KAAI,SAAC+lC,GAAD,OAAgBhD,EAASxH,cAAgB,IAAIvI,MAAK,SAACxE,GAAD,OAAUA,EAAKnnB,OAAS0+B,EAAS1+B,SAAS0+B,QAE3I,IACH3mC,qBAAU,WAER2iC,EAAc,CAAExG,aAAcsK,IAC9BH,EAAWG,EAAOlR,OAAM,SAACqR,GAAD,QAASA,EAAEvW,UAClC,CAACoW,IA0FJ,OACE,kBAACx6B,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUC,eAAgB,kBACnE,kBAAC,GAAD,2BACA,kBAACZ,EAAA,EAAD,CAAYE,QA7FE,WAClB43B,EAAS,OAACrH,QAAD,IAACA,OAAD,EAACA,EAAcv7B,KAAI,SAAC+lC,GAAD,OAAgBhD,EAASxH,cAAgB,IAAIvI,MAAK,SAACxE,GAAD,OAAUA,EAAKnnB,OAAS0+B,EAAS1+B,SAAS0+B,QA6FlH,kBAAC,KAAD,QAGJ,kBAAC17B,GAAA,EAAD,CAAa/E,MAAO,CAAEiG,UAAW,GAAKrC,UAAU,YAC9C,kBAAC+8B,GAAA,EAAD,CAAW/8B,UAAU,UAArB,iCAGA,kBAACi7B,GAAA,EAAD,CAAY7jC,MAAOqlC,EAAY17B,SAlGhB,SAACo0B,GACpBuH,EAAcvH,EAAE3E,OAAOp5B,QAiGoC8jC,KAAG,GACxD,kBAACC,GAAA,EAAD,CACE/jC,MAAM,SACNgkC,QAAS,kBAACC,GAAA,EAAD,MACThhC,MAAM,2BAER,kBAAC8gC,GAAA,EAAD,CACE/jC,MAAM,OACNgkC,QAAS,kBAACC,GAAA,EAAD,MACThhC,MAAM,wBA1DY,SAACoiC,GAAmC,IAAD,EAC7D,OAAQA,GACN,IAAK,SACH,OACE,kBAACpX,EAAA,EAAD,CAAMP,UAAWP,EAAQpqB,MACvB,kBAACo/B,GAAD,CACEvgC,KAAMyjC,EACN9C,YAAW,UAAEgD,EAAOxS,QAAO,SAAA/yB,GAAK,OAAKA,EAAMmvB,cAAhC,aAAE,EAAoCzvB,KAAI,qBAAGqH,QACxDu7B,UAAW,SAACnT,GACS,kBAARA,IACJA,EAAIwD,QACPhtB,EAAgB,kEAAmE,CACjFV,QAAS,YAGbq9B,GAAU,SAAAiD,GAAM,OAAIA,EAAO7lC,KAAI,SAACwuB,GAAD,yBAAC,eAC3BA,GAD0B,IAE7BiB,KAAK,UAAAA,EAAIuD,MAAK,SAAC4F,GAAD,OAAUpK,EAAKnnB,OAASuxB,EAAKvxB,eAAtC,eAA6CooB,OAA7C,OAAoDjB,QAApD,IAAoDA,OAApD,EAAoDA,EAAMiB,MAAO,WAExEqW,GAAoB,GACpBF,EAAc,UAGlBlD,MAAO,CAAEr7B,KAAM,eAAgBooB,IAAK,GAAIvtB,KAAM,UAC9C4gC,iBAAkBA,KAI1B,IAAK,OACH,OAxEF,kBAACz3B,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC3X,EAAA,EAAD,CAAMP,UAAWP,EAAQpqB,MACH,KAAb,OAANwiC,QAAM,IAANA,OAAA,EAAAA,EAAQ5S,QAAR,OACC4S,QADD,IACCA,OADD,EACCA,EAAQ7lC,KAAI,SAAC0iC,EAAOjU,GAAR,OACV,oCACE,kBAACgU,GAAD,CACEvgC,KAAM,OACN2gC,YAAa,CAACH,EAAMr7B,MACpBpH,IAAKyiC,EAAMr7B,KACXs7B,aAAc,WACZC,EAAUiD,EAAOxS,QAAO,WAAW2S,GAAX,SAAG3+B,OAAuBq7B,EAAMr7B,UAE1Du7B,UAAW,SAACnT,GACS,kBAARA,GAETmT,GAAU,SAAAiD,GAAM,cACdA,QADc,IACdA,OADc,EACdA,EAAQ7lC,KAAI,SAACwuB,EAAMwX,GAAP,OACN,OAAJxX,QAAI,IAAJA,OAAA,EAAAA,EAAMnnB,SAAN,OAAeq7B,QAAf,IAAeA,OAAf,EAAeA,EAAOr7B,MAAtB,2BAAkCmnB,GAAlC,IAAwCiB,QAAQjB,SAMxDkU,MAAOA,EACPI,iBAAkBA,IAEnBrU,IAAUoX,EAAO5S,OAAS,GAAK,kBAAC3E,EAAA,EAAD,UAIpC,kBAACjjB,EAAA,EAAD,CACEG,QAAQ,OACRC,WAAW,SACXC,eAAe,SACf6oB,UAAW,KACX,kBAAClvB,EAAA,EAAD,4BAuCR,QACE,QA+BD8gC,CAAoBR,GACrB,kBAACt6B,EAAA,EAAD,CAAKG,QAAQ,OAAOE,eAAe,gBAAgBw6B,GAAI,GACrD,kBAACv6B,GAAA,EAAD,CACEgoB,UAAW,kBAAC,KAAD,MACXruB,MAAO,CAAEiE,OAAQ,IACjB1F,MAAM,UACN0B,QAAQ,WACRqE,SAAU,OACVoB,QAAS,kBAAMm6B,EAAsBD,EAAqB,MAE5D,kBAACv5B,GAAA,EAAD,CACEy6B,QAASd,GAAgB,kBAACr5B,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KACjEE,SAAUu5B,IAAiBG,EAC3BngC,MAAO,CAAEiE,OAAQ,IACjB1F,MAAO0hC,EAAc,YAAc,UACnChgC,QAASggC,EAAc,WAAa,YACpC37B,SACE27B,EAAc,QAAUD,EAAe,aAAe,SAExDt6B,QAAS,kBAAMw6B,EAAiBzC,Q,mCC1LpCxX,GAAYC,aAAW,SAACvnB,GAAD,MAAY,CACvCZ,KAAM,CACJ0hC,OAAO,aAAD,OAAe9gC,EAAMhC,QAAQ+iC,cAWxB,SAASqB,GAAT,GAKJ,EAJT/K,aAIU,IAJI+F,EAIL,EAJKA,MACd8D,EAGS,EAHTA,sBACAmB,EAES,EAFTA,mBAAoBC,EAEX,EAFWA,gBACpBrB,EACS,EADTA,mBAEQnD,EAAkBH,KAAlBG,cADC,EAEgCvjC,qBAAW+iC,IAA7CwB,EAFE,oBAGHtV,EAAUlC,KAHP,EAIuB1sB,mBAA+C,IAJtE,mBAIF2nC,EAJE,KAIQC,EAJR,OAKqB5nC,oBAAS,GAL9B,mBAKF4mC,EALE,KAKOC,EALP,KAOTtmC,qBAAU,WACRknC,GAAmB,GACnBG,EAAYF,GAA0B,OAARxD,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,QAAS,GAAKA,EAAMrhC,KAAI,SAAA0mC,GAAQ,aAAY,OAAR3D,QAAQ,IAARA,GAAA,UAAAA,EAAU1B,aAAV,eAAiBrO,MAAK,qBAAG3rB,OAAoBq/B,EAASr/B,UAASq/B,QAE1I,IAWH,OALAtnC,qBAAU,WACR2iC,EAAc,CAAEV,MAAOmF,IACvBd,EAAWc,EAAS7R,OAAM,SAACqR,GAAD,QAASA,EAAEvW,UACpC,CAAC+W,IAGF,kBAACn7B,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUC,eAAgB,kBACnE,kBAAC,GAAD,0BACA,kBAACZ,EAAA,EAAD,CAAYE,QAbE,WAClBy7B,EAAYpF,EAAMrhC,KAAI,SAAA0mC,GAAQ,aAAY,OAAR3D,QAAQ,IAARA,GAAA,UAAAA,EAAU1B,aAAV,eAAiBrO,MAAK,qBAAG3rB,OAAoBq/B,EAASr/B,UAASq/B,QAa3F,kBAAC,KAAD,QAGJ,kBAACr7B,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC3X,EAAA,EAAD,CAAMP,UAAWP,EAAQpqB,MACtBmjC,EAASvT,OACRuT,EAASxmC,KAAI,SAAC2mC,EAAMlY,GAAP,OACX,kBAACpjB,EAAA,EAAD,CAAKpL,IAAK0mC,EAAKt/B,MACb,kBAAC4jB,EAAA,EAAD,KACE,kBAAC2b,GAAA,EAAD,CACEC,oBAAoB,UACpBvmC,MAAOqmC,EAAKlX,IACZqX,YAAY,UACZvjC,MAAOojC,EAAKt/B,KACZ+C,WAAYu8B,EAAKlX,IAAM,GAAK,oCAC5BpoB,KAAMs/B,EAAKt/B,KACX0/B,sBAAsB,EACtBC,gBAAe,2BAAejE,QAAf,IAAeA,OAAf,EAAeA,EAAU5P,MAAzB,UACflpB,SAAU,SAAC3J,GACTmmC,GAAY,SAACjG,GACX,cAAOA,QAAP,IAAOA,OAAP,EAAOA,EAAMxgC,KAAI,SAACwuB,GAAD,OAAUA,EAAKnnB,OAASs/B,EAAKt/B,KAAnB,2BACjBmnB,GADiB,IACXiB,IAAKnvB,IACjBkuB,SAGRgL,OAAQ,cAEV,kBAACsL,GAAA,EAAD,KACE,kBAACn5B,GAAA,EAAD,CACEI,WAAY46B,EAAKlX,IACjBzkB,QAAS,WACPy7B,EAAYD,EAASnT,QAAO,WAAW2S,GAAX,SAAG3+B,OAAuBs/B,EAAKt/B,UAE7DxD,MAAM,aALR,YAUH4qB,IAAU+X,EAASvT,OAAS,GAAK,kBAAC3E,EAAA,EAAD,UAItC,kBAACjjB,EAAA,EAAD,CACEG,QAAQ,OACRC,WAAW,SACXC,eAAe,SACf6oB,UAAW,KACX,kBAAC,GAAD,CAAM1wB,MAAM,iBAAZ,uCAKR,kBAACwH,EAAA,EAAD,CAAKG,QAAQ,OAAOE,eAAe,gBAAgBw6B,GAAI,GACrD,kBAACv6B,GAAA,EAAD,CACEgoB,UAAW,kBAAC,KAAD,MACX9vB,MAAM,UACN0B,QAAQ,WACRyF,QAAS,kBAAMm6B,EAAsBD,EAAqB,KAJ5D,QAQA,kBAACv5B,GAAA,EAAD,CACEI,UAAW05B,EACXW,QAAS,kBAACa,GAAA,EAAD,MACTpjC,MAAM,UACN0B,QAAQ,YACRyF,QAAS,WACPm6B,EAAsBD,EAAqB,KAN/C,U,qCC1HO,eAA0C,IAAvCA,EAAsC,EAAtCA,mBAAsC,IAAlBhjC,KAC9BglC,EAAiB,aAD+B,MAAX,KAAW,GACxB,CAAC,YAAD,wCAA0D,CAAC,YAAD,YACxF,OACE,kBAACC,GAAA,EAAD,CACE7hC,MAAO,CAAE/C,WAAY,eACrB6kC,WAAYlC,GACXgC,EAAMlnC,KAAI,SAACuD,GAAD,OACT,kBAAC8jC,GAAA,EAAD,CAAMpnC,IAAKsD,GACT,kBAAC+jC,GAAA,EAAD,CACEhiC,MAAO,CACLvC,WAAY,MAEbQ,S,0GCLE,eAA4E,IAAD,EAAxEorB,EAAwE,EAAxEA,KAAwE,IAAlErpB,aAAkE,MAA1D,GAA0D,MAAtDiiC,iBAAsD,MAA1C,GAA0C,MAAtCrlC,YAAsC,MAA/B,QAA+B,EAAtBqD,EAAsB,EAAtBA,QAC1DiiC,EAAW,CACb,MAAS,CACLjlC,WAAY,UAAWosB,KAAM,OAAQtsB,UAAW,UAChDuoB,KAAM,kBAAC,KAAD,CAAkBtlB,MAAO,CAAEzB,MAAO,OAAQuF,YAAa,EAAGC,aAAc,GAAK1G,SAAU,aAGjG,KAAQ,CACJJ,WAAY,UAAWosB,KAAM,OAAQtsB,UAAW,UAChDuoB,KAAM,kBAAC,KAAD,CAAkBtlB,MAAO,CAAEzB,MAAO,OAAQuF,YAAa,EAAGC,aAAc,GAAK1G,SAAU,aAEjG,QAAW,CACPJ,WAAY,UAAWosB,KAAM,UAAWtsB,UAAW,UACnDuoB,KAAM,kBAAC,KAAD,CAA2BtlB,MAAO,CAAEzB,MAAO,UAAWuF,YAAa,EAAGC,aAAc,GAAK1G,SAAU,aAG7G,QAAW,CACPJ,WAAY,UAAWosB,KAAM,OAAQtsB,UAAW,UAChDuoB,KAAM,kBAAC,KAAD,CAAgCtlB,MAAO,CAAEzB,MAAO,OAAQuF,YAAa,EAAGC,aAAc,GAAK1G,SAAU,cAI7G8kC,EAAS,CACXC,WAAY,CAER/kC,SAAS,GACT8I,WAAY,SACZD,QAAS,OACT+xB,gBAAiBiK,EAASjiC,GAAShD,WACnColC,qBAAsB,EACtBC,wBAAyB,GAE7BC,YAAa,CACTv8B,MAAO,EACP4f,OAAQ,EACRqS,gBAAiB,cACjBuK,YAAa,QACbC,YAAa,EACbC,YAAa,cACbC,eAAgBT,EAASjiC,GAASlD,UAClC6lC,iBAAkBV,EAASjiC,GAASlD,WAExCssB,KAAM,CAAE9qB,MAAO2jC,EAASjiC,GAASopB,KAAMxlB,QAAS,EAAGxG,SAAU,GAAI8G,aAAc,EAAG8B,UAAW,IAGjG,OAAO,kBAACF,EAAA,EAAD,CAAK/F,MAAK,aAAIuF,SAAU,WAAY+gB,OAAQ,EAAGuc,IAAK,EAAGC,KAAM,GAAM9iC,IAC5D,UAATpD,EAAmB,kBAACmJ,EAAA,EAAD,CAChB/F,MAAK,2BAAOmiC,EAAOI,aAAd,IAA2BQ,UAAW,oBAC1C,kBAACh9B,EAAA,EAAD,MACL,kBAACA,EAAA,EAAD,CACI/F,MAAOmiC,EAAOC,YADlB,UAEKF,EAASjiC,UAFd,aAEK,EAAmBqlB,KACpB,kBAAC,GAAD,CAAMtlB,MAAK,2BAAOmiC,EAAO9Y,MAAS4Y,IAAc5Y,IAE1C,UAATzsB,EAAmB,kBAACmJ,EAAA,EAAD,CAChB/F,MAAK,eACEmiC,EAAOI,eAEb,kBAACx8B,EAAA,EAAD,Q,gGCjDPjD,GAAmBC,OAAaigC,MAAM,CAC1CpmC,KAAMmG,OAAaC,SAAS,2BAC5BigC,aAAclgC,OAAaC,SAAS,8BACpC83B,SAAU/3B,OAAamgC,KAAK,eAAgB,CAC1CC,GAAI,QACJ36B,KAAMzF,OACNqgC,UAAWrgC,OAAaC,SAAS,wCAEnC6B,YAAa9B,OAAamgC,KAAK,OAAQ,CACrCC,GAAI,OACJ36B,KAAMzF,OAAaC,SAAS,4BAC5BogC,UAAWrgC,SAEb83B,UAAW93B,OAAaC,SAAS,2BACjC/E,MAAO8E,OAAaC,SAAS,4BAC7BqgC,UAAWtgC,OAAamgC,KAAK,OAAQ,CACnCC,GAAI,OACJ36B,KAAMzF,OAAaC,SAAS,0BAC5BogC,UAAWrgC,SAEbiD,MAAOjD,OAAamgC,KAAK,OAAQ,CAC/BC,GAAI,QACJ36B,KAAMzF,OAAaC,SAAS,8BAC5BogC,UAAWrgC,SAEb6iB,OAAQ7iB,OAAamgC,KAAK,OAAQ,CAChCC,GAAI,QACJ36B,KAAMzF,OAAaC,SAAS,+BAC5BogC,UAAWrgC,WAaA,eAAyH,IAAD,IAArHqyB,kBAAqH,MAAxG,GAAwG,EAApGkO,EAAoG,EAApGA,aAAcC,EAAsF,EAAtFA,aAAsF,IAAxElO,mBAAwE,MAA1D,GAA0D,MAAtDF,oBAAsD,MAAvC,KAAuC,EAAjCqO,EAAiC,EAAjCA,UAAWh8B,EAAsB,EAAtBA,QAAsB,EA2DjI5E,aAAU,CACZC,cAAe0gC,EACfzgC,oBACAvC,SA5De,SAAC,GAUX,IAAD,IAVc5F,WAUd,MAVoB,GAUpB,EAVwBmgC,EAUxB,EAVwBA,SAAU78B,EAUlC,EAVkCA,MAAO48B,EAUzC,EAVyCA,UAAWwI,EAUpD,EAVoDA,UAAWx+B,EAU/D,EAV+DA,YAAao+B,EAU5E,EAV4EA,aAAcjgC,EAU1F,EAV0FA,SAAUpG,EAUpG,EAVoGA,KAAMqhC,EAU1G,EAV0GA,UAAWrY,EAUrH,EAVqHA,OAAQ5f,EAU7H,EAV6HA,MAWjI,OAAQpJ,GACN,IAAK,OACH0mC,EAAa,CACX3oC,IAAK6oC,EAAY7oC,EAAM26B,KACvB14B,KAAMqmC,EACNhlC,QAAO4G,cACP+1B,YAA0B,qBAAbE,EAAkC,CAC7C93B,WACAqgC,aACE,CAAErgC,YACN23B,aAAc,CAAEE,YAAWC,SAA2B,OAAjB3F,EAAwB2F,EAAW,GAAIl+B,UAE9E,MAEF,IAAK,QACH0mC,EAAa,CACX3oC,IAAK6oC,EAAY7oC,EAAM26B,KACvB14B,KAAMqmC,EACNhlC,QACA28B,YAA8B,UAAjBqI,EACT,CACAjgC,WACAgD,QACA4f,UAEA,CAAE5iB,YACN23B,aAA+B,UAAjBsI,EACV,CAAEpI,YAAWj+B,OAAMqhC,UAAyB,SAAdA,EAAuB,MAASA,GAAa,OAC3E,CAAEpD,YAAWC,SAA2B,OAAjB3F,EAAwB2F,EAAW,GAAIl+B,UAGpE,MACF,QACE,MAAM,IAAI+F,MAEd8gC,GAAa,MAGbrgC,EAnDmI,EAmDnIA,OACAC,EApDmI,EAoDnIA,OACAC,EArDmI,EAqDnIA,QACAJ,EAtDmI,EAsDnIA,WACAC,EAvDmI,EAuDnIA,aAEAF,GAzDmI,EAwDnIygC,UAxDmI,EAyDnIzgC,cACA+wB,EA1DmI,EA0DnIA,cAYIyP,EAAe,SAAC5O,GACpBrtB,EAAQqtB,IAuPV,OACE,kBAACntB,GAAA,EAAD,CACE9C,WAAS,EACTgD,MAAI,EACJ+7B,OAAO,QACPn8B,QAAS,kBAAMi8B,GAAa,IAC5B97B,kBAAgB,qBAEhB,kBAACi8B,GAAA,EAAD,CAAaz+B,GAAG,qBAAqBq+B,EAAY,aAAe,aAChE,kBAACK,GAAA,EAAD,CAAeC,UAAU,GACvB,kBAAC/+B,GAAA,EAAD,CACEH,WAAS,EACTX,OAAO,QACPwC,SAAU+8B,EACVvjC,QAAQ,WACRc,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAAS1G,UAAS,OAACyG,QAAD,IAACA,OAAD,EAACA,EAAQzG,OAElC,kBAACoI,GAAA,EAAD,CAAYG,GAAG,qCAAf,cAGA,kBAAC4+B,GAAA,EAAD,CACEC,QAAQ,oCACR7+B,GAAG,8BACHT,OAAQxB,EACRyB,SAAU,SAAAs/B,GACJA,EAAG7P,OAAOp5B,OACZg5B,EAAc,eAAoC,SAApBiQ,EAAG7P,OAAOp5B,MAAmB,SAA+B,UAApBipC,EAAG7P,OAAOp5B,MAAoB,QAAU,IAEhHiI,EAAaghC,IAGfliC,KAAK,OAEL/G,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQxG,KACfiI,YAAY,oBACZ5G,MAAM,cAhSG,CACjB,CAAEA,MAAO,OAAQjD,MAAO,QACxB,CAAEiD,MAAO,QAASjD,MAAO,UAgSLN,KAAI,SAACwuB,EAAMC,GACrB,OACE,kBAAC0B,EAAA,EAAD,CACElwB,IAAKwuB,EACL1iB,UAAgB,OAANrD,QAAM,IAANA,OAAA,EAAAA,EAAQxG,QAASssB,EAAKluB,MAChCA,MAAOkuB,EAAKluB,MACZsJ,SAAU4kB,EAAKjrB,MACfimC,UAAgB,OAAN9gC,QAAM,IAANA,OAAA,EAAAA,EAAQxG,QAASssB,EAAKluB,YAKxC,kBAAC6K,GAAA,EAAD,MAAwB,OAAPvC,QAAO,IAAPA,OAAA,EAAAA,EAAS1G,QAAT,OAAiByG,QAAjB,IAAiBA,OAAjB,EAAiBA,EAAQzG,QAE5C,kBAACunC,GAAA,EAAD,CACEnpC,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQy3B,UACfl2B,SAAU,SAAClB,EAAO2uB,GACZA,GA1SY,SAACp3B,GAGzB,GAFAg5B,EAAc,YAAah5B,GAEN,UAAX,OAANoI,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAAiB,CAAC,IAAD,EACrBwnC,EAAahP,EAAW16B,KAAI,SAAC2pC,GAAD,8BAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOtiC,YAAlB,QAA0BsiC,KAC5DrQ,EAAc,WAAY,oBAC1BA,EAAc,eAAe,UAAAoB,EAAWgP,EAAWrJ,QAAQ//B,WAA9B,eAAuCquB,OAAQ,QAGzE,CAAC,IAAD,IACG+a,EAAa/O,EAAY36B,KAAI,SAAC2pC,GAAD,8BAAWA,QAAX,IAAWA,OAAX,EAAWA,EAAOtiC,YAAlB,QAA0BsiC,KAC7DrQ,EAAc,SAAUqB,EAAY+O,EAAWrJ,QAAQ//B,IAA/B,QAAoD,GAC5Eg5B,EAAc,QAASqB,EAAY+O,EAAWrJ,QAAQ//B,IAA/B,OAAmD,GAC1Eg5B,EAAc,YAAmE,UAAtD,UAAAqB,EAAY+O,EAAWrJ,QAAQ//B,WAA/B,eAAwCijC,WAAuB,OAAS,UAAA5I,EAAY+O,EAAWrJ,QAAQ//B,WAA/B,eAAwCijC,YAAa,QA8RhJqG,CAAkBlS,IAGtBmS,eAAe,EACfp/B,GAAG,2BACHmqB,QAhFc,WACpB,cAAQlsB,QAAR,IAAQA,OAAR,EAAQA,EAAQxG,MACd,IAAK,OACH,OAAIw4B,EAAWzH,OACNyH,EAAW16B,KAAI,SAAC2pC,EAAOlb,GAAR,8BAAkBkb,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAOtiC,YAAzB,QAAiCsiC,KAEhD,GAGX,IAAK,QACH,OAAIhP,EAAY1H,OACP0H,EAAY36B,KAAI,SAAC2pC,EAAOlb,GAAR,8BAAkBkb,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAOtiC,YAAzB,QAAiCsiC,KAEjD,GAEX,QACE,MAAO,IAgEIG,GACTC,YAAa,SAACC,GAAD,OAAY,kBAACngC,GAAA,EAAD,eAEvBN,OAAO,SACHygC,EAHmB,CAIvBzmC,MAAM,eAAegC,QAAQ,WAC7Bc,UAAiB,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASu3B,cAAc,OAACx3B,QAAD,IAACA,OAAD,EAACA,EAAQw3B,YAC1C/1B,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAASu3B,aAAc,OAACx3B,QAAD,IAACA,OAAD,EAACA,EAAQw3B,WAAhC,OAA4Cx3B,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAQw3B,UAAY,SAvP5E,kBAAC91B,GAAA,EAAD,CACN/B,UAAQ,EACRhD,MAAO,CAAEiG,UAAW,EAAG9B,aAAc,GACrCP,UAAU,YACV,kBAAC+8B,GAAA,EAAD,CAAW/8B,UAAU,UAArB,qBACA,kBAACi7B,GAAA,EAAD,CAAYp5B,aAAW,eAAe1D,KAAK,eAAe+8B,KAAG,EAC3D6F,aAAc,SACd3pC,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQ6/B,aAAct+B,SAAU1B,GACvC,kBAAC87B,GAAA,EAAD,CAAkB/jC,MAAM,SAASyL,SAA2B,WAAX,OAANrD,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAAkBoiC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,SAC/F,kBAAC8gC,GAAA,EAAD,CAAkB/jC,MAAM,QAAQyL,SAA2B,UAAX,OAANrD,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAChDoiC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,WAE9B,kBAAC4H,GAAA,EAAD,CACE9E,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAAS2/B,kBAAiB,OAAC5/B,QAAD,IAACA,OAAD,EAACA,EAAQ4/B,gBACnC,OAAP3/B,QAAO,IAAPA,OAAA,EAAAA,EAAS2/B,gBAAiB,OAAC5/B,QAAD,IAACA,OAAD,EAACA,EAAQ4/B,cAAnC,OAAkD5/B,QAAlD,IAAkDA,OAAlD,EAAkDA,EAAQ4/B,aACxD,iHA/DqB,WAC3B,IAWM/d,EAXkB,CAAC,QAAS,SAWR0f,OAVD,CACvB5X,KAAM,CACJ,mBACA,mBACA,uBACA,yBAEF6X,MAAO,CAAC,YAGuC,OAACzhC,QAAD,IAACA,OAAD,EAACA,EAAQxG,OAC1D,OAAI,OAACwG,QAAD,IAACA,OAAD,EAACA,EAAQxG,QAAQ,OAACwG,QAAD,IAACA,OAAD,EAACA,EAAQ6/B,eAAyC,WAAnB,OAAN7/B,QAAM,IAANA,OAAA,EAAAA,EAAQ6/B,eAAqD,YAAnB,OAAN7/B,QAAM,IAANA,OAAA,EAAAA,EAAQ6/B,eAA8C,aAAjB9N,EAErH,kBAACpwB,GAAA,EAAD,CACE/B,SAAmC,WAAnB,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQ6/B,cAClBr+B,WAAS,EACTX,OAAO,QACPhE,QAAQ,WACRc,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASw3B,cAAa,OAACz3B,QAAD,IAACA,OAAD,EAACA,EAAQy3B,WACtC,kBAAC91B,GAAA,EAAD,CAAYG,GAAG,mBAAf,mBACA,kBAAC4+B,GAAA,EAAD,CACEC,QAAQ,kBACR7+B,GAAG,kBACHT,OAAQxB,EACRyB,SAAU1B,EACVlB,KAAK,WACL/G,MAAOoI,EAAO03B,SACdj2B,YAAY,yBACZ5G,MAAM,mBACLinB,EAAExqB,KAAI,SAACwuB,EAAMC,GAAP,OACL,kBAAC0B,EAAA,EAAD,CACElwB,IAAKuuB,EACL/jB,GAAI+jB,EACJluB,MAAOkuB,EACP5kB,SAAU4kB,EACVgb,SAAU9gC,EAAO03B,WAAa5R,QAIpC,kBAACrjB,GAAA,EAAD,CACE9E,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASw3B,cAAa,OAACz3B,QAAD,IAACA,OAAD,EAACA,EAAQy3B,YAC/B,OAAPx3B,QAAO,IAAPA,OAAA,EAAAA,EAASw3B,YAAa,OAACz3B,QAAD,IAACA,OAAD,EAACA,EAAQy3B,UAA/B,OAA0Cz3B,QAA1C,IAA0CA,OAA1C,EAA0CA,EAAQy3B,SAAW,KA9BwF,8BA+RtJgK,GAxGiB,WACtB,cAAQ1hC,QAAR,IAAQA,OAAR,EAAQA,EAAQxG,MACd,IAAK,OACH,OAnIJ,6BACE,kBAAC2H,GAAA,EAAD,CACEvB,UAAQ,EACR4B,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQnF,MACf8D,KAAK,QACL2C,OAAQxB,EACRyB,SAAU1B,EACVlC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASrF,WAAU,OAACoF,QAAD,IAACA,OAAD,EAACA,EAAQpF,OACnC6G,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAASrF,SAAU,OAACoF,QAAD,IAACA,OAAD,EAACA,EAAQpF,OAA5B,OAAoCoF,QAApC,IAAoCA,OAApC,EAAoCA,EAAQpF,MAAQ,GAChErB,KAAK,OACLqB,MAAM,cACN4G,YAAY,gBAEd,kBAACN,GAAA,EAAD,CACEvB,SAA2B,UAAX,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAClBgI,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQyB,YACf9C,KAAK,cACL2C,OAAQxB,EACRyB,SAAU1B,EACVlC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASuB,iBAAgB,OAACxB,QAAD,IAACA,OAAD,EAACA,EAAQwB,aACzCC,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAASuB,eAAgB,OAACxB,QAAD,IAACA,OAAD,EAACA,EAAQwB,aAAlC,OAAgDxB,QAAhD,IAAgDA,OAAhD,EAAgDA,EAAQwB,YAAc,GAClFjI,KAAK,OACLqB,MAAM,oBACN4G,YAAY,iCAEQ,sBAAf,OAANzB,QAAM,IAANA,OAAA,EAAAA,EAAQ03B,WAAmC,0CAAK,kBAACv2B,GAAA,EAAD,CAC/CK,WAAS,EACT5B,SAA2B,UAAX,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAClBqD,QAAQ,WACRgE,OAAO,QACPS,OAAQxB,EACRyB,SAAU1B,EACVjI,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQigC,UACftiC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAAS+/B,eAAc,OAAChgC,QAAD,IAACA,OAAD,EAACA,EAAQggC,WACvCv+B,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAAS+/B,aAAc,OAAChgC,QAAD,IAACA,OAAD,EAACA,EAAQggC,WAAhC,OAA4ChgC,QAA5C,IAA4CA,OAA5C,EAA4CA,EAAQggC,UAAY,GAC5EzmC,KAAK,SACLmF,KAAK,YACL9D,MAAM,aACN4G,YAAY,gBAEd,6BAEA,kBAACk6B,GAAA,EAAD,CACEC,QACE,kBAAC+F,GAAA,EAAD,CACEC,QAAO,OAAE5hC,QAAF,IAAEA,OAAF,EAAEA,EAAQJ,SACjB0B,OAAQxB,EACRnB,KAAK,WACL4C,SAAU1B,EACV1E,MAAM,YAGVN,MAAM,cA2ER,IAAK,QACH,OAvEqB,0BACzB,6BACE,kBAACsG,GAAA,EAAD,CACEvB,UAAQ,EACR4B,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAK,OAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQnF,MACf8D,KAAK,QACL2C,OAAQxB,EACRyB,SAAU1B,EACVlC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASrF,WAAU,OAACoF,QAAD,IAACA,OAAD,EAACA,EAAQpF,OACnC6G,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAASrF,SAAU,OAACoF,QAAD,IAACA,OAAD,EAACA,EAAQpF,OAA5B,OAAoCoF,QAApC,IAAoCA,OAApC,EAAoCA,EAAQpF,MAAQ,GAChErB,KAAK,OACLqB,MAAM,cACN4G,YAAY,gBAGY,WAAnB,OAANzB,QAAM,IAANA,OAAA,EAAAA,EAAQ6/B,eAA4B,oCACnC,kBAAC1+B,GAAA,EAAD,CACEvB,SAA2B,WAAX,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAClBgI,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAK,iBAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQ4C,aAAV,QAAmB,EACxBjE,KAAK,QACL2C,OAAQxB,EACRyB,SAAU1B,EACVlC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAAS0C,WAAU,OAAC3C,QAAD,IAACA,OAAD,EAACA,EAAQ2C,OACnClB,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAAS0C,SAAU,OAAC3C,QAAD,IAACA,OAAD,EAACA,EAAQ2C,OAA5B,OAAoC3C,QAApC,IAAoCA,OAApC,EAAoCA,EAAQ2C,MAAQ,GAChEpJ,KAAK,SACLqB,MAAM,cACN4G,YAAY,gBAEd,kBAACN,GAAA,EAAD,CACEvB,SAA2B,WAAX,OAANI,QAAM,IAANA,OAAA,EAAAA,EAAQxG,MAClBgI,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAK,iBAAEoI,QAAF,IAAEA,OAAF,EAAEA,EAAQwiB,cAAV,QAAoB,EACzB7jB,KAAK,SACL2C,OAAQxB,EACRyB,SAAU1B,EACVlC,OAAc,OAAPuC,QAAO,IAAPA,OAAA,EAAAA,EAASsiB,YAAW,OAACviB,QAAD,IAACA,OAAD,EAACA,EAAQuiB,QACpC9gB,YAAmB,OAAPxB,QAAO,IAAPA,OAAA,EAAAA,EAASsiB,UAAW,OAACviB,QAAD,IAACA,OAAD,EAACA,EAAQuiB,QAA7B,OAAsCviB,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAQuiB,OAAS,GACnEhpB,KAAK,SACLqB,MAAM,eACN4G,YAAY,kBAGhB,6BACA,kBAACk6B,GAAA,EAAD,CACEC,QACE,kBAAC+F,GAAA,EAAD,CACEC,QAAO,OAAE5hC,QAAF,IAAEA,OAAF,EAAEA,EAAQJ,SACjB0B,OAAQxB,EACRnB,KAAK,WACL4C,SAAU1B,EACV1E,MAAM,YAGVN,MAAM,cAUCgnC,GAET,QACE,OAAO,MAgGNC,IAEH,kBAACC,GAAA,EAAD,KACE,kBAAC9+B,GAAA,EAAD,CAAQX,QAAS,kBAAM+9B,GAAa,IAAQllC,MAAM,WAAlD,UAGA,kBAAC8H,GAAA,EAAD,CACEpG,QAAQ,YACRrD,KAAK,SACL8I,QAAS,SAAAqzB,GAAC,OAAI51B,KACd5E,MAAM,UACN+F,SAAUk/B,EAAY,OAAS,W,0CClc1B,eAE2E,IAFxExkC,EAEuE,EAFvEA,KAAMf,EAEiE,EAFjEA,MAAO1B,EAE0D,EAF1DA,KAE0D,KAFpDK,KAEoD,EAF9Cg+B,oBAE8C,MAFhC,GAEgC,EAF5Bl2B,EAE4B,EAF5BA,OAE4B,IAFpB1J,aAEoB,MAFZ,GAEY,EAFR2J,EAEQ,EAFRA,SAEQ,IADrFG,kBACqF,MADxE,GACwE,EAArF/C,GAAqF,EADpEqjC,QACoE,EAArFrjC,MAAM8C,EAA+E,EAA/EA,YAAa81B,EAAkE,EAAlEA,aAAchgC,EAAoD,EAApDA,IAAoD,IAA/C0qC,kBAA+C,MAAlC,GAAkC,IAC7CzK,EAAhC53B,gBAD6E,SAC3DqgC,EAAczI,EAAdyI,UAClBxI,EAAcF,EAAdE,UAF6E,EAG3DthC,oBAA2B,SAATyF,EAAkBhE,EAAQ6J,IAAgB,IAHD,mBAG9EygC,EAH8E,KAGvEC,EAHuE,KAarF,OAHAzrC,qBAAU,WACN6K,GAAYA,EAAS5C,GAAQpH,EAAK2qC,KACnC,CAACA,IACG,kBAACv/B,EAAA,EAAD,CAAKpL,IAAKA,EAAKqF,MAAO,CAAEkG,QAAS,OAAQ0kB,cAAe,WACjD,YAAT5rB,EAAqB,kBAAC+G,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAU8tB,SAAU,SACjF,kBAACpK,EAAA,EAAD,CAAM7pB,MAAO,CACT3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACX1oB,YAAa,GAAIvC,aAAc,IAChClG,MAAK,4BAAkB48B,GAAat0B,KAAK,UAC3ChK,GAAc,+BACV,8BACT,kBAACgI,GAAA,EAAD,eAAWtG,MAAOA,EACd+B,MAAO,CAAEovB,UAAW,cACpBpsB,SAAUA,EACVhI,MAAgB,YAATgE,EAAqB6F,EAAcygC,EAC1C5gC,OAtBW,SAACq0B,GAChBr0B,GAAUA,EAAO3C,GAAQpH,GAAK,IAsB1BmK,WAAqB,SAAT9F,EAAkB8F,EAAa9B,EAAW,mBAAqB,GAC3E2B,SArBa,SAACo0B,GAAY,IAAD,EAC7BwM,GAAU,OAADxM,QAAC,IAADA,GAAA,UAAAA,EAAG3E,cAAH,eAAWp5B,QAAS,KAqBzB6J,YAAaA,EACb2gC,WAAU,eACFnC,EAAY,CAAEA,aAAc,IAEpC7+B,WAAU,2BACO,YAATxF,EAAqB,CAAEyF,UAAU,GAAS,IADxC,IAENY,aAAc,kBAAC,GAAD,CAAW9G,MAAM,iBAAjB,UAAqC+mC,EAAM3X,OAA3C,YAAqD0V,OAEnEgC,M,qBCjChB,SAASI,GAA0BnsC,GAC/B,OACI,kBAACyM,EAAA,EAAD,CAAKR,SAAS,WAAWW,QAAQ,eAC7B,kBAACS,GAAA,EAAD,eAAkB1G,QAAQ,eAAkB3G,IAC5C,kBAACyM,EAAA,EAAD,CACI88B,IAAK,EACLC,KAAM,EACN4C,OAAQ,EACRC,MAAO,EACPpgC,SAAS,WACTW,QAAQ,OACRC,WAAW,SACXC,eAAe,UAEf,kBAAC,GAAD,CAAgB7H,MAAM,iBAAtB,UAA0CmuB,KAAKxI,MAC3C5qB,EAAM0B,OADV,QAQD,mBAC2E,IADxEgE,EACuE,EADvEA,KAAMf,EACiE,EADjEA,MAAO1B,EAC0D,EAD1DA,KAAY6oC,GAC8C,EADpDxoC,KACoD,EAD9CwoC,SAC8C,IADrCxK,mBACqC,MADvB,GACuB,EADnBl2B,EACmB,EADnBA,OACmB,IADX1J,aACW,MADH,GACG,EADC8J,EACD,EADCA,WAAYH,EACb,EADaA,SAClG5C,EAAqF,EAArFA,KAAmB44B,GAAkE,EAA/E91B,YAA+E,EAAlE81B,cAAchgC,EAAoD,EAApDA,IAAoD,KAA/C0qC,WACMzK,EAApC53B,iBAD6E,SAC3DgD,EAAkB40B,EAAlB50B,MAAO4f,EAAWgV,EAAXhV,OADoD,GAEpEpmB,cAATC,KACwBlG,mBAAiB,KAHoC,mBAG9EqsC,EAH8E,KAGpEC,EAHoE,OAI3DtsC,mBAAuB,MAJoC,mBAI9EwH,EAJ8E,KAIvEC,EAJuE,OAKrDzH,mBAAiB,GALoC,mBAK9EskC,EAL8E,KAKpEC,EALoE,OAMvDvkC,oBAAkB,GANqC,mBAM9E0H,EAN8E,KAMrEC,EANqE,OAOzC3H,mBAA+B,MAPU,mBAO9DykC,GAP8D,WAQ7EnD,EAAyBF,EAAzBE,UAAWoD,EAActD,EAAdsD,UARkE,EAS3D1kC,mBAA0B,SAATyF,EAAkBhE,EAAQ,IATgB,mBAS9EsqC,EAT8E,KASvEC,EATuE,KAU/EriC,EAAa,SAAC61B,GAChBr0B,GAAUA,EAAO3C,GAAQpH,GAAK,IAE5BsI,EAAY,yCAAG,WAAO81B,GAAP,0BAAA/+B,EAAA,yDACjBgH,EAAS,MACTokC,GAAWA,EAAQrjC,GAAQpH,EAAK,IAC1B24B,GACF,iBAACyF,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWD,aAAZ,QAAqB,CAAC,OAAO,KAC7B,iBAAC4E,QAAD,IAACA,GAAD,UAACA,EAAGqF,oBAAJ,aAAC,EAAiBjK,aAAlB,QAA2B,CAAC,OAAO,GALtB,oDASjB0R,EAAYvS,EAAKvxB,MACX+jC,EAAUxS,EAAKvxB,KAAK0xB,MAAM,KAAKC,OAAS,GAC9Cv6B,QAAQC,IAAI0sC,EAAS7H,GACjB6H,IAAY7H,EAZC,wBAab/6B,IACAkiC,EAAUA,EAAQrjC,GAAQpH,EAAT,4BAAmCsjC,EAAnC,YAAyDj9B,EAAS,IAAI2B,MAAJ,4BAA+Bs7B,EAA/B,aAdtE,8BAiBJ,YAATj/B,EAjBa,wBAkBbumC,EAASQ,IAAIC,gBAAgB1S,IAlBhB,4CAqBX4K,EAAa5K,EAAMwS,GArBR,4CAAH,sDAwBZ5H,EAAY,yCAAG,WAAO5K,EAAW2K,GAAlB,oBAAAjkC,EAAA,sEAEbkH,GAAW,GACLqyB,EAAOt3B,aAAO,WAAD,OACJ0M,KAAK21B,MADD,YACUL,GACzB3K,EAAM,qBAEV0K,EAAkBzK,GAClBA,EAAKI,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC1BiK,EAAYpR,KAAK8H,MAAOZ,EAASC,EAAS,SATjC,SAWiBN,EAAKpsB,UAXtB,gBAYzBiB,GAD4BA,EAXH,EAWP0rB,UACVC,WAAW,QAAS3rB,EAAxB,kBAAyCA,GACjClH,GAAW,GACXqkC,EAASn9B,GAdI,kDAgBblF,IACA86B,EAAkB,MAClB98B,GAAW,GACXkkC,EAAUA,EAAQrjC,GAAQpH,EAAK,KAAe0F,SAAWW,EAAS,EAAD,IAnBpD,0DAAH,wDAmClB,OAZAlH,qBAAU,WACFwrC,IACeA,EAAM7R,MAAM,KAAKC,QAAUuK,GAAa2H,EAASnS,MAAM,KAAKC,QAAUuK,GAEjFt5B,GAAYA,EAAS5C,GAAQpH,EAAK2qC,GAClCpiC,MAEAkiC,EAAUA,EAAQrjC,GAAQpH,EAAT,4BAAmCsjC,EAAnC,YAAyDj9B,EAAS,IAAI2B,MAAJ,4BAA+Bs7B,EAA/B,aACnFt5B,GAAYA,EAAS5C,GAAQpH,EAAK,QAG3C,CAAC2qC,IACG,kBAACv/B,EAAA,EAAD,CAAKpL,IAAKA,GACH,YAATqE,EAAqB,kBAAC+G,EAAA,EAAD,KAClB,kBAAC8jB,EAAA,EAAD,CAAO7pB,MAAO,CACV3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACX1oB,YAAa,GAAIvC,aAAc,IAChClG,MAAK,4BAAkB48B,GAAat0B,KAAK,UAC3ChK,GAAc,+BACV,8BACT,2BAAOK,KAAK,OAAOs3B,OAAM,WAAM+J,GAAa94B,GAAIxK,GAAOoH,GAAQ9D,EAAO0G,SAAU1B,EAC5EjD,MAAO,CAAEkG,QAAS,UAEtB,kBAAC+/B,GAAA,EAAD,CAAMhmC,QAAQ,WAAWD,MAAO,CAC5Bs0B,aAAc,EAAGzwB,QAASyhC,EAAQ,EAAI,GAAIp/B,QAAS,OACnDF,MAAO,IAAK4f,OAAQ,IACpBzf,WAAY,SAAUC,eAAgB,WAErCnF,EACG,kBAACwkC,GAAD,CAA2BzqC,MAAO6iC,IAAeyH,EAAQ,yBAAK1f,OAAQ,OAClE5f,MAAM,OAAOmkB,IAAKmb,IAAY,kBAACv/B,EAAA,EAAD,CAAK/F,MAAO,CACtCkG,QAAS,OACT0kB,cAAe,SAAUsb,UAAW,SACpC//B,WAAY,SACZC,eAAgB,WAEpB,kBAAC,GAAD,KAAiBnI,EAAO+E,EAAW,IAAM,GAAzC,UAAyD,YAAThE,EAAA,YAA0Bi/B,EAA1B,KAAyC,KACzF,kBAAC,KAAD,CAAmB5gC,SAAS,UACnB,WAAR2B,EAAoB,kBAAC,GAAD,CAAgBT,MAAM,eAAeyH,EAArC,MAA+C4f,GAA2B,gCAG3G,kBAAC/f,GAAA,EAAD,CAAgB9E,QAASA,GAClBA,EAAF,OAAUA,QAAV,IAAUA,OAAV,EAAUA,EAAOV,QAAmB,YAATrB,EAAqBgE,EAAW,mBAAqB,GAAK8B,GAEhF,YAAT9F,EAAqB,8BAAU,2BAAOiG,QAAStK,GAAOoH,GAAQ9D,GAC3D,kBAACoI,GAAA,EAAD,CAAQrG,MAAO,CAAEiG,UAAW,GAAImpB,UAAW,UACvC7oB,KAAK,QACL3C,UAAU,OACV6C,SAAUxF,EACVotB,UAAW,kBAACkG,GAAA,EAAD,CAAWh2B,MAAM,UAAUlB,SAAU,UAChDiH,SAAUghC,EAAQ,SAAW,SAAU/mC,MAAM,UAAU0B,QAAQ,gBClHhE2B,OAAMukC,MAAK,YAAgE,IAAD,oFAiBnFC,EAjBuBpQ,EAA4D,EAA5DA,aAA2ByE,IAAiC,EAA9C4L,YAA8C,EAAjC5L,oBAAiC,GAC9CvhC,qBAAW+iC,IAA7CwB,GADgF,wBASnFnB,KANFU,GAHqF,GAGrFA,YACAH,GAJqF,GAIrFA,SACAE,GALqF,GAKrFA,YACAP,GANqF,GAMrFA,iCAEAM,IARqF,GAOrFP,eAPqF,GAQrFO,YARqF,GAUvBvjC,mBAAwB,IAVD,qBAUhF0hC,GAVgF,MAUtDqL,GAVsD,SAWrD/sC,mBAAwB,MAX6B,qBAWhFgtC,GAXgF,MAWrEC,GAXqE,SAYzCjtC,oBAAkB,GAZuB,qBAYhFktC,GAZgF,MAY/DC,GAZ+D,SAa7CntC,oBAAkB,GAb2B,qBAcjFotC,IAdiF,YAchE,UAAGlJ,GAASlD,SAASE,WAArB,iBAAG,EAAuCC,cAA1C,aAAG,EAA+ChgC,KAAI,oBAAGigC,aAAH,SAAmBE,UAAnB,EAA8BC,aAdpB,GAenCvhC,mBAAwB,MAfW,qBAehFqtC,GAfgF,MAe5DC,GAf4D,MAkBvF/sC,qBAAU,WAAO,IAAD,EACRgtC,EAAiB7R,GACrBe,EAAayH,GAASlD,SAASE,IAAoBsM,kBAAcvgC,EADpB,iBAC+Bi3B,SAD/B,IAC+BA,QAD/B,EAC+BA,GAAU7gC,YADzC,QACiD,MAEhGwpC,EAAS5rC,OAAOwsC,KAAKF,GAClBpsC,KAAI,SAACusC,GAAD,OAAeH,EAAeG,GAAWvsC,KAAI,SAAC2pC,GAAD,8BAAiCA,QAAjC,IAAiCA,OAAjC,EAAiCA,EAAOtiC,YAAxC,QAAgDsiC,QACjG6C,OACHZ,GAA4BF,KAC3B,IA0BH,IAwBMe,GAAqB,SAACje,EAAsBC,GAChD,OACE,kBAAC,aAAD,CAAWxuB,IAAKuuB,EAAKvuB,IAAKysC,YAAale,EAAKvuB,IAAKwuB,MAAOA,IACrD,SAACke,EAAUC,GAAX,cAnGaC,EAAqBC,EAAqBxnC,EAmGvD,OACC,kBAAC,GAAD,CACEqnC,SAAUA,EACVrnC,OAtGUunC,EAuGRD,EAASC,WAvGoBC,EAwG7BH,EAASI,eAAeznC,MAxG0BA,EAwGnBmiC,GAAOuF,aAxG/B,YAAC,2BAEhBH,EAAa,CACftqC,WAAY,UACZwiC,OAAQ,qBACN,IACDz/B,GACAwnC,IAmGOhE,UAAW,kBA9BH,SAACra,GACjBqd,GAAard,GACbud,IAAmB,GA4BMlD,CAAUra,IAC3Bwe,YAAa,kBA1BH,SAACze,EAAWC,GAC9B4T,GAAYtC,GAAoBtR,GAyBLwe,CAAYze,EAAMC,IACrCA,MAAOA,EACP7kB,SACE,kBAACyB,EAAA,EAAD,CACE/F,MAAO,CAAEkG,QAAS,OAAQX,SAAU,aACN,UAAzB,OAAJ2jB,QAAI,IAAJA,GAAA,UAAAA,EAAMyR,oBAAN,eAAoB/9B,MACnB,kBAACgrC,GAAD,eACErrC,KAAM,oCAAI0+B,GAAyBhzB,SAAzB,iBAAkCihB,QAAlC,IAAkCA,GAAlC,UAAkCA,EAAMyR,oBAAxC,aAAkC,EAAoBE,iBAAtD,QAAmE,IAKV,8BALgB,kBAAChR,EAAA,EAAD,CAAMtrB,MAAM,UAAUyB,MAAO,CAC9G3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACXnyB,WAAY,UAAWsB,MAAO,OAC9BmI,YAAa,GAAIvC,aAAc,IAC9BlG,MAAO,sCAAuCsI,KAAK,UAC0D,IAA7GogC,GAAkB5Y,QAAO,SAAAjoB,GAAC,eAAIA,KAAU,OAAJojB,QAAI,IAAJA,GAAA,UAAAA,EAAMyR,oBAAN,eAAoBE,YAApB,OAAgC3R,QAAhC,IAAgCA,GAAhC,UAAgCA,EAAMyR,oBAAtC,aAAgC,EAAoBG,aAAUnN,OAC/F,kBAAC9D,EAAA,EAAD,CAAMtrB,MAAM,UAAUyB,MAAO,CAC7B3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACX6I,gBAAiB,UAAW15B,MAAO,UACnCmI,YAAa,GAAIvC,aAAc,IAC9BlG,MAAO,mBAAoBsI,KAAK,UAAa,+BAGpD8+B,WAAY,CAAEplC,QAAS,YAAc8B,KAAMmnB,EAAKvuB,KAASuuB,EAhB3D,CAgBiElqB,KAAK,aACtE,kBAAC6oC,GAAD,eACAtrC,KAAM,oCAAI0+B,GAAyBhzB,SAAzB,iBAAkCihB,QAAlC,IAAkCA,GAAlC,UAAkCA,EAAMyR,oBAAxC,aAAkC,EAAoBE,iBAAtD,QAAmE,IAKV,8BALgB,kBAAChR,EAAA,EAAD,CAAMtrB,MAAM,UAAUyB,MAAO,CAC9G3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACXnyB,WAAY,UAAWsB,MAAO,OAC9BmI,YAAa,GAAIvC,aAAc,IAC9BlG,MAAO,sCAAuCsI,KAAK,UAC0D,IAA7GogC,GAAkB5Y,QAAO,SAAAjoB,GAAC,eAAIA,KAAU,OAAJojB,QAAI,IAAJA,GAAA,UAAAA,EAAMyR,oBAAN,eAAoBE,YAApB,OAAgC3R,QAAhC,IAAgCA,GAAhC,UAAgCA,EAAMyR,oBAAtC,aAAgC,EAAoBG,aAAUnN,OAC/F,kBAAC9D,EAAA,EAAD,CAAMtrB,MAAM,UAAUyB,MAAO,CAC7B3C,SAAU,GAAIuoB,OAAQ,GACtBwJ,UAAW,aACX6I,gBAAiB,UAAW15B,MAAO,UACnCmI,YAAa,GAAIvC,aAAc,IAC9BlG,MAAO,mBAAoBsI,KAAK,UAAa,+BAGlDvH,KAAK,UAAU+C,KAAMmnB,EAAKvuB,KAASuuB,WAQrD,OACE,kBAACnjB,EAAA,EAAD,CAAK/F,MAAOmiC,GAAO7Y,WACjB,kBAACvjB,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUhC,aAAc,GAAI8vB,SAAU,SAC/E,kBAAC6T,GAAA,EAAD,CAASja,MAAM,yBACb,kBAACxnB,GAAA,EAAD,CACErG,MAAO,CAAEmE,aAAc,IACvB28B,QAAS,kBAACiH,GAAA,EAAD,MACTxhC,KAAK,QACLtG,QAAQ,YACR1B,MAAM,UACNmH,QAAS,WACP8gC,GAAa,MACbE,IAAmB,IAErBpiC,SAAS,gBAGX,iBAACm5B,SAAD,IAACA,IAAD,UAACA,GAAUlD,gBAAX,aAAC,EAAoB5M,cAArB,QAA+B,GAAK,IAAO,EAC3C,oCACE,kBAAC,GAAD,CAAM3tB,MAAO,CAAEiE,OAAQ,GAAIgC,UAAW,GAAK1H,MAAM,iBAAjD,MACA,kBAACgG,GAAA,EAAD,CACEyjC,QAAM,EACNhoC,MAAO,CAAEgE,SAAU,IAAKiC,UAAW,EAAG9B,aAAc,IACpDlG,MAAM,0CACN4G,YAAY,iBACZZ,OAAO,QACPU,SAAU,SAACo0B,GAAD,OAAO8N,GAAsBoB,SAASlP,EAAE3E,OAAOp5B,SACzD4J,WAAS,EACT2B,KAAK,QACL/B,WAAY,CACV0jC,eAAgB,kBAACniC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACzD,kBAACE,GAAA,EAAD,CACEI,SAAgC,MAAtBmgC,GACVroC,MAAM,UACNgI,KAAK,QACLjC,SAAS,SAASoB,QAAS,kBACzB82B,GAAiCoK,GAAoBnM,GAAoBQ,GAAyBtN,OAASsN,GAA2BmL,MAC1I,kBAACpd,EAAA,EAAD,CAAShpB,MAAO,CACd4lB,OAAQ,GACR3hB,OAAQ,GACP0yB,YAAY,eAGnB12B,QAAQ,WACRjF,MAAO4rC,IACNnJ,GAASlD,SAAS4N,MAAM,EAAG1K,GAASlD,SAAS5M,OAAS,GAAGjzB,KAAI,SAAC0tC,EAAQjf,GAAT,OAC5D,kBAAC0B,EAAA,EAAD,CAAUlwB,IAAKytC,EAAOva,MAAO7yB,MAAOmuB,GACjCif,EAAOva,YAGI,+BAExB,kBAAC,GAAD,CAAM7tB,MAAO,CAAEvC,WAAY,MAA3B,mBACC,UAAAggC,GAASlD,SAASE,WAAlB,eAAuCC,OAAO/M,QAAS,kBAAC1E,EAAA,EAAD,KACtD,kBAAC,mBAAD,CAAiBof,UAvHL,SAAChuC,GAEZA,EAAOiuC,aAGZxL,GAAWrC,GAAoBpgC,EAAOkuC,OAAOpf,MAAO9uB,EAAOiuC,YAAYnf,SAmHjE,kBAAC,aAAD,CAAWqf,YAAY,cACpB,SAACnB,EAAUC,GAAX,QAxMSmB,EAwMT,OACC,yBAAKzoC,OAzMGyoC,EAyMiBnB,EAASmB,eAzM3B,YAAC,eAChBA,EAAiB,CACnBxrC,WAAY,WACV,IAHe,IAInB4G,QAAS,EACTG,SAAU,OAoMqD0hB,IAAK2hB,EAASqB,UAAjE,UACEjL,GAASlD,SAASE,WADpB,iBACE,EAAuCC,cADzC,aACE,EAA+ChgC,IAAIysC,IAClDE,EAASxiC,kBAIU,kBAAC,GAAD,CAAM7E,MAAO,CAAEiG,UAAW,IAAM1H,MAAM,iBAAtC,wBAE7BkoC,GACC,kBAACkC,GAAD,CACExT,aAAY,iBAAEsI,SAAF,IAAEA,QAAF,EAAEA,GAAU7gC,YAAZ,QAAoB,KAChCw4B,WAAYH,GACVe,EAAY,OAACyH,SAAD,IAACA,IAAD,UAACA,GAAUlD,SAASE,WAApB,aAAC,EAAwCsM,aACrD,aAFkC,iBAEpBtJ,SAFoB,IAEpBA,QAFoB,EAEpBA,GAAU7gC,YAFU,QAEF,MAElCy4B,YAAaJ,GACXe,EAAY,OAACyH,SAAD,IAACA,IAAD,UAACA,GAAUlD,SAASE,WAApB,aAAC,EAAwCsM,aACrD,cAFmC,iBAEpBtJ,SAFoB,IAEpBA,QAFoB,EAEpBA,GAAU7gC,YAFU,QAEF,MAEnC2mC,aAAc,CACZ5oC,IACgB,OAAd4rC,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,aAAqB,EAA0D5rC,IAC7E,GACJmgC,SACgB,OAAdyL,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB5L,oBADJ,aAAqB,EACHG,SAAW,GAC/BmI,aACgB,OAAdsD,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,aAAqB,EAA0D3pC,KAC7E,GACJiI,YACgB,OAAd0hC,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,aAAqB,EACjB1hC,YAAc,GACpBjI,KACgB,OAAd2pC,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB5L,oBADJ,aAAqB,EACH/9B,KAAO,GAC3Bi+B,UACgB,OAAd0L,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB5L,oBADJ,aAAqB,EACHE,UAAY,GAChC58B,MACgB,OAAdsoC,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,aAAqB,EAA0DtoC,MAC7E,GACJ+E,SACgB,OAAdujC,KAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB3L,mBADJ,aAAqB,EACJ53B,UACnBgD,MACgB,OAAdugC,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB3L,mBADJ,aAAqB,EACJ50B,MAAQ,IAC3Bi4B,UACgB,OAAdsI,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB5L,oBADJ,aAAqB,EACHsD,UAAY,MAChCrY,OACgB,OAAd2gB,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB3L,mBADJ,aAAqB,EACJhV,OAAS,IAC5Byd,UACgB,OAAdkD,GAAA,UAAqB9I,GAASlD,SAASE,WAAvC,iBAAqB,EAAuCC,OAAO6L,WAAnE,iBAAqB,EACjB3L,mBADJ,aAAqB,EACJyI,UAAY,IAEjCG,UAAyB,OAAd+C,GACX/+B,QAASk/B,GACTpD,aAA4B,OAAdiD,GAzLC,SAACtN,GACtB+D,GAAYvC,GAAoB8L,GAAWtN,GAC3CuN,GAAa,OAfQ,SAACvN,GACtB4D,GAASpC,GAAoBxB,MAuMvB,kCAGP,SAAC2P,EAAMC,GAAP,OAAgBjuC,KAAKm7B,UAAU6S,KAAUhuC,KAAKm7B,UAAU8S,MAGrDC,GAAwB,SAAC,GAOnB,IANVtF,EAMS,EANTA,UACAmE,EAKS,EALTA,YAEON,GAGE,EAJT3hB,IAIS,EAHTyD,MAGS,EAHFke,UACP/iC,EAES,EAFTA,SAAUtE,EAED,EAFCA,MACP1G,EACM,wFACT,OACE,kBAAC2sC,GAAA,EAAD,eACEhmC,QAAQ,YACJ3G,EAFN,CAGEosB,IAAK2hB,EAASqB,UACVrB,EAASI,eACTJ,EAAS0B,gBALf,CAME/oC,MAAOA,IAEP,kBAAC2lB,EAAA,EAAD,KACE,kBAACK,EAAA,EAAD,KACG1hB,GAEH,kBAACk7B,GAAA,EAAD,KACE,kBAACh6B,EAAA,EAAD,CAAYI,KAAK,MAAMF,QAAS89B,EAAW/9B,aAAW,QACpD,kBAAC,KAAD,OAEF,kBAACD,EAAA,EAAD,CAAYE,QAASiiC,EAAa/hC,KAAK,MAAMH,aAAW,UACtD,kBAACujC,GAAA,EAAD,WASN7G,GAAS,CACb7Y,UAAW,CACTrjB,UAAW,GACX9B,aAAc,GACdN,QAAS,IAEX6jC,aAAc,CAAEzjC,OAAQ,KCxUX,eAMA,IALbw2B,EAKY,EALZA,mBACA4L,EAIY,EAJZA,YACArQ,EAGY,EAHZA,aACAz1B,EAEY,EAFZA,SACA0oC,EACY,EADZA,OAEA,OACE,0BACE1oC,SAAU,SAACw4B,GACTA,EAAEr1B,mBAEJ,kBAACwlC,GAAD,CACElT,aAAcA,EACdqQ,YAAaA,EACb5L,mBAAoBA,IAEtB,6BACE,kBAACp0B,GAAA,EAAD,CACEX,QAAS,kBAAMujC,KACf1iC,KAAK,QACLvG,MAAO,CAAEgG,MAAO,cAAeC,UAAW,IAC1C3B,SAAS,SAEX,kBAAC+B,GAAA,EAAD,CACErG,MAAO,CAAEiG,UAAW,IACpB1H,MAAM,UACN0B,QAAQ,YACRyF,QAAS,kBAAMnF,KACf+D,SAAU,YCpCdxB,GAAmBC,OAAaigC,MAAM,CAC1CnV,MAAO9qB,OACJomC,IAAI,EAAG,qBACPC,IAAI,GAAI,oBACRpmC,SAAS,8BACZ64B,YAAa94B,OACVqmC,IAAI,IAAK,sBAGC,eAAyC,IAAtC7oC,EAAqC,EAArCA,SAAUgjC,EAA2B,EAA3BA,aAAc0F,EAAa,EAAbA,OAAa,EAQjDrmC,aAAU,CACZC,cAAe0gC,EACfzgC,oBACAvC,aATA6C,EAFmD,EAEnDA,OACAC,EAHmD,EAGnDA,OACAC,EAJmD,EAInDA,QACAJ,EALmD,EAKnDA,WACAC,EANmD,EAMnDA,aACAF,EAPmD,EAOnDA,aAOF,OACE,0BACE1C,SAAU4C,EACVnD,MAAO,CACLkG,QAAS,OACT0kB,cAAe,SACfxkB,eAAgB,WAGlB,kBAAC7B,GAAA,EAAD,CACEvB,UAAQ,EACR/C,QAAQ,WACR8B,KAAK,QACL/G,MAAOoI,EAAOyqB,MACdnpB,OAAQxB,EACRyB,SAAU1B,EACVlC,MAAOuC,EAAQuqB,OAASxqB,EAAOwqB,MAC/B/oB,WAAYxB,EAAQuqB,OAASxqB,EAAOwqB,MACpCjxB,KAAK,OACLqH,OAAO,QACPY,YAAY,sBACZ5G,MAAM,kBAGR,kBAACsG,GAAA,EAAD,CACEtE,QAAQ,WACR8B,KAAK,cACL/G,MAAOoI,EAAOy4B,YACdn3B,OAAQxB,EACRyB,SAAU1B,EACVlC,MAAOuC,EAAQu4B,aAAex4B,EAAOw4B,YACrC/2B,WAAYxB,EAAQu4B,aAAex4B,EAAOw4B,YAC1Cj/B,KAAK,OACLysC,WAAS,EACTC,KAAM,EACNrlC,OAAO,QACPY,YAAY,4BACZ5G,MAAM,wBAER,6BACE,kBAACoI,GAAA,EAAD,CACEX,QAAS,kBAAMujC,KACf1iC,KAAK,QACLvG,MAAO,CAAEgG,MAAO,cAAeC,UAAW,IAC1C3B,SAAS,SAEX,kBAAC+B,GAAA,EAAD,CACEE,KAAK,QACLvG,MAAO,CAAEgG,MAAO,cAAeC,UAAW,IAC1C1H,MAAM,UACN0B,QAAQ,YACRrD,KAAK,SACL0H,SAAS,Y,WC1EJ,eAA8C,IAA3Cw9B,EAA0C,EAA1CA,WAAYuE,EAA8B,EAA9BA,YAAakD,EAAiB,EAAjBA,WACnC3H,EAAQ,CAAC,GAAD,OACTyE,EAAc,OAAS,MADd,sBAETA,EAAc,OAAS,MAFd,2BAGTA,EAAc,OAAS,MAHd,qBAITA,EAAc,OAAS,MAJd,kBAMd,OACE,kBAACxE,GAAA,EAAD,CAASC,WAAYA,EAAYnL,YAAY,YAC1CiL,EAAMlnC,KAAI,SAACuD,GAAD,OACT,kBAAC8jC,GAAA,EAAD,CAAMpnC,IAAKsD,GACT,kBAAC+jC,GAAA,EAAD,KAAY/jC,GACZ,kBAACurC,GAAA,EAAD,KAAcD,EAAWzH,UCTpB,eAKR,IAJLiF,EAII,EAJJA,YACA0C,EAGI,EAHJA,eACAzT,EAEI,EAFJA,aACA0T,EACI,EADJA,gBAEA,OACE,0BACE1pC,MAAO,CACLkG,QAAS,OAETC,WAAY,UAEd5F,SAAU,SAACw4B,GACTA,EAAEr1B,mBAEJ,kBAACqB,GAAA,EAAD,CAAa/E,MAAO,CAAEgG,MAAO,KAAO/B,OAAO,QAAQhE,QAAQ,YACzD,kBAAC+E,GAAA,EAAD,CAAYG,GAAG,qCAAf,sBAGA,kBAAC4+B,GAAA,EAAD,CACEC,QAAQ,oCACR7+B,GAAG,8BACHR,SAAU,SAACo0B,GAAD,OAAO0Q,EAAe1Q,EAAE3E,OAAOp5B,QACzCA,MAAO+rC,EACPliC,YAAY,qBACZ5G,MAAM,sBACgC,IAArCzD,OAAOwsC,KAAKhR,GAAcrI,QACzB,kBAAC9C,EAAA,EAAD,CAAUpkB,UAAU,GAApB,2BAEDjM,OAAOwsC,KAAKhR,GAAct7B,KAAI,SAACwuB,EAAMC,GACpC,OACE,kBAAC0B,EAAA,EAAD,CAAUlwB,IAAKwuB,EAAOhkB,GAAIgkB,EAAOnuB,MAAOkuB,GACrCA,QAMX,kBAAC7iB,GAAA,EAAD,CACErG,MAAO,CAAE+lB,WAAY,IACrBxnB,MAAO,UACP0B,QAAQ,WACRyF,QAAS,kBAAMgkC,KACfjjC,SAA0B,KAAhBsgC,EACVziC,SAAUyiC,EAAc,OAAS,UChD1B,eAOR,IAAD,EANJ4C,EAMI,EANJA,OACAlP,EAKI,EALJA,mBACA4L,EAII,EAJJA,YACAuD,EAGI,EAHJA,sBACAC,EAEI,EAFJA,mBACAZ,EACI,EADJA,OACI,EACsB1vC,mBAAS,MAD/B,mBACGwH,EADH,KACUC,EADV,OAEe9H,qBAAW+iC,IAAvBwB,EAFH,oBAGIf,EAAoBJ,KAApBI,gBACR,OACE,0BACEn8B,SAAU,SAACw4B,GACTA,EAAEr1B,mBAEJ,kBAAC49B,GAAA,EAAD,CACEI,gBAAiB,UACjB3/B,KAAM,SAAW2qB,KAAK6I,SACtBv6B,MAAK,OAAEyiC,QAAF,IAAEA,GAAF,UAAEA,EAAUlD,SAASE,UAArB,aAAE,EAAwCqP,OAC/C1E,QAAS,SAACrM,GAAD,OAAO/3B,EAAS+3B,EAAE14B,UAC3BsE,SAAU,SAACuxB,GAAD,OACRwG,EAAgBjC,EAAoB,CAClCqP,OAAQ5T,KAIZj4B,MAAM,uBACN8rC,UAAW,kBAAM/oC,EAAS,OAC1BD,MAAOA,EACPmzB,OAAQ,UACRpvB,WACE,kFAIJ,6BACE,kBAACuB,GAAA,EAAD,CACEX,QAAS,kBAAMujC,KACf1iC,KAAK,QACLvG,MAAO,CAAEgG,MAAO,cAAeC,UAAW,IAC1C3B,SAAS,SAEX,kBAAC+B,GAAA,EAAD,CAEErG,MAAO,CAAEiG,UAAW,IACpB1H,MAAM,UACN0B,QAAQ,YACRrD,KAAK,SACL8I,QAAS,WACF2gC,GACHuD,EAAsBnP,EAAqB,GAE7CoP,KAEFvlC,SACEqlC,GAEItD,EADA,aAGE,sBC5CZpgB,GAAYC,aAAW,SAACvnB,GAAD,OACzBwnB,YAAa,CACTE,OAAQ,CACJ9gB,SAAU,YAEdsoB,MAAO,CACH9H,WAAYpnB,EAAMyoB,QAAQ,GAC1BuB,KAAM,QAKZqhB,GAAapoC,IAAM4jB,YAAW,SAChClsB,EACAosB,GAEA,OAAO,kBAACukB,GAAA,EAAD,eAAOlhB,UAAU,KAAKrD,IAAKA,GAASpsB,OAShC,eAAuE,IAAD,EAAnEkH,EAAmE,EAAnEA,YAAampC,EAAsD,EAAtDA,OAAQ3T,EAA8C,EAA9CA,aAAcuQ,EAAgC,EAAhCA,UAAW2D,EAAqB,EAArBA,OACtD/hB,EAAUlC,KADiE,EAExC/sB,qBAAW+iC,IAA7CwB,EAF0E,sBAG3ClkC,mBAAiBowC,EAAM,UAAGlM,EAASlD,SAASgM,UAArB,aAAG,EAAwCQ,YAAc,IAHrC,mBAG1EA,EAH0E,KAG7D0C,EAH6D,KAIzE/M,EAAoBJ,KAApBI,gBAJyE,EAK7BnjC,mBAAiB,GALY,mBAK1EkhC,EAL0E,KAKtDmP,EALsD,OAM7CrwC,mBAASowC,EAAS,EAAI,GANuB,mBAM1E7H,EAN0E,KAM9DqI,EAN8D,KAO3EC,EAAiB,WACnB5pC,KAEJ1G,qBAAU,WACN8vC,EAAsBnM,EAASlD,SAAS5M,UACzC,CAAC8M,IACJ,IAAMiP,EAAkB,WACpBhN,EAAiBiN,EAASpD,EAAY9L,EAA+B,CACjEsM,gBAEJoD,EAAcrI,EAAa,IAkE/B,OAAQ,kBAACp6B,GAAA,EAAD,CAAQ2iC,YAAU,EAACziC,MAAM,EAAMJ,QAAS4iC,EAC5CE,oBAAqBN,IACrB,kBAACtgB,EAAA,EAAD,CAAQhB,UAAWP,EAAQ9B,QACvB,kBAACuD,EAAA,EAAD,KACI,kBAACpkB,EAAA,EAAD,CAAYI,KAAK,QAAQrH,MAAM,UAAUmH,QAAS0kC,EAAgB3kC,aAAW,SACzE,kBAAC,KAAD,OAEJ,kBAAC,GAAD,CAAYijB,UAAWP,EAAQ0F,OACzB8b,EAAyB,iBAAhB,iBAIvB,kBAACY,GAAD,CAAgBlE,YAAasD,EAAQ7H,WAAYA,EAAYyH,WA5E9C,SAACzH,GAAwB,IAAD,IACvC,OAAQA,GACJ,KAAK,EACD,OACI,kBAAC0I,GAAD,CACIzD,YAAaA,EACb0C,eAAgBA,EAChBzT,aAAcA,EACd0T,gBAAiBA,IAG7B,KAAK,EACD,OACI,kBAACe,GAAD,CACIxB,OAAQ,WAAO,IAAD,EACVQ,EAAc,OACVhM,QADU,IACVA,GADU,UACVA,EAAUlD,SAAUoP,EAASpD,EAAY9L,UAD/B,aACV,EACMsM,aAEVoD,EAAcrI,EAAa,IAE/BvhC,SAAU,SAACysB,GACP0P,EAAiBiN,EAASpD,EAAY9L,EAA+B,CACjE5M,MAAOb,EAAKa,MACZgO,YAAa7O,EAAK6O,cAEtBsO,EAAcrI,EAAa,IAE/ByB,aAAc,CACV1V,MAAK,OACD4P,QADC,IACDA,GADC,UACDA,EAAUlD,SAAUoP,EAASpD,EAAY9L,UADxC,aACD,EACM5M,MACVgO,YAAW,OACP4B,QADO,IACPA,GADO,UACPA,EAAUlD,SAAUoP,EAASpD,EAAY9L,UADlC,aACP,EACMoB,eAI1B,KAAK,EACD,OACI,kBAAC6O,GAAD,CACIzB,OAAQ,kBAAMkB,EAAcrI,EAAa,IACzCuE,YAAasD,EACb3T,aAAcA,EACdyE,mBAAqBkP,EAASpD,EAAY9L,EAC1Cl6B,SAAU,kBAAM4pC,EAAcrI,EAAa,MAGvD,KAAK,EACD,OACI,kBAAC6I,GAAD,CACI1B,OAAQ,kBAAMkB,EAAcrI,EAAa,IACzC6H,OAAQA,EACRtD,YAAasD,EACblP,mBAAqBkP,EAASpD,EAAY9L,EAC1CmP,sBAAuBA,EACvBC,mBAAoBK,IAGhC,QACI,aCtFD,eAQD,EAPZP,OAOa,IAAD,QANZ3J,EAMY,EANZA,aACAE,EAKY,EALZA,iBACAD,EAIY,EAJZA,YACAjK,EAGY,EAHZA,aACA4J,EAEY,EAFZA,mBACAC,EACY,EADZA,sBACY,EAC6B3mC,qBAAW+iC,IAA7CwB,EADK,sBAEwClkC,mBAAiB,GAFzD,mBAELkhC,EAFK,KAEemP,EAFf,OAGsBrwC,mBAAwB,MAH9C,mBAGLgtC,EAHK,KAGMC,EAHN,OAIY5kC,IAAMrI,SAA8B,IAJhD,mBAILyF,EAJK,KAICD,EAJD,KAMN6rC,EAAY,WAChB7rC,EAAQ,QAEF49B,EAAmBL,KAAnBK,cATI,EAUgCpjC,mBAAQ,OAClDkkC,QADkD,IAClDA,GADkD,UAClDA,EAAUlD,gBADwC,aAClD,EAAoB7/B,KAAI,YAA8B,IAAD,EAA1BggC,EAA0B,EAA1BA,OAAQqM,EAAkB,EAAlBA,YAC3B8D,EAAY5V,GAAyBe,EAAa+Q,QAAcvgC,GAAmB,OAARi3B,QAAQ,IAARA,OAAA,EAAAA,EAAU7gC,OAAQ,MAC7FkuC,EAAS,UAAGtwC,OAAOwsC,KAAK6D,UAAf,aAAG,EAAwBE,SAAQ,SAACC,GAAD,uBAChDH,EAAUG,UADsC,aAChD,EAActwC,KAAI,SAAC2pC,GAAD,8BAAgBA,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAOtiC,YAAvB,QAA+BsiC,QAEnD,cAAO3J,QAAP,IAAOA,OAAP,EAAOA,EACHhgC,KAAI,gBAAGigC,EAAH,EAAGA,aAAH,cAAsBA,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAcE,aACzCxL,OAAM,SAACgV,GAAD,OAAWyG,EAAU7iC,SAASo8B,UAlB/B,mBAUL4G,EAVK,KAUWC,EAVX,OAqBsD3xC,mBAAQ,OACxEkkC,QADwE,IACxEA,GADwE,UACxEA,EAAUlD,gBAD8D,aACxE,EAAoB7/B,KAAI,YAAiB,IAAD,EAAbggC,EAAa,EAAbA,OACnBiM,EAAiB,OAAGjM,QAAH,IAAGA,OAAH,EAAGA,EAAQhgC,KAChC,oBAAGigC,aAAH,SAAmBE,UAAnB,EAA8BC,YAEhC,OAAI,cAAIqQ,IAAIxE,UAAR,eAA4BpgC,QAASogC,EAAkBhZ,WA1BnD,mBAqBLyd,EArBK,KAqBsBC,EArBtB,KA+BZvxC,qBAAU,WAAO,IAAD,IACdoxC,EAAiB,OACfzN,QADe,IACfA,GADe,UACfA,EAAUlD,gBADK,aACf,EAAoB7/B,KAAI,YAA8B,IAAD,IAA1BggC,EAA0B,EAA1BA,OAAQqM,EAAkB,EAAlBA,YAC3B8D,EAAY5V,GAAyBe,EAAa+Q,QAAcvgC,EAA5B,iBAAuCi3B,QAAvC,IAAuCA,OAAvC,EAAuCA,EAAU7gC,YAAjD,QAAyD,MAC7FkuC,EAAS,UAAGtwC,OAAOwsC,KAAK6D,UAAf,aAAG,EAAwBE,SAAQ,SAACC,GAAD,uBAChDH,EAAUG,UADsC,aAChD,EAActwC,KAAI,SAAC2pC,GAAD,8BAAgBA,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAOtiC,YAAvB,QAA+BsiC,QAEnD,cAAO3J,QAAP,IAAOA,OAAP,EAAOA,EACHhgC,KAAI,qBAAGigC,aAAgBE,aACxBxL,OAAM,SAACgV,GAAD,OAAWyG,EAAU7iC,SAASo8B,UAG3CgH,EAA4B,OAC1B5N,QAD0B,IAC1BA,GAD0B,UAC1BA,EAAUlD,gBADgB,aAC1B,EAAoB7/B,KAAI,YAAiB,IAAD,EAAbggC,EAAa,EAAbA,OACnBiM,EAAiB,OAAGjM,QAAH,IAAGA,OAAH,EAAGA,EAAQhgC,KAChC,oBAAGigC,aAAH,SAAmBE,UAAnB,EAA8BC,YAEhC,OAAI,cAAIqQ,IAAIxE,UAAR,eAA4BpgC,QAASogC,EAAkBhZ,aAK9D,CAAC8P,IAEJ3jC,qBAAU,WACR8vC,EAAsBnM,EAASlD,SAAS5M,UACvC,CAAC8P,IAEJ,IAkBMj9B,EAAc,WAClBzB,EAAQ,IACRynC,EAAa,OAIf,OACE,kBAACzgC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAK/F,MAAO,CAAEmE,aAAc,GAAI+B,QAAS,OAAQC,WAAY,WAC3D,kBAAC,GAAD,iBACCs3B,EAASlD,SAAS5M,OAAS,kBAACtnB,GAAA,EAAD,CAC1BrG,MAAO,CAAEiE,OAAQ,IACjB68B,QAAS,kBAACiH,GAAA,EAAD,MACTxhC,KAAK,QACLtG,QAAQ,YACR1B,MAAM,UACNmH,QAASklC,EACTtmC,SAAS,gBACN,+BAEP,kBAACyB,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQ+tB,SAAU,OAAQ9tB,WAAY,SAAUtC,QAAS,GAAIC,YAAa,IAC7F25B,EAASlD,SAAS5M,OAAnB,OAgBC8P,QAhBD,IAgBCA,GAhBD,UAgBCA,EAAUlD,gBAhBX,aAgBC,EAAoB7/B,KAAI,SAACwuB,EAAMC,GAAW,IAAD,IACjCmiB,EAAe,OAAGpiB,QAAH,IAAGA,GAAH,UAAGA,EAAMwR,cAAT,aAAG,EAAc3M,QAAO,kBAAuB,UAAvB,EAAGnxB,QAA6B+wB,OACvE4d,EAAc,OAAGriB,QAAH,IAAGA,GAAH,UAAGA,EAAMwR,cAAT,aAAG,EAAc3M,QAAO,gBAAGnxB,EAAH,EAAGA,KAAH,MAAwB,WAATA,GAA8B,SAATA,KAAkB+wB,OAClG,OAAIxE,IAAUsR,GAGVtR,IAAUod,EAFL,8BAMP,kBAACN,GAAA,EAAD,CAAMtrC,IAAG,OAAEuuB,QAAF,IAAEA,OAAF,EAAEA,EAAM2E,MAAO7tB,MAAO,CAC7BgE,SAAU,IAAKuB,SAAU,WACzByyB,SAAU,UAAWtxB,YAAa,GAAIvC,aAAc,MAElD8mC,EAAe9hB,IACf,kBAACqiB,GAAD,CAAQvrC,QAAQ,QAAQopB,KAAK,6CAA6CzsB,KAAK,QAAQoD,MAAO,CAAE8iC,MAAO,GAAID,KAAM,KAElHuI,EAA0BjiB,IACzB,kBAACqiB,GAAD,CAAQvrC,QAAQ,UAAUopB,KAAK,6BAA6BzsB,KAAK,QAAQoD,MAAO,CAC9E8iC,MAAO,GACPD,IAAK,MAGT,2BACEjd,OAAQ,IACR6lB,UAAQ,EACRzlC,MAAM,OACNhG,MAAO,CAAEi4B,gBAAiB,QAC1ByT,OAAM,OAAEjO,QAAF,IAAEA,OAAF,EAAEA,EAAUzB,UAClB7R,IAAG,OAAEjB,QAAF,IAAEA,OAAF,EAAEA,EAAM4gB,SACb,kBAAC6B,GAAA,EAAD,KACE,kBAAC,GAAD,CAAM3rC,MAAO,CAAEvC,WAAY,MACxByrB,EAAK2E,OAER,kBAAC,GAAD,CAAWtvB,MAAM,iBAAjB,YACYgtC,EADZ,oBAC6CD,EAD7C,kBAIF,kBAACM,GAAA,EAAD,CAAaC,gBAAc,GACzB,kBAACrmC,EAAA,EAAD,CAAYxF,MAAO,CAAE+lB,WAAY,QAAUrgB,QAAS,kBAjFjD,SAACyjB,GAClBqd,EAAard,GACbpqB,EAAQ,QA+EgE+sC,CAAW3iB,IAAQ1jB,aAAA,4BAAiCyjB,EAAK2E,QACjH,kBAAC,KAAD,YAvDV,kBAACoY,GAAA,EAAD,CAAMhmC,QAAQ,WAAWD,MAAO,CAAEkG,QAAS,OAAQ0kB,cAAe,SAAU5kB,MAAO,OAAQG,WAAY,SAAUC,eAAgB,SAAUwf,OAAQ,MACjJ,kBAAC,GAAD,CAAMrnB,MAAM,iBAAZ,yBAGA,kBAAC8H,GAAA,EAAD,CACErG,MAAO,CAAE+lB,WAAY,IACrB+a,QAAS,kBAACiH,GAAA,EAAD,MACTxhC,KAAK,QACLtG,QAAQ,YACR1B,MAAM,UACNmH,QAASklC,EACTtmC,SAAS,kBAoDhBtF,EAAO,kBAAC+sC,GAAD,CACNxF,UAAWA,EACXvQ,aAAcA,EACdkU,OAAQ1pC,EACRA,YAvGe,WACN,SAATxB,GAGF29B,EAAclC,GAFdj6B,KAsGEmpC,OAAiB,SAAT3qC,IACL,8BACL,kBAAC+G,EAAA,EAAD,CAAKG,QAAQ,OAAOE,eAAe,gBAAgBw6B,GAAI,GACrD,kBAACv6B,GAAA,EAAD,CACEgoB,UAAW,kBAAC,KAAD,MACX9vB,MAAM,UACN0B,QAAQ,WACRyF,QAAS,kBAAMm6B,EAAsBD,EAAqB,KAJ5D,QAO8B,QAA7B,iBAACnC,QAAD,IAACA,OAAD,EAACA,EAAU7gC,YAAX,QAAmB,MAAiB,kBAACyJ,GAAA,EAAD,CACnCI,SAC+B,IAA7Bg3B,EAASlD,SAAS5M,UAChB3uB,KACF,OAACisC,QAAD,IAACA,OAAD,EAACA,EAAgB5b,OAAM,SAACvpB,GAAD,OAAOA,SAC9B,OAACslC,QAAD,IAACA,OAAD,EAACA,EAA2B/b,OAAM,SAACvpB,GAAD,OAAQA,MAE5Cg7B,QAAS,kBAACa,GAAA,EAAD,MACTpjC,MAAM,UACN0B,QAAQ,YACRyF,QAAS,WACPm6B,EAAsBD,EAAqB,KAXV,QAczB,kBAACv5B,GAAA,EAAD,CACVy6B,QAASd,GAAgB,kBAACr5B,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KACjEE,SAAUu5B,EACVhgC,MAAO,CAAEiE,OAAQ,IACjB1F,MAAO0hC,EAAc,YAAc,UACnChgC,QAASggC,EAAc,WAAa,YACpC37B,SACE27B,EAAc,QAAUD,EAAe,aAAe,SAExDt6B,QAAS,kBAAMw6B,EAAiBzC,S,0CC9NpCxX,GAAYC,aAAW,SAACvnB,GAAD,OAC3BwnB,YAAa,CACX0B,QAAS,CACP4X,OAAQ,eACR7U,cAAe,SACf1kB,QAAS,OACT+oB,UAAW,QACXqF,aAAc,SACdnuB,WAAY,SACZtC,QAASlF,EAAMyoB,QAAQ,GACvB8e,UAAW,SACX9/B,eAAgB,UAElBnI,MAAO,CACLiI,QAAS,OACT0kB,cAAe,SACfzkB,WAAY,SACZC,eAAgB,UAElB4lC,WAAY,CACV/lC,UAAWtH,EAAMyoB,QAAQ,GACzBjjB,aAAcxF,EAAMyoB,QAAQ,IAE9B6kB,UAAW,CACTtb,QAAS,EACT/K,OAAQ,EACR5f,MAAO,QAeE,eAUA,IAAD,IATL2+B,EASK,EATZ3pC,MACAg7B,EAQY,EARZA,aACAuK,EAOY,EAPZA,OACAoJ,EAMY,EANZA,OACA9kC,EAKY,EALZA,YACAqnC,EAIY,EAJZA,OACAnqC,EAGY,EAHZA,KAAMozB,EAGM,EAHNA,aAENiQ,GACY,EAFZ2E,UAEY,EADZ3E,SAEMjd,EAAUlC,KACRxmB,EAASD,cAATC,KAFI,EAGclG,mBAAiBorC,GAH/B,mBAGL3pC,EAHK,KAGEm3B,EAHF,OAIoC54B,mBAAiB,IAJrD,mBAIL4yC,EAJK,KAIaC,EAJb,OAKgC7yC,oBAAkB,GALlD,mBAKL8yC,EALK,KAKWC,EALX,OAMwC/yC,mBAAuB,MAN/D,mBAMLgzC,EANK,KAMeC,EANf,OAO0BjzC,oBAAkB,GAP5C,mBAOLkzC,EAPK,KAOQC,EAPR,OAQYnzC,mBAASowC,GARrB,mBAQLgD,EARK,aASYpzC,mBAAyB,SATrC,mBASLqD,EATK,KASCy0B,EATD,OAU8B93B,qBAAWorC,GAVzC,mBAULiI,EAVK,KAUUC,EAVV,OAWoCtzC,mBAC9CowC,EAAiC,IAAxB3T,EAAarI,SAAiBgX,GAZ7B,mBAWLmI,EAXK,KAWaC,EAXb,QAc4CxzC,oBAAmBuzC,GAd/D,qBAcLE,GAdK,MAciBC,GAdjB,SAekB1zC,mBACJ,IAAxBy8B,EAAarI,OAAe,KAAOuf,GAAsBlX,EAAcb,IAhB7D,qBAeL90B,GAfK,MAeI+wB,GAfJ,MAkBN+b,GAAgBpV,iBAAY,MAlBtB,GAoBcx+B,mBAAuB,MApBrC,qBAoBLwH,GApBK,MAoBEC,GApBF,MAqBNosC,GAAwB,yCAAG,6BAAApzC,EAAA,sEAE7BizC,IAAwB,GAFK,SAGVhkC,GAAsBksB,GAHZ,QAGvBe,EAHuB,QAK3BkW,EAAoBlW,IAEpBsW,EAAsB,IAAI7pC,MAAM,oCAChCsqC,IAAwB,IAE1BA,IAAwB,GAVK,gDAY7BT,EAAsB,EAAD,IACrBS,IAAwB,GAbK,yDAAH,qDAgB9BnzC,qBAAU,WACHgzC,GACHM,OAED,IACHtzC,qBAAU,WAEJ6yC,GAAQ3xC,IAAUgyC,KAA2BT,EAEnB,IAAxBvW,EAAarI,QACf0D,EAAQ,QACRgc,MAIAnB,EAAO,CACLlW,eACAC,aAAcsK,EACd3K,QAAS56B,IAKTA,IAAU2xC,GACZT,EAAO,CACLlW,eACAC,aAAcsK,EACd3K,QAAS56B,MAId,CAAC2xC,EAAMK,GAAsBT,IAChC,IAAMe,GAAU,yCAAG,WAAOha,GAAP,sBAAAt5B,EAAA,sEAEf0yC,GAAe,GACfJ,GAAkB,IACZ/Y,EAAOt3B,aAAO,GAAD,wBACdwD,QADc,IACdA,OADc,EACdA,EAAM+zB,WADQ,QACD,QADC,sBACoB7qB,KAAK21B,MADzB,YACkChL,EAAKvxB,KAAK0xB,MAAM,KAAKC,OACxEJ,IAEGK,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC5BzC,GAAW,GAAD,OAAI1E,KAAK8H,MAAOZ,EAASC,EAAS,KAAlC,kBATG,SAWYN,EAAKpsB,UAXjB,uBAWP2sB,EAXO,EAWPA,SACR4Y,GAAe,GAZA,kBAaR5Y,EAASC,WAAW,QAAUD,EAA9B,kBAAoDA,IAb5C,yCAef4Y,GAAe,GACfJ,GAAkB,GAhBH,kBAiBR,IAjBQ,0DAAH,sDAoBVe,GAAc,yCAAG,WAAOtU,EAASwU,GAAhB,wCAAAvzC,EAAA,yDACrB++B,GAAKA,EAAEr1B,iBACPq1B,GAAKA,EAAEyU,kBACPpc,GAAW,MACXpwB,GAAS,MACT6rC,GAAiB,GACjBE,GAAoB,GAChBz0C,EAAS,KACT8P,EAAM,GARW,SAUdpN,EAVc,oBAWbs4B,GACF,iBAACyF,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWD,aAAZ,QAAqB,CAAC,OAAO,KAC7B,iBAAC4E,QAAD,IAACA,GAAD,UAACA,EAAGqF,oBAAJ,aAAC,EAAiBjK,aAAlB,QAA2B,CAAC,OAAO,GAbpB,sDAeI,aAAjBgB,GAA8D,QAA/B7B,EAAKvxB,KAAK0xB,MAAM,KAAKC,MAfvC,wBAgBfmZ,GAAiB,GACjBE,GAAoB,GACpB3H,EAAQ,qDAlBO,8BAqBI,aAAjBjQ,EArBa,kCAuBAsY,KAAMC,UAAUpa,GAvBhB,WAuBfh7B,EAvBe,QAwBGkC,OAAOwsC,KAAK1uC,EAAO67B,OAEvBqB,WAAWvtB,SAAS,gBA1BnB,wBA2Bb4kC,GAAiB,GACjBE,GAAoB,GACpB3H,EAAQ,0DA7BK,gEAiCG9sC,SAjCH,iBAiCG,EAAQg7B,KAAK,6BAjChB,aAiCG,EAAoCqa,MAAM,QAjC7C,QAiCbr1C,EAjCa,OAmCbA,EAAUsC,KAAKC,MAAMvC,GAnCR,0DAqCbA,EAAS,KACTa,QAAQC,IAAR,MACAyzC,GAAiB,GACjBE,GAAoB,GACpB3H,EAAQ,2EAzCK,kCA6CjBhU,GAAW,iBA7CM,UA8CLkc,GAAWha,GA9CN,WA8CjBlrB,EA9CiB,+BAiDfykC,GAAiB,GACjBE,GAAoB,GACpB3H,EAAQ,oCAnDO,2BAsDjBjT,EAAS/pB,GAtDQ,wBAwDjBA,EAAMpN,EAxDW,eA0DnBo2B,GAAW,yCA1DQ,UA2DoCsE,GAAyByW,EAC9E/jC,GAAYpN,EACZm6B,GA7DiB,iBA2DXa,EA3DW,EA2DXA,aAAcC,EA3DH,EA2DGA,aAAcC,EA3DjB,EA2DiBA,IAI/BF,GAGH+W,GAAoB,GACpB3b,GAAW8b,GAAsBlX,EAAcb,IAC/C4X,GAAoB,GACpBb,EAAO,CACLlW,eACAC,aAAcA,EAAav7B,KAAI,SAAC0iC,GAAD,MAAoB,CACjDr7B,KAAMoG,KAAKo3B,SAASnC,GACpBxgC,KAAM,SACNutB,IAAK,OAEPyL,QAASM,KAZXl1B,GAAS,IAAI2B,MAAM,yCAhEF,kDAiFnBkqC,GAAiB,GACjBE,GAAoB,GACpB/rC,GAAS,EAAD,IAnFW,kEAAH,wDAuFd4sC,GAAc,SAAC7U,GAEnBA,GAAKA,EAAEr1B,iBACP1C,GAAS,MACT6rC,GAAiB,GACjBE,GAAoB,GACpB3b,GAAW,IACXe,EAAS,KAGX,SAAS+a,GAAsBW,EAAWhY,GACxC,GAAiB,OAAbA,EAaG,CAGL,IAHM,IAAD,MACCiY,EAAwB,UAAGtzC,OAAOwsC,KAAK6G,UAAf,iBAAG,EAAmBnzC,KAAI,SAAAC,GAAG,mCAAIkzC,EAAKlzC,UAAT,aAAI,EAAW+/B,cAAf,QAAyB,aAAtD,aAAG,EAAwDwM,OACnF6G,EAA8B,GAC3B5kB,EAAQ,EAAGA,EAAQ2kB,EAAUngB,OAAQxE,IAAS,CACrD,IAAM8P,EAAQ6U,EAAU3kB,GACnB4kB,EAAa9lC,SAASgxB,IACzB8U,EAAajjB,KAAKmO,GAItB,MAAM,GAAN,iBAAUz+B,OAAOwsC,KAAK6G,UAAtB,aAAU,EAAmBlgB,OAA7B,kCAAsDogB,QAAtD,IAAsDA,OAAtD,EAAsDA,EAAcpgB,OAApE,uBAtBA,IACE,IAAMqgB,EAAYxzC,OAAO4I,OAAOyqC,GAC7BnzC,KAAI,SAACw6B,GAAO,IAAD,EAC0BD,GAAyBC,OAAG1uB,EAAWqvB,GAAY,MAA/ET,EADE,EACFA,WAAYC,EADV,EACUA,YACpB,MAAM,GAAN,oBAAWD,GAAX,aAA0BC,OAE3B6R,OACH,MAAM,GAAN,OAAU1sC,OAAOwsC,KAAK6G,GAAMlgB,OAA5B,2BAAqDqgB,EAAUrgB,OAA/D,iBAEA,MAAO4K,GAAM,IAAD,EACZ6M,EAAO,QAAE,EAAA7M,SAAF,aAAC,EAAgBl4B,UAiB9B,IAAM64B,GAAS,CACbhD,IACE,kBAACnwB,EAAA,EAAD,KACE,kBAACA,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACzC,kBAAC5B,GAAA,EAAD,CACEkC,SAAUumC,IAAwBP,GAAsC,OAAvBF,EACjDtuC,MAAM,WACN4G,YAAY,iBACZZ,OAAO,QACPjE,MAAO,CAAE0G,YAAa,IACtBzG,QAAQ,WACRjF,MAAOA,EACP2J,SAAU,YAA4B,IAAf3J,EAAc,EAAxBo5B,OAAUp5B,MACf4xC,IAAkBE,GAAoBE,IAA+C,OAAvBT,GAClEpa,EAASn3B,GAEP8xC,IACF1b,GAAW,IACX2b,GAAoB,GACpBF,GAAiB,OAKvB,kBAACxmC,GAAA,EAAD,CACEI,SAAUmmC,IAAkBE,GAAoBE,IAA+C,OAAvBT,GACnEO,IAAqB9xC,EAC1BiF,QAAQ,YACR1B,MAAM,UACN+F,SACEmoC,EAAc,iBAA6B,OAAV1rC,GAAiB,QAAU+rC,GAAoBF,EAC5E,UACAA,EACE,kBACA,UAERlnC,QAAS,SAACqzB,GACRsU,SAIJhB,EAGkB,8BAHD,kBAACxmC,GAAA,EAAD,CAAgB9E,MAAiB,OAAVA,IAAyC,OAAvBwrC,EAC1DvsC,MAAO8sC,GAAoBF,EAAgB,CAAEruC,MAAO,SAAY,KAC/D,OAACguC,QAAD,IAACA,OAAD,EAACA,EAAoBlsC,WAArB,iBAAkCU,SAAlC,IAAkCA,QAAlC,EAAkCA,GAAOV,eAAzC,QAAoDA,MAI3DizB,KACE,kBAACvtB,EAAA,EAAD,KACE,2BAAOkoC,WAAY,SAAClV,GAClBA,EAAEr1B,iBACFq1B,EAAEyU,mBAEFU,OAAQ,SAAAnV,GAAC,OAAK6T,GAAiBI,IAA+C,OAAvBT,GAAyC,OAAVxrC,GAAkB5H,QAAQC,IAAI,iBAAmBi0C,GAAetU,IAAI9zB,QAAQ,yBAClK,kBAACc,EAAA,EAAD,CAAK2iB,UAAWP,EAAQN,SACE,OAAvB0kB,EACC,kBAAC,GAAD,CAAWhuC,MAAM,SAAjB,OAA0BguC,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAoBlsC,SAC5C2sC,GAAuB,oCACvB,kBAACrmC,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KACxC,kBAAC,GAAD,CAAWvG,MAAO,CAAEiG,UAAW,KAA/B,gDAEG2mC,GAAoB7rC,GAOpB,oCACE+rC,EACC,kBAACzmC,GAAA,EAAD,CACErG,MAAO,CAAEmE,aAAc,GACvB5F,MAAM,UACN0B,QAAQ,YACRqE,SAAS,SACTmC,UAAWqmC,EACXpnC,QAASkoC,KAET,+BAjBwB,oCAC9B,kBAAC,KAAD,CAAiBvwC,SAAU,UAC3B,kBAAC,GAAD,KAAOwH,GACP,kBAAC,GAAD,WACA,kBAAC,GAAD,CAAMtG,MAAM,WAAZ,gBAeJ8tC,EAKE,8BAJA,kBAAC,GAAD,CAAM9tC,MAAiB,OAAVwC,GAAiB,QAAU,UACxCf,MAAO8sC,GAAoBF,EAAgB,CAAEruC,MAAO,SAAY,IADhE,iBAEEwC,SAFF,IAEEA,QAFF,EAEEA,GAAOV,eAFT,QAEoBA,IAGb,OAAVU,IAAmBsrC,EAgBhB,8BAhBkC,kBAACtmC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUF,UAAW,KACpG,kBAACI,GAAA,EAAD,CACErG,MAAO,CAAE0G,YAAa,IACtBnI,MAAM,UACNgI,KAAK,QACLjC,SAAS,cACToB,QAASkoC,KAEX,kBAACvnC,GAAA,EAAD,CACEX,QAAS2nC,GACT9mC,KAAK,QACLjC,SAAS,QACT/F,MAAM,YACN0B,QAAQ,mBAUtB,OACE,oCACE,kBAAC8E,GAAA,EAAD,CAAanB,UAAU,YACrB,kBAAC+8B,GAAA,EAAD,CAAW/8B,UAAU,UAArB,0BACA,kBAACi7B,GAAA,EAAD,CACEp5B,aAAW,OACX1D,KAAK,OACL/G,MAAO4B,EACP+H,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OAA2Bq2B,EAAQr2B,IAC7C8jC,KAAG,GACH,kBAACC,GAAA,EAAD,CAAkB/jC,MAAM,OAAOgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,SACzD,kBAAC8gC,GAAA,EAAD,CAAkB/jC,MAAM,MAAMgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,UAY5D,2BACEynB,IAAKynB,GACL1mC,SAAUmmC,GAAiBI,IAA+C,OAAvBT,GAAyC,OAAVxrC,GAClF4D,SAAU0oC,GACVrtC,MAAO,CAAEkG,QAAS,QAClBf,GAAG,wBACHvI,KAAK,OACLmF,KAAMA,EACNmyB,OAAyB,aAAjBiB,EAA8B,8FAAgG,eAEvI+D,GAAOt8B,KC/aC,eAQR,IAPL6J,EAOI,EAPJA,SACA9B,EAMI,EANJA,SACAm3B,EAKI,EALJA,SAKI,IAJJj3B,mBAII,MAJU,cAIV,MAHJ5G,aAGI,MAHI,QAGJ,EAFJkwC,EAEI,EAFJA,YAEI,IADJluC,eACI,MADM,WACN,IAC4B1G,mBAAS,IADrC,mBACG60C,EADH,KACaC,EADb,KAEEC,EAAiB,SAACtzC,GAEE,MAArBA,EAAMy6B,QAAQ,IAAmC,MAArBz6B,EAAMy6B,QAAQ,IACpB,MAAvBz6B,EAAMy6B,OAAO,EAAG,IACO,MAAvBz6B,EAAMy6B,OAAO,EAAG,GAKhB4Y,EAAYrzC,IAHZ2J,EAAS,GAAD,oBAAKm3B,GAAL,CAAe9gC,EAAMy6B,OAAO,EAAGz6B,EAAM2yB,OAAS,MACtD0gB,EAAY,MAShB,OACE,kBAAC9pC,GAAA,EAAD,CACEK,WAAS,EACTX,OAAQ,QACRwC,SACEA,KAEI0nC,GACArS,EAASnO,QAAUwgB,EAGzBluC,QAASA,EACT0E,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OAA2BszC,EAAetzC,IACpDA,MAAOozC,EACPxxC,KAAK,OACLiI,YAAaA,EACb5G,MAAOA,EACP8C,MACGotC,GAAerS,EAASnO,OAASwgB,GACR,MAA1BC,EAAS3Y,OAAO,EAAG,IACO,MAA1B2Y,EAAS3Y,OAAO,EAAG,GAErB3wB,WAC4B,MAA1BspC,EAAS3Y,OAAO,EAAG,IAAwC,MAA1B2Y,EAAS3Y,OAAO,EAAG,GAChD,wBACA0Y,EAAW,iCACeA,EADf,aAEX,GAEN3pC,WAAY,CACV0jC,eAAgBpM,EAASphC,KAAI,SAAC0B,EAAK+sB,GACjC,OACE,kBAACU,EAAA,EAAD,CACElvB,IAAKwuB,EACLnpB,MAAO,CAAEiE,OAAQ,GACjBsC,KAAK,QACLtI,MAAO7B,EACPmyC,SAAU,kBAzCAC,EAyCmBpyC,OAvCvCuI,EAASm3B,EAAS/N,QAAO,SAAC3xB,GAAD,OAASA,IAAQoyC,MAFvB,IAACA,YCblB1rC,GAAmBC,KAAW,CAClC8qB,MAAO9qB,OAAaC,SAAS,qBAC7ByrC,YAAa1rC,OAAaC,SAAS,4BAA4B0rC,WAC/D/X,YAAa5zB,OAAa4rC,MAAM,CAAC,YAAa,aAAa3rC,SAAS,iCACpEg5B,UAAWj5B,OAAaC,SAAS,4BAUpB,eAOA,IAAD,MANZH,qBAMY,MANI,GAMJ,EALZ8mC,EAKY,EALZA,OAKY,IAJZ/sC,YAIY,MAJL,KAIK,EAHZ2jC,EAGY,EAHZA,OACAvK,EAEY,EAFZA,aACAz1B,EACY,EADZA,SACY,EACoBhH,mBAAQ,iBAACsJ,QAAD,IAACA,OAAD,EAACA,EAAei5B,gBAAhB,QAA4B,IADxD,mBACLA,EADK,KACK8S,EADL,OAEoCr1C,oBAAkB,GAFtD,mBAELs1C,EAFK,KAEaC,EAFb,OAcRlsC,aAAU,CACZC,gBACAC,oBACAvC,SAAU,SAAC6C,GACT7C,EAAS,2BAAK6C,GAAN,IAAc04B,iBAdxB74B,EAJU,EAIVA,aACAC,EALU,EAKVA,WACAC,EANU,EAMVA,aACA68B,EAPU,EAOVA,aACAhM,EARU,EAQVA,cACA+a,EATU,EASVA,cACAC,EAVU,EAUVA,gBACA5rC,EAXU,EAWVA,OACAC,EAZU,EAYVA,OACAC,EAbU,EAaVA,QASF,OACE,0BAAM/C,SAAU4C,EAAce,YAAU,GACtC,kBAAC6B,EAAA,EAAD,CAAK/F,MAAO,CAAEmE,aAAc,KAC1B,kBAAC8qC,GAAD,CACE9Z,aAAcv4B,EACd+sC,OAAQA,EACRpJ,OAAQA,EACRvK,aAAcA,EACdkW,OAAQ,SAAClxC,GACP8zC,GAAoB,GACpB9a,EAAc,cAAeh5B,IAE/BoqC,QAAS,SAAC/kC,GACR2uC,EAAgB,gBAAiB3uC,GAAS,GAC1C0uC,EAAc,cAAe1uC,IAE/B0pC,UAAW,SAAC/uC,GAAD,OAAWg0C,EAAgB,cAAeh0C,GAAO,IAC5DA,MAAOoI,EAAOqrC,YACd1sC,KAAM,cACN8C,YAAW,2BAA+B,aAATjI,EAAsB,iCAAmC,8BAEpF,OAAP0G,QAAO,IAAPA,OAAA,EAAAA,EAASmrC,cAAeprC,EAAOorC,aAC9B,kBAAC5oC,GAAA,EAAD,CAAgB9E,OAAO,GAAOsC,EAAOorC,cAGzC,kBAACnN,GAAA,EAAD,CACEE,YAAY,UACZx+B,UAAU,EACVkxB,OAAQ,UACRl5B,MAAOoI,EAAO44B,UACdoJ,QAAS,SAAC/kC,GACR2uC,EAAgB,cAAe3uC,GAAS,GACxC0uC,EAAc,YAAa1uC,IAE7BsE,SAAU,SAAC3J,GAAD,OAAmBg5B,EAAc,YAAah5B,IACxD0mC,gBAAiB,aACjBzjC,MAAM,qBACN8rC,UAAW,SAAC/uC,GAAD,OAAoBg0C,EAAgB,YAAah0C,GAAO,IACnE+F,MAAOuC,EAAQ04B,WAAe34B,EAAO24B,UACjC,IAAIr5B,MAAJ,OAAUU,QAAV,IAAUA,OAAV,EAAUA,EAAQ24B,gBAClBx1B,EACJ1B,WAAY,+BACZ/C,KAAM,cAER,kBAAChC,EAAA,EAAD,4BACA,kBAACgF,GAAA,EAAD,CAAa/E,MAAO,CAAEmE,aAAc,IAAMP,UAAU,YAClD,kBAACi7B,GAAA,EAAD,CACEp5B,aAAW,cACX1D,KAAK,cACL/G,MAAOoI,EAAOuzB,YACdhyB,SAAU,YAA4B,IAAf3J,EAAc,EAAxBo5B,OAAUp5B,MACrBg5B,EAAc,cAAeh5B,GAAO,IAEtC8jC,KAAG,GACH,kBAACC,GAAA,EAAD,CAAkB/jC,MAAM,WAAWgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,aAC7D,kBAAC8gC,GAAA,EAAD,CAAkB/jC,MAAM,YAAYgkC,QAAS,kBAACC,GAAA,EAAD,MAAWhhC,MAAM,eAEhE,kBAAC4H,GAAA,EAAD,CAAgB9E,QAASsC,EAAOszB,aAC3BtzB,EAAOszB,YAActzB,EAAOszB,YAAc,KAGjD,kBAACpyB,GAAA,EAAD,CACEvB,UAAQ,EACR4B,WAAS,EACTX,OAAQ,QACRhE,QAAS,WACT0E,SAAU1B,EACVyB,OAAQxB,EACRlI,MAAOoI,EAAOyqB,MACd9rB,KAAM,QACNnF,KAAK,OACLiI,YAAY,cACZ5G,MAAM,QACN8C,MAAOuC,EAAQuqB,SAAWxqB,EAAOwqB,MACjC/oB,WACExB,EAAQuqB,OAASxqB,EAAOwqB,MACpBxqB,EAAOwqB,MACP,6EAGR,kBAACtpB,GAAA,EAAD,CACEK,WAAS,EACTX,OAAQ,QACRhE,QAAS,WACTopC,WAAW,EACXC,KAAM,EACN3kC,SAAU1B,EACVyB,OAAQxB,EACRlI,MAAOoI,EAAOy4B,YACd95B,KAAM,cACNnF,KAAK,OACLiI,YAAY,oBACZ5G,MAAM,cACN8C,MAAOuC,EAAQu4B,eAAiBx4B,EAAOw4B,YACvC/2B,WACExB,EAAQu4B,cAAR,OAAuBx4B,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAQw4B,aAC3Bx4B,EAAOw4B,YACP,4CAGR,kBAACqT,GAAD,CACEzoC,UAAU,EACV0nC,YAAa,EACbxpC,SAAUiqC,EACV/pC,YAAY,iBACZ5G,MAAM,WACN69B,SAAUA,IAEZ,kBAAC/1B,EAAA,EAAD,CAAKG,QAAQ,OAAOE,eAAe,gBAAgBw6B,GAAI,GACrD,8BACA,kBAACv6B,GAAA,EAAD,CACEy6B,QAAS,kBAACa,GAAA,EAAD,CAAcpjC,MAAM,UAAUlB,SAAS,UAChDkB,MAAM,UACNyB,MAAO,CAAEiG,UAAW,EAAGmpB,UAAW,YAClCnvB,QAAQ,YACRrD,KAAK,SACL0H,SAAU07B,EAAe,kBAACr5B,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,OAC1EE,SAAUu5B,IAAiB6O,OCxJtB,eAAqE,IAAD,EAAjEM,EAAiE,EAAjEA,WAAYxF,EAAqD,EAArDA,OAAqD,IAA7CyF,iBAA6C,SAA1BlS,EAA0B,EAA1BA,MAAOtgC,EAAmB,EAAnBA,KACtD6C,EAASD,cAATC,KADyE,EAE9DvG,qBAAW+iC,IAAvBwB,EAF0E,sBAGhCnB,KAAzCM,EAHyE,EAGzEA,WAAYH,EAH6D,EAG7DA,cAAeQ,EAH8C,EAG9CA,UAH8C,EAInD1jC,oBAAkB,GAJiC,mBAI1E0H,EAJ0E,KAIjEC,EAJiE,OAK7B3H,mBAAiB,GALY,mBAK1EqmC,EAL0E,KAKtDC,EALsD,OAMzCtmC,mBAAqB,IANoB,mBAM1Ey8B,EAN0E,KAM5DqZ,EAN4D,OAOvD91C,mBAAuB,MAPgC,mBAO1EwH,EAP0E,KAOnEC,EAPmE,OAQvDzH,mBAA+C,IARQ,mBAQ1EwiC,EAR0E,KAQnEuT,EARmE,OASrD/1C,mBAA6D,IATR,mBAS1EgnC,EAT0E,KASlEjD,EATkE,OAUjC/jC,oBAAkB,GAVe,mBAU1EumC,EAV0E,KAUxDC,EAVwD,OAWnCxmC,oBAAkB,GAXiB,mBAW1E0nC,EAX0E,KAWzDD,EAXyD,OAY/BznC,mBAAkBowC,GAAUyF,GAZG,oBAY1EG,GAZ0E,MAYvDC,GAZuD,MAa3EtP,GAAgB,yCAAG,uBAAAlmC,EAAA,sEAErBgH,EAAS,MACTE,GAAW,GAHU,SAIfiuC,EAAW1R,GAJI,OAKrBv8B,GAAW,GALU,gDAOrBA,GAAW,GACXF,EAAS,EAAD,IARa,yDAAH,qDAWtBlH,qBAAU,YACH6vC,GAAUyF,IAAcx0C,KAAKm7B,UAAUmH,KAAWtiC,KAAKm7B,UAAU0H,IACpE+R,IAAqB,KAEtB,CAAC/R,IACJ,IAAMgS,GAA6B,yCAAG,gEAAAz1C,EAAA,sDACpC8hC,EADoC,EACpCA,SACAjO,EAFoC,EAEpCA,MACA8I,EAHoC,EAGpCA,YACAkF,EAJoC,EAIpCA,YACAG,EALoC,EAKpCA,UALoC,IAMpCyS,YANoC,IAMrB7Y,eANqB,MAMX,GANW,MAMPK,oBANO,MAMQ,GANR,MAMYD,oBANZ,MAM2B,GAN3B,EAeN2T,EAAM,2BAAIzM,QAAJ,IAAIA,OAAJ,EAAIA,EAAOjH,oBAAX,QAA2B,UAA3B,aAAG,EAA6Bv7B,KAAI,qBAAGqH,QAAmB,GAC9FstC,EAAgBrZ,GACV0Z,EAAgBl1C,OAAO4I,OAAO4yB,GACjCt7B,KAAI,SAACw6B,GAAD,OAAOD,GAAyBC,EAAG,iBACvCgS,OACGyI,EAA2B,GACjCD,EAAch1C,KAAI,YAAoB,IAAD,IAAhB2mC,YAAgB,MAAT,GAAS,EAC9BsO,EAAU1nC,SAASo5B,IACtBsO,EAAU7kB,KAAKuW,MAGbuO,EAAUjG,EACZ1T,EAAav7B,KAAI,SAAC0iC,EAAOjU,GAAR,eAAkB,2BAAC+T,QAAD,IAACA,OAAD,EAACA,EAAOjH,oBAAR,QAAwB,UAAxB,eAA6BvI,MAAK,qBAAG3rB,OAAoBq7B,EAAMr7B,UAASq7B,KAASnH,EAClH4Z,EAAYF,EAAUj1C,KAAI,SAAC0mC,GAAD,gBAAe,CAC7Cr/B,KAAMq/B,EACNjX,KAAK,2BAAC+S,QAAD,IAACA,OAAD,EAACA,EAAOnB,aAAR,QAAiB,UAAjB,mBAAsBrO,MAAK,qBAAG3rB,OAAoBq/B,YAAlD,eAA6DjX,MAAO,OAE3EmT,EAAUsS,GACVN,EAASO,GAETpT,EAAc,2BACPkN,GAAUyF,EAAa,GAAK,CAAExyC,SADxB,IAEXk/B,WACAjO,QACA8I,cACAkF,cACA1R,IAAKyL,EACLoG,YACAD,MAAO8T,EACP5Z,aAAc2Z,KAEhB/P,EAAsB,GA9Cc,4CAAH,sDAgD7BiQ,GAAK,CAAI,kBAACC,GAAD,CACbnzC,KAAO+sC,GAAUyF,EAAX,OAAwBlS,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAOtgC,KAAOA,EAC5C+sC,OAAQA,GAAUyF,EAClB7O,OAAQ9C,EAASxH,aACjBD,aAAcA,EACdnzB,cAAa,2BAAO46B,GAAP,IAAiBgR,YAAW,iBAAEhR,QAAF,IAAEA,OAAF,EAAEA,EAAUtT,WAAZ,QAAmB,KAC5D5pB,SAAUkvC,KAEZ,kBAACO,GAAD,CACErG,OAAQA,GAAUyF,EAClBpZ,aAAcA,EACd4J,mBAAoBA,EACpBC,sBAAuBA,EACvBG,aAAc/+B,EACdi/B,iBAAkBA,GAClBD,YAAal/B,KAfJ,oBAiB0C,QAA/C4oC,GAAUyF,EAAX,OAAwBlS,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAOtgC,KAAOA,GAAiB,CAC1D,kBAACmkC,GAAD,CACEE,gBAAiBA,EACjBD,mBAAoBA,EACpBhL,aAAcA,EACd6J,sBAAuBA,EACvBD,mBAAoBA,EACpB7D,MAAOA,IAEP,kBAAC4D,GAAD,CACAG,iBAAkBA,EAClBC,oBAAqBA,EACrBC,aAAc/+B,EACdi/B,iBAAkBA,GAClBD,YAAal/B,EACb8+B,sBAAuBA,EACvBD,mBAAoBA,EACpB3J,aAAcsK,KAEd,KASJ,OAPAzmC,qBAAU,WACJ6vC,GAAUyF,EACZnS,EAAUC,GAEVN,EAAU,OAACn9B,QAAD,IAACA,OAAD,EAACA,EAAM0F,GAAIvI,KAEtB,CAACwyC,EAAWzF,IAEb,kBAAC5jC,EAAA,EAAD,KACa,OAAVhF,EAAiB,kBAACywB,GAAD,CAAcntB,SAAS,QAAQhE,SAAc,OAALU,QAAK,IAALA,OAAA,EAAAA,EAAOV,UAAW,iDAAqD,8BACjI,kBAAC4vC,GAAD,CAAarzC,KAAO+sC,GAAUyF,EAAX,OAAwBlS,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAOtgC,KAAOA,EAAMgjC,mBAAoBA,IACnF,kBAACzR,GAAA,EAAD,CAAOqJ,UAAW,EAAGx3B,MAAO,CAAE6D,QAAS,KACpC0rC,GAAoB,8BAAUO,GAAMlQ,MC1IvCsQ,GAAc,SAAC,GAAkB,IAAD,EAAf9X,EAAe,EAAfA,SAAe,EACA7+B,oBAAS,GADT,mBACjB42C,GADiB,aAEV52C,mBAAS,MAFC,mBAE7BwH,EAF6B,KAEtBC,EAFsB,KAG5B62B,EAAkBrM,eAAlBqM,cAH4B,EAIZuY,cAAhBxzC,YAJ4B,MAIrB,KAJqB,IAKjB1D,qBAAW+iC,IALM,wCAMS7D,QANT,IAMSA,OANT,EAMSA,EAAUvD,aANnB,QAM4B,IAAxDqI,EAN4B,EAM5BA,MAAOyM,EANqB,EAMrBA,OANqB,IAMb0G,kBANa,MAMA,KANA,EAO9BxvC,EAAUC,cAEVqC,EAAY,yCAAG,WAAO6pB,GAAP,UAAAhzB,EAAA,yDACnBb,QAAQC,IAAI4zB,GADO,UAGjB2c,EAHiB,gCAIP9R,EAAc5E,OAAOjG,EAAK7nB,GAAI6nB,GAJvB,6CAKP6K,EAAcnR,OAAOsG,GALd,OAOjBmjB,GAAc,GACdtvC,EAAQiqB,KAAK,CACXwlB,SAAU,uBACVzb,MAAO,CACLwD,UAAW,CACTC,OAAQ,CACNj4B,QAAQ,kBAAD,OAAoBspC,EAAS,SAAW,QAAxC,mBAGTpR,KAAK,MAhBM,kDAqBjBv3B,EAAS,EAAD,IArBS,0DAAH,sDAyBlB,OACE,oCACGD,GAAS,kBAACqD,GAAA,EAAD,CAAOC,SAAS,QAAQC,SAAUvD,EAAMV,UAgClD,kBAACkwC,GAAD,CACE3zC,KAAMA,EACN+sC,OAAQA,EACRyF,UAA0B,OAAfiB,EACXnT,MAAOA,EACPiS,WAAYhsC,MAML,YAAC7J,GAAD,OACb,kBAAC,GAAD,KACE,kBAAC,GAAgBA,K,8DCnFN,I,QAAA,YAAkC,IAA/BiB,EAA8B,EAA9BA,KAAMgG,EAAwB,EAAxBA,SAAUiH,EAAc,EAAdA,QAAc,EAClBjO,mBAASgB,GADS,mBACrCS,EADqC,KAC9Bm3B,EAD8B,KAE5C,OAAQ,oCACJ,kBAACzqB,GAAA,EAAD,CACI9C,WAAS,EACT4C,QAASA,EAASG,kBAAgB,sBAAsBC,MAAM,GAC9D,kBAACg8B,GAAA,EAAD,CAAaz+B,GAAG,uBAAhB,kBACA,kBAAC0+B,GAAA,EAAD,KACI,kBAAC,KAAD,CACI7oC,MAAOA,EACP2J,SAAUwtB,KAGlB,kBAACgT,GAAA,EAAD,KACI,kBAAC9+B,GAAA,EAAD,CAAQX,QAAS8B,EAASjJ,MAAM,WAAhC,UAGA,kBAAC8H,GAAA,EAAD,CAAQX,QAAS,kBACN1K,EAAK,UACZuF,EAASvF,IAETiF,QAAQ,YACR1B,MAAM,WALV,eClBD,eAAsC,IAAnCujC,EAAkC,EAAlCA,WAAYyH,EAAsB,EAAtBA,WAE5B,OACE,kBAAC1H,GAAA,EAAD,CAASC,WAAYA,EAAYnL,YAAY,YAFjC,CAAC,sBAAD,sBAGHj8B,KAAI,SAACuD,GAAD,OACT,kBAAC8jC,GAAA,EAAD,CAAMpnC,IAAKsD,GACT,kBAAC+jC,GAAA,EAAD,KAAY/jC,GACZ,kBAACurC,GAAA,EAAD,KAAcD,EAAWzH,U,kDCbpB,YAACjb,GACd,IAAM2pB,EAAW,GAGXC,EAAQ/jB,KAAKgkB,MAAM7pB,EADR,MAEb4pB,EAAQ,IACVD,EAAS1lB,KAAK2lB,EAAQ,KACtB5pB,GAJe,KAIO4pB,GAGxB,IACME,EAAUjkB,KAAKgkB,MAAM7pB,EADR,KAEf8pB,EAAU,IACZH,EAAS1lB,KAAK6lB,EAAU,KACxB9pB,GAJiB,IAIK8pB,GAGxB,IAAMC,EAAUlkB,KAAKgkB,MAAM7pB,EAAW,KAKtC,OAJI+pB,EAAU,GACZJ,EAAS1lB,KAAK8lB,EAAU,KAGnBJ,EAASK,KAAK,MCpBR,YAAC1rC,EAAYo1B,GAC1B,OAAOA,EAAS7/B,KAAI,SAACo2C,GAAa,IAAD,IAC/B,MAAO,CACLljB,gBAAiBzoB,GAAM,GACvB4rC,UAAS,iBAAED,QAAF,IAAEA,OAAF,EAAEA,EAAS3rC,UAAX,QAAiB,GAC1B6rC,YAAY,4BACC,OAAPF,QAAO,IAAPA,OAAA,EAAAA,EAASG,kBAAmB,CAAEA,iBAAgB,OAAEH,QAAF,IAAEA,OAAF,EAAEA,EAASG,kBAAqB,SAClDzqC,KAArB,OAAPsqC,QAAO,IAAPA,OAAA,EAAAA,EAASI,gBAA+B,CAAEA,eAAc,OAAEJ,QAAF,IAAEA,OAAF,EAAEA,EAASI,gBAAmB,IAE5FlkB,KAAMmkB,GAAY,iBAACL,QAAD,IAACA,OAAD,EAACA,EAASpW,cAAV,QAAoB,GAAIoW,EAAQM,mBAKxD,SAASD,GAAazW,EAA+B0W,GACnD,IAAMpkB,EAAY,GAuBlB,OAtBA0N,EAAOhgC,KAAI,SAAC22C,GAAO,IAAD,IAChB,OAAQA,EAAEz0C,MACR,IAAK,QACHowB,EAAKqkB,EAAE12C,KAAP,sCAA6C02C,EAAEzW,YAAY50B,MAA3D,YAAoEqrC,EAAEzW,YAAYhV,OAAlF,iCAAuGyrB,EAAE1W,oBAAzG,aAAuG,EAAgBsD,WACvH,MACF,QACE,OAAQmT,GACN,IAAK,QACHpkB,EAAKqkB,EAAE12C,KAAO02C,EAAEpzC,MAChB,MACF,IAAK,cACH+uB,EAAKqkB,EAAE12C,KAAO02C,EAAExsC,YAChB,MACF,IAAK,YACHmoB,EAAKqkB,EAAE12C,KAAO22C,IACZ,UAAAD,EAAEzW,mBAAF,eAAeyI,YAAa,GAC5BgO,EAAEpzC,YAMP+uB,EAGT,IAAMskB,GAAsB,SAACC,EAAatzC,GACxC,IAAS,OAALA,QAAK,IAALA,OAAA,EAAAA,EAAO0vB,QAAS4jB,EAClB,OAAOtzC,EAAMw3B,OAAO,EAAG8b,GAEzB,IAAMC,EAAID,GAAG,OAAGtzC,QAAH,IAAGA,OAAH,EAAGA,EAAO0vB,SAAU,EAC3B8jB,EAAKpW,MAAMpW,KAAK,CAAE0I,OAAQ4jB,EAAM,IAAK,SAACzrC,EAAGklC,GAAJ,OAAUA,EAAI,KACtD6F,KAAK,KACLpb,OAAO,EAAG+b,EAAI,GAEXE,EAAKD,EAAGhe,MAAM,IAAIke,UAAUd,KAAK,IACvC,OAAOY,EAAKxzC,EAAQyzC,GCpCP,eAA8C,IAAD,EAA1CvuC,EAA0C,EAA1CA,aAAc6pB,EAA4B,EAA5BA,KAAM4kB,EAAsB,EAAtBA,QAC1Bha,EAAQpM,eAARoM,IACF/2B,EAAUC,cACRH,EAAoBC,eAApBD,gBAHgD,EAI1BpH,oBAAkB,GAJQ,mBAIjD0H,EAJiD,KAIxCC,EAJwC,KAKlD2wC,EAAe,yCAAG,mCAAA73C,EAAA,sEAEV83C,EAFU,OAEwB9kB,QAFxB,IAEwBA,GAFxB,UAEwBA,EAAMuN,gBAF9B,aAEwB,EAAgB7/B,KAAI,SAACo2C,GAAa,IAAD,OACb,OAAPc,QAAO,IAAPA,OAAA,EAAAA,EAASlkB,MAAK,qBAAGqjB,aAAyB,OAAKD,QAAL,IAAKA,OAAL,EAAKA,EAAS3rC,SAAO,GAAxG4sC,EAD6D,EAC7DA,KAAMC,EADuD,EACvDA,KADuD,IACjDjB,iBADiD,aACrCD,QADqC,IACrCA,OADqC,EACrCA,EAAS3rC,GAD4B,EAErE,MAAM,GAAN,qBAAY,OAAC6sC,QAAD,IAACA,GAAD,UAACA,EAAM9Y,cAAP,aAAC,EAAc+Y,aAKtB,GALoC,CAAC,2BACnCnB,GADkC,IAErC3rC,GAAI4rC,EACJE,iBAAkB,OAClBG,aAAc,gBAJlB,cAMG,OAACW,QAAD,IAACA,GAAD,UAACA,EAAM7Y,cAAP,aAAC,EAAc+Y,aAKb,GAL2B,CAAC,2BAC1BnB,GADyB,IAE5B3rC,GAAI4rC,EACJE,iBAAkB,OAClBG,aAAc,oBAEnBlK,OACHhmC,GAAW,GACLgxC,EAAOC,IAAmB,OAAJnlB,QAAI,IAAJA,OAAA,EAAAA,EAAM7nB,KAAM,GAAI2sC,GAlB5B,SAmBXzqC,QAAQ0B,IAAR,OAAYmpC,QAAZ,IAAYA,OAAZ,EAAYA,EAAMx3C,IAAN,yCAAU,WAAOsyB,GAAP,UAAAhzB,EAAA,sEAAsB49B,EAAIlR,OAAOsG,GAAjC,mFAAV,wDAnBD,OAoBhBnsB,EAAQiqB,KAAK,aAAc,CACvBzqB,QAAS,wGAEba,GAAW,GAvBK,kDAyBhBA,GAAW,GACXP,GAAgB,qCAAgBN,UAAW,6CAA8C,CACrFJ,QAAS,UA3BG,0DAAH,qDAgCfmyC,IAA4BR,EAAQjkB,QAASikB,EAAQviB,OAAM,oBAAG2iB,EAAH,EAAGA,KAAMD,EAAT,EAASA,KAAT,OAAwB,OAAJC,QAAI,IAAJA,GAAA,UAAAA,EAAM9Y,cAAN,eAAc+Y,eAAd,OAA6BF,QAA7B,IAA6BA,GAA7B,UAA6BA,EAAM7Y,cAAnC,aAA6B,EAAc+Y,gBAChI,OAAO,kBAAC,KAAD,KACH,kBAAChM,GAAA,EAAD,CAAMjmC,MAAO,CAAEiE,OAAQ,IAAMhE,QAAQ,YACjC,kBAACoyC,GAAA,EAAD,CAAO9rC,KAAK,SACR,kBAAC+rC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,KAAW,4CACX,kBAACA,GAAA,EAAD,KAAW,qDACX,kBAACA,GAAA,EAAD,KAAW,4DAGnB,kBAACC,GAAA,EAAD,YACKzlB,QADL,IACKA,GADL,UACKA,EAAMuN,gBADX,aACK,EAAgB7/B,KACb,YAA4C,IAAD,YAAxCyK,EAAwC,EAAxCA,GAAI0oB,EAAoC,EAApCA,MACG6kB,GADiC,EAA7BC,kBACqB,OAAGf,QAAH,IAAGA,OAAH,EAAGA,EAASlkB,MAAK,gBAAGqjB,EAAH,EAAGA,UAAH,OAAmB5rC,IAAO4rC,MAC1E,OACI,kBAACwB,GAAA,EAAD,CAAU53C,IAAKwK,GACX,kBAACqtC,GAAA,EAAD,KAAY3kB,GACZ,kBAAC2kB,GAAA,EAAD,KACMI,GAAU,iBAACF,QAAD,IAACA,GAAD,UAACA,EAA2BV,YAA5B,iBAAC,EAAiC9Y,cAAlC,aAAC,EAAyC+Y,mBAA1C,QAAyD,IAAO,MAEhF,kBAACO,GAAA,EAAD,KACMI,GAAU,iBAACF,QAAD,IAACA,GAAD,UAACA,EAA2BX,YAA5B,iBAAC,EAAiC7Y,cAAlC,aAAC,EAAyC+Y,mBAA1C,QAAyD,IAAO,aAS5G,kBAAClsC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUlC,OAAQ,KACzD,kBAACoC,GAAA,EAAD,CACII,SAAU2rC,GAA6BnxC,EACvCyE,QAASmsC,EACT7xC,MAAO,CAAEiG,UAAW,GAAIS,YAAa,IACrCnI,MAAM,UACN0B,QAAQ,YACRsG,KAAK,QACLjC,SAAUrD,EAAU,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,WAEzE,kBAACF,GAAA,EAAD,CACII,UAAW2rC,EACXpyC,MAAO,CAAEiG,UAAW,IACpBM,KAAK,QACLhI,MAAM,UACN0B,QAAQ,YACRyF,QAASvC,EACTmB,SAAS,Y,UCxFV,eAAiE,IAAD,MAA7DuuC,EAA6D,EAA7DA,YAAaC,EAAgD,EAAhDA,cAAqBnO,EAA2B,EAAjC3X,KAClCvtB,EAASD,cAATC,KACAo4B,EAAkBrM,eAAlBqM,cACAl3B,EAAoBC,eAApBD,gBAHmE,EAI7CpH,oBAAkB,GAJ2B,mBAIpE0H,EAJoE,KAI3DC,EAJ2D,KAKnE6xC,EAAuC/5C,eAAvC+5C,mCALmE,EAMnDx5C,mBAAwBorC,GAN2B,mBAMpE3X,EANoE,KAM9DC,EAN8D,KAOrE9pB,EAAY,yCAAG,+BAAAnJ,EAAA,sEAEbkH,GAAW,GAFE,SAGQ22B,EAAc5E,QAAW,OAAJjG,QAAI,IAAJA,OAAA,EAAAA,EAAM7nB,KAAM,GAAI6nB,EAAM,CAAEgmB,cAAe,YAHpE,OAGP9f,EAHO,OAIb4f,EAAa,OAAC5f,QAAD,IAACA,OAAD,EAACA,EAASlG,MACvB9rB,GAAW,GALE,gDAObA,GAAW,GACXP,EAAgB,6BAAD,0CAA8B,EAAgBN,SAAW,CACpEJ,QAAS,UATA,yDAAH,qDAalB,OAAO,kBAAC,KAAD,KACH,kBAACgmC,GAAA,EAAD,CAAMjmC,MAAO,CAAEiG,UAAW,GAAI9B,aAAc,IAAMlE,QAAQ,YACtD,kBAACoyC,GAAA,EAAD,CAAO9rC,KAAK,SACR,kBAAC+rC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,eACK,CAAC,gBAAiB,wBAAwC,WAAX,OAAJ9yC,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAmB,cAAgB,UAAW,iBADpG,aACK,EAA0G5wB,KAAI,SAACmzB,GAAD,OAC3G,kBAAC2kB,GAAA,EAAD,KAAW,kBAAC,GAAD,CAAMxyC,MAAO,CAAEvC,WAAY,MAAQowB,SAG1D,kBAAC4kB,GAAA,EAAD,YACKzlB,QADL,IACKA,GADL,UACKA,EAAMuN,gBADX,aACK,EAAgB7/B,KAAI,SAACo2C,GAAD,eAAa,kBAACyB,GAAA,EAAD,CAAU53C,IAAG,OAAEm2C,QAAF,IAAEA,OAAF,EAAEA,EAASjjB,OACtD,kBAAC2kB,GAAA,EAAD,KACI,kBAAC,GAAD,YAAY1B,QAAZ,IAAYA,OAAZ,EAAYA,EAASjjB,QAEzB,kBAAC2kB,GAAA,EAAD,KACI,kBAACjuC,GAAA,EAAD,CACIgC,KAAK,QACLtC,OAAO,QACPhE,QAAQ,SACRhC,MAAM,wBACNunC,WAAY,CACR5oC,KAAM,UAEV+H,SAAU,SAACo0B,GAAO,IAAD,EACbA,EAAEka,UACF95C,QAAQC,IAAR,OAAY2/B,QAAZ,IAAYA,GAAZ,UAAYA,EAAG3E,cAAf,aAAY,EAAWp5B,OACvBiyB,GAAQ,SAAAD,GAAI,wCACLA,GADK,IAERuN,SAAQ,OAAEvN,QAAF,IAAEA,GAAF,UAAEA,EAAMuN,gBAAR,aAAE,EAAgB7/B,KAAI,SAACw4C,GACI,IAAD,IAA9B,OAAIA,EAAM/tC,MAAN,OAAa2rC,QAAb,IAAaA,OAAb,EAAaA,EAAS3rC,IACf,2BACA+tC,GADP,IACcC,gBAAiB,MAC3BC,cAAe,OAADra,QAAC,IAADA,GAAA,UAAAA,EAAG3E,cAAH,eAAWp5B,OAAQitC,SAAS,GAAD,QAAK,OAADlP,QAAC,IAADA,GAAA,UAAAA,EAAG3E,cAAH,eAAWp5B,QAAS,SAAOwL,IAElE0sC,WAI1BruC,YAAa,sBACb7J,OAAc,OAAP81C,QAAO,IAAPA,OAAA,EAAAA,EAASsC,cAAT,OAAwBtC,QAAxB,IAAwBA,OAAxB,EAAwBA,EAASsC,kBAAe5sC,EACvDhC,WAAY,CACR0jC,eAAgB,kBAAC5iC,GAAA,EAAD,CAAgBC,SAAS,SAAzB,SAI5B,kBAACitC,GAAA,EAAD,KAAW,kBAAC,GAAD,OAAa,iBAAC1B,QAAD,IAACA,OAAD,EAACA,EAASsC,oBAAV,QAA0B,KAAO,IAAML,GAAsC,MAAM3tB,QAAQ,GAAxG,IAA6G,QACxH,kBAACotB,GAAA,EAAD,KAAW,kBAAC,GAAD,OAAa,iBAAC1B,QAAD,IAACA,OAAD,EAACA,EAASsC,oBAAV,QAA0B,IAAML,EAAqC,MAAM3tB,QAAQ,GAAhG,IAAqG,eAKhI,kBAACrf,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUF,UAAW,KAC5D,kBAACI,GAAA,EAAD,CACII,SAAUxF,EACVyE,QAASmtC,EACT7yC,MAAO,CAAEiG,UAAW,GAAIS,YAAa,IACrCH,KAAK,QACLjC,SAAS,SAEb,kBAAC+B,GAAA,EAAD,CACII,WAAU,OAACumB,QAAD,IAACA,GAAD,UAACA,EAAMuN,gBAAP,aAAC,EAAgBlL,OACvB,oBAAG+jB,oBAAH,MAAkB,KAAlB,SACqB,OAAjBA,KAA2BA,OAC9BnyC,EACLjB,MAAO,CAAEiG,UAAW,IACpBM,KAAK,QACLhI,MAAM,UACN0B,QAAQ,YACRyF,QAASvC,EACTmB,SAAUrD,EAAU,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,cCvFtE,eAA0C,IAAD,IAAtChG,EAAsC,EAAtCA,SAAUysB,EAA4B,EAA5BA,KAAM4kB,EAAsB,EAAtBA,QAEtB/Z,GADSr4B,cAATC,KACkB+rB,eAAlBqM,eACAl3B,EAAoBC,eAApBD,gBAH4C,EAItBpH,mBAAoC,IAJd,mBAI7C0H,EAJ6C,KAIpCC,EAJoC,KAK5C6xC,EAAuC/5C,eAAvC+5C,mCAL4C,EAMZx5C,mBAAiB,IANL,mBAM7C85C,EAN6C,KAM/BC,EAN+B,KAO9CnwC,EAAY,yCAAG,WAAO0xB,GAAP,kBAAA76B,EAAA,sEAEbkH,EAAW2zB,GAFE,SAGSgD,EAAc5E,QAAW,OAAJjG,QAAI,IAAJA,OAAA,EAAAA,EAAM7nB,KAAM,GAAjC,eACJ,YAAV0vB,EAAsB,CAAE0e,aAAc,YAAaC,gBAAiB,IAAO,CAAED,aAAc,WAAYC,gBAAiBH,KAJnH,OAGPngB,EAHO,OAMb3yB,EAAQ,OAAC2yB,QAAD,IAACA,OAAD,EAACA,EAASlG,MAClB9rB,EAAW,IAPE,gDASbA,EAAW,IACXP,EAAgB,aAAD,OAAck0B,EAAd,uDAA+B,EAAgBx0B,SAAW,CACrEJ,QAAS,UAXA,yDAAH,sDAelB,OAAO,kBAAC8F,EAAA,EAAD,CAAK/F,MAAO,CAAE6D,QAAS,GAAIkiB,WAAY,GAAIrf,YAAa,MACtD,OAAJsmB,QAAI,IAAJA,OAAA,EAAAA,EAAMwmB,kBAAyC,aAAtBxmB,EAAKumB,aAA8B,kBAAC/hB,GAAD,CACzD3D,MAAM,4BACNxpB,SAAS,QAAQhE,QAAO,OAAE2sB,QAAF,IAAEA,OAAF,EAAEA,EAAMwmB,kBAAsB,8BAC1D,kBAACvN,GAAA,EAAD,CAAMjmC,MAAO,CAAEiG,UAAW,GAAI9B,aAAc,IAAMlE,QAAQ,YACtD,kBAACoyC,GAAA,EAAD,CAAO9rC,KAAK,SACR,kBAAC+rC,GAAA,EAAD,KACI,kBAACC,GAAA,EAAD,eACK,CAAC,gBACE,gBACA,qBACA,wBACA,kBACA,wBANR,aACK,EAKqB73C,KAAI,SAACmzB,GAAD,OAClB,kBAAC2kB,GAAA,EAAD,KAAW,kBAAC,GAAD,CAAMxyC,MAAO,CAAEvC,WAAY,MAAQowB,SAG9D,kBAAC4kB,GAAA,EAAD,YACKzlB,QADL,IACKA,GADL,UACKA,EAAMuN,gBADX,aACK,EAAgB7/B,KAAI,SAACo2C,GAAa,IAAD,gBACxB4B,EAAyB,OAAGd,QAAH,IAAGA,OAAH,EAAGA,EAASlkB,MAAK,gBAAGqjB,EAAH,EAAGA,UAAH,OAA0B,OAAPD,QAAO,IAAPA,OAAA,EAAAA,EAAS3rC,MAAO4rC,KACnF,OAAQ,kBAACwB,GAAA,EAAD,CAAU53C,IAAG,OAAEm2C,QAAF,IAAEA,OAAF,EAAEA,EAASjjB,OAC5B,kBAAC2kB,GAAA,EAAD,KACI,kBAAC,GAAD,YAAY1B,QAAZ,IAAYA,OAAZ,EAAYA,EAASjjB,QAEzB,kBAAC2kB,GAAA,EAAD,KACI,kBAAC,GAAD,KAAaI,GAAU,iBAACF,QAAD,IAACA,GAAD,UAACA,EAA2BV,YAA5B,iBAAC,EAAiC9Y,cAAlC,aAAC,EAAyC+Y,mBAA1C,QAAyD,IAAO,OAE3F,kBAACO,GAAA,EAAD,KACI,kBAAC,GAAD,KAAaI,GAAU,iBAACF,QAAD,IAACA,GAAD,UAACA,EAA2BX,YAA5B,iBAAC,EAAiC7Y,cAAlC,aAAC,EAAyC+Y,mBAA1C,QAAyD,IAAO,OAE3F,kBAACO,GAAA,EAAD,KACI,kBAAC,GAAD,YAAY1B,QAAZ,IAAYA,OAAZ,EAAYA,EAASsC,aAArB,KAA2C,OAAPtC,QAAO,IAAPA,OAAA,EAAAA,EAASqC,kBAAmB,QAEpE,kBAACX,GAAA,EAAD,KAAW,kBAAC,GAAD,OAAa,iBAAC1B,QAAD,IAACA,OAAD,EAACA,EAASsC,oBAAV,QAA0B,KAAO,IAAML,GAAsC,MAAM3tB,QAAQ,GAAxG,IAA6G,QACxH,kBAACotB,GAAA,EAAD,KAAW,kBAAC,GAAD,OAAa,iBAAC1B,QAAD,IAACA,OAAD,EAACA,EAASsC,oBAAV,QAA0B,IAAML,EAAqC,MAAM3tB,QAAQ,GAAhG,IAAqG,eAMpI,kBAAC7gB,GAAA,EAAD,CAAWvJ,MAAOq4C,EACdzuC,WAAW,EACX3E,QAAQ,SACRhC,MAAM,4BACN4G,YAAY,sCACZF,SAAU,SAAAo0B,GAAC,OAAIua,EAAgBva,EAAE3E,OAAOp5B,UAC5C,kBAAC+K,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUF,UAAW,KAC5D,kBAACI,GAAA,EAAD,CACII,WAAYxF,IAAYoyC,EACxB3tC,QAAS,kBAAMvC,EAAa,WAC5BnD,MAAO,CAAEiG,UAAW,GAAIS,YAAa,IACrCH,KAAK,QACLhI,MAAM,YACN+F,SAAsB,WAAZrD,EAAuB,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,SAClFtG,QAAQ,cAEZ,kBAACoG,GAAA,EAAD,CACII,WAAYxF,EACZjB,MAAO,CAAEiG,UAAW,IACpBM,KAAK,QACLhI,MAAM,UACN0B,QAAQ,YACRyF,QAAS,kBAAMvC,EAAa,YAC5BmB,SAAsB,YAAZrD,EAAwB,kBAAC0F,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,eC5E7F0f,GAAYC,aAAW,SAACvnB,GAAD,OAC3BwnB,YAAa,CACXE,OAAQ,CACN9gB,SAAU,YAEZsoB,MAAO,CACL9H,WAAYpnB,EAAMyoB,QAAQ,GAC1BuB,KAAM,QAKNqhB,GAAapoC,IAAM4jB,YAAW,SAClClsB,EACAosB,GAEA,OAAO,kBAACukB,GAAA,EAAD,eAAOlhB,UAAU,KAAKrD,IAAKA,GAASpsB,OAQ9B,eAAsD,IAAnDkH,EAAkD,EAAlDA,YAAawsB,EAAqC,EAArCA,KAAMkd,EAA+B,EAA/BA,OAAW5wC,EAAoB,gDAC5D6uB,EAAUlC,KACVwtB,GAAkB,OAAJzmB,QAAI,IAAJA,OAAA,EAAAA,EAAMwmB,kBAAyC,aAAtBxmB,EAAKumB,aAC1C9zC,EAASD,cAATC,KAH0D,EAI9BlG,mBAAS,GAJqB,mBAI3DuoC,EAJ2D,KAI/CqI,EAJ+C,OAKpC5wC,oBAA8B,OAALD,QAAK,IAALA,OAAA,EAAAA,EAAOs4C,UAAW,IALP,mBAK3DA,EAL2D,KAKlD8B,EALkD,OAMpCn6C,oBAAkB,GANkB,mBAM3D0H,EAN2D,KAMlDC,EANkD,OAOxC3H,mBAAuB,MAPiB,mBAO3DwH,EAP2D,KAOpDC,EAPoD,KAQ1D2yC,EAAYnoB,eAAZmoB,QACR75C,qBAAU,WACe,IAAnB83C,EAAQjkB,OACVimB,IAEA1yC,GAAW,KAEZ,IACH,IAAM0yC,EAAY,yCAAG,6BAAA55C,EAAA,sEAEjBgH,EAAS,MACTE,GAAW,GAHM,KAIjBwyC,EAJiB,SAICC,EAAQzW,MAAMlQ,EAAK7nB,IAAM,GAAI,GAAI,CAAE0hB,SAAU,QAJ9C,0JAIN,EAA+DkH,QAAO,kBAAGgjB,EAAH,EAAGA,UAAH,iBAAmB/jB,EAAKuN,gBAAxB,aAAmB,EAAe7M,MAAK,gBAAGvoB,EAAH,EAAGA,GAAH,OAAY4rC,IAAc5rC,QAJjI,iCAKjBjE,GAAW,GALM,kDAOjBF,EAAS,EAAD,IACRE,GAAW,GARM,0DAAH,qDAWZkpC,EAAiB,WACrB5pC,KAEIqzC,EAAqB,WACzB1J,EAAc,IAEV2J,EAAiB,WACrB3J,EAAc,IAEV5pC,EAAW,SAACysB,GAChBkd,EAAOld,IAoBT,OAAQ,kBAACtlB,GAAA,EAAD,CAAQ2iC,YAAU,EAACziC,MAAM,EAAMJ,QAAS4iC,EAC9CE,oBAAqBN,IACrB,kBAACtgB,EAAA,EAAD,CAAQhB,UAAWP,EAAQ9B,QACzB,kBAACuD,EAAA,EAAD,KACE,kBAACpkB,EAAA,EAAD,CAAYI,KAAK,QAAQrH,MAAM,UAAUmH,QAAS0kC,EAAgB3kC,aAAW,SAC3E,kBAAC,KAAD,OAEF,kBAAC,GAAD,CAAYijB,UAAWP,EAAQ0F,OACb,WAAX,OAAJpuB,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAmB,mBAAqBmoB,EAAc,sBAAwB,sBAI3F,kBAACtlB,GAAA,EAAD,CAAOqJ,UAAW,GACfv2B,GAAqB,OAAVF,EAAiB,kBAACgF,EAAA,EAAD,CAAK/F,MAAO,CACvCivB,UAAW,IAAK/oB,QAAS,OAAQF,MAAO,OACxC4kB,cAAe,SACfzkB,WAAY,SAAUC,eAAgB,WAErCrF,EAAQ,oCACP,kBAAC,GAAD,CAAMxC,MAAM,iBAAZ,OAA8BwC,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAOV,SACrC,kBAACgG,GAAA,EAAD,CAAQE,KAAK,QAAQjC,SAAS,QAC5B/F,MAAM,YACN0B,QAAQ,YACRD,MAAO,CAAEiG,UAAW,IACpBP,QAASkuC,KACP,kBAACjtC,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,MACxB,WAAX,OAAJ9G,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAmB,kBAACyoB,GAAD,CAAanC,QAASA,EACtD5kB,KAAMA,EACNzsB,SAAUA,IAAe,kBAACyzC,GAAD,CAAclS,WAAYA,EAAYyH,WA9ClD,SAACzH,GAClB,OAAQA,GACN,KAAK,EACH,OACE,kBAACmS,GAAD,CACErC,QAASA,EACT5kB,KAAMA,EAAM7pB,aAAc0wC,IAEhC,KAAK,EACH,OACE,kBAACK,GAAD,CAAmBlnB,KAAMA,EACvB6lB,YAAaiB,EAAgBhB,cAAevyC,IAElD,QACE,cChEO,mBAA4B,IAAzB4zC,EAAwB,EAAxBA,UACRtzC,EAAUC,cADsB,EAGL0qB,eAAzBqM,EAH8B,EAG9BA,cAAejF,EAHe,EAGfA,KACnBwhB,EATG,IAAItd,gBAAgBC,cAAcC,QAKH,EAKlBW,cAAdzB,EALgC,EAKhCA,IAAK/tB,EAL2B,EAK3BA,KAL2B,EAOZ5O,mBAAuB,MAPX,mBAOxByH,GAPwB,aAQoBzH,mBAA+B,MARnD,mBAQ/B86C,EAR+B,KAQRC,EARQ,OASF/6C,oBAAS,GATP,mBAS/Bg7C,EAT+B,KASnBC,EATmB,OAUdj7C,mBAAoC,IAVtB,mBAU/ByF,EAV+B,KAUzBD,EAVyB,OAWK6B,eAAnCD,EAX8B,EAW9BA,gBAAiB8zC,EAXa,EAWbA,cAXa,EAYPj1C,cAAvBC,EAZ8B,EAY9BA,KAAMkzB,EAZwB,EAYxBA,YACN9rB,EAAeE,KAAfF,WACAykB,EAAS7rB,EAAT6rB,KACFwM,EAAWC,iBAAY,MACvB2c,EAAiB,yCAAG,WAAOvvC,GAAP,kBAAAnL,EAAA,6DAClBiH,EAA8B,KADZ,SAGlBA,EAAUN,EAAgB,oCAAqC,CAC3DsyC,SAAS,IAJK,SAMCrgB,EAAK+hB,YAAY,CAACxvC,IANnB,OAMZ1F,EANY,OAOlBkzB,EAAYlzB,EAAKutB,MACjB4nB,IACY,OAAZ3zC,EAAmBwzC,EAAcxzC,GAAW9H,QAAQC,IAAI,eACxDuH,EAAgB,wEAAyE,CACrFV,QAAS,YAXK,kDAeN,OAAZgB,EAAmBwzC,EAAcxzC,GAAW9H,QAAQC,IAAI,eACxDuH,EAAgB,2CAA4C,CACxDV,QAAS,UAjBK,0DAAH,sDAqBjBo9B,EAAY,yCAAG,WAAOl4B,GAAP,UAAAnL,EAAA,sEAEbw6C,GAAc,GAFD,SAGP3tC,IAHO,uBAIPgxB,EAAcgd,OAAO1vC,GAJd,OAKb2yB,EAASa,SAAWb,EAASa,QAAQC,gBACrC4b,GAAc,GAND,kDAQbA,GAAc,GACdxzC,EAAS,EAAD,IATK,0DAAH,sDAcZ4zC,EAAgB,WAClB5zC,EAAS,MACT82B,EAASa,SAAWb,EAASa,QAAQC,iBAInCkc,EAAmBjzC,uBAAY,SAAC+yB,GAAiC,IAAD,EAQ9DA,EANA8E,YAF8D,MAEvD,EAFuD,IAQ9D9E,EAJA+E,gBAJ8D,MAInD,GAJmD,IAQ9D/E,EAHAoC,cAL8D,MAKrD,GALqD,IAQ9DpC,EAFAmgB,QAN8D,gBAMhB,GANgB,GAMnD9b,MAAO8b,OAN4C,MAMlC,cANkC,IAQ9DngB,EADAogB,sBAP8D,MAO7C,OAP6C,EAiBlE,OARAn0C,EAAQiqB,KAAR,gBACa4O,EAAO,EADpB,iBAC8BC,GAD9B,OACyC3C,EAAS,gBAAkBA,EAAS,KAOtEa,EAAca,OACjBgB,EAAO,EACPC,EACA,GACAob,EACAC,GAAkC,OAClC,CAAEp4C,KAAMu3C,EAAWzZ,OAAQ,cAE1BlyB,MAAK,YAAkC,IAA/BwkB,EAA8B,EAA9BA,KAAa4M,EAAiB,EAAxB9M,MACX,MAAO,CAAEE,OAAM0M,OAAME,iBAExBC,OAAM,SAACtB,GAEJ,OADAv3B,EAASu3B,GACF,CACHvL,KAAM,GACN0M,OACAE,WAAY,QAGzB,IAEGqb,EAA4BpzC,uBAAY,2DAAM,WAAOmrB,GAAP,kBAAAhzB,EAAA,kEAEvCgzB,EAAK7nB,GAFkC,uBAGxCxE,EAAgB,8CAEZ,CACIV,QAAS,UANuB,0CAWtC43B,EAAc5E,QAAW,OAAJjG,QAAI,IAAJA,OAAA,EAAAA,EAAM7nB,KAAM,GAAjC,eAA0C6nB,IAXJ,OAY5CrsB,EAAgB,uCAAwC,CACpDV,QAAS,YAGbq0C,EAAyB,MAhBmB,kDAmB5CA,EAAyB,MACzB3zC,EAAgB,qBAAD,oDACU,EAAgBN,eAD1B,QACqC,wBAChD,CACIJ,QAAS,UAvB2B,0DAAN,wDA2B3C,IACG64B,EAAaj3B,uBAAY,SAACk3B,EAAD,GAEiB,EAA1Cmc,UAA2C,IAA7BhY,EAA4B,+BACxC,OAACA,QAAD,IAACA,OAAD,EAACA,EAAO/3B,KAGZtE,EAAQiqB,KAAR,UAAgB3iB,GAAhB,QAA4B,OAAL+0B,QAAK,IAALA,OAAA,EAAAA,EAAOiY,QAAP,OAAejY,QAAf,IAAeA,OAAf,EAAeA,EAAO/3B,QAC9C,CAACgD,IACEylC,EAAc,WAChB0G,EAAyB,MACzBv1C,EAAQ,KAENi6B,EAAmC/9B,mBAAQ,iBAAM,CACnD,CACI4yB,MAAO,QACPoL,MAAO,QACPC,OAAQ,gBAAGrL,EAAH,EAAGA,MAAOmO,EAAV,EAAUA,UAAV,OAA0B,6BAC9B,kBAACnS,EAAA,EAAD,CACIC,OAAQ,kBAACG,EAAA,EAAD,CAAQC,IAAI,UAAUC,IAAK6R,IACnC/9B,MAAO4vB,EACP5tB,QAAQ,gBAIpB,CACI4tB,MAAO,WACPqL,OAAQ,YAEJ,IAAD,IADC0C,EACD,EADCA,YACD,IADcwZ,iBACd,MAD0B,GAC1B,EACC,OACI,kBAACtN,GAAA,EAAD,CACIwC,oBAAqB+K,KACrBxnB,MAAO+N,KAAW,OAAKn8B,QAAL,IAAKA,OAAL,EAAKA,EAAM+zB,KAAM,gCAA5B,oCAA0E4hB,QAA1E,IAA0EA,OAA1E,EAA0EA,EAAWrzC,YAArF,QAA6F,UACpG,kBAAC8nB,EAAA,EAAD,CACItjB,KAAK,QACLtI,MAAO29B,KAAW,OAAKn8B,QAAL,IAAKA,OAAL,EAAKA,EAAM+zB,KAAM,MAA5B,iBAAqC4hB,QAArC,IAAqCA,OAArC,EAAqCA,EAAWrzC,YAAhD,QAAwD,QAC/D/B,MAAO,CACH/C,WAAY2+B,KAAW,OAAKn8B,QAAL,IAAKA,OAAL,EAAKA,EAAM+zB,KAAM,UAAY,OACpDj1B,MAAO,cAO/B,CACIsvB,MAAO,WACPynB,MAAO,OACPpc,OAAQ,gBAAGqB,EAAH,EAAGA,SAAH,OAAkB,kBAAC,GAAD,KAAiBA,EAAS5M,UAExD,CACIE,MAAO,gBACPqL,OAAQ,YAGJ,IAAD,IAFCqa,oBAED,MAFgB,cAEhB,MADCC,uBACD,MADmB,GACnB,EACC,OACI,kBAAC1L,GAAA,EAAD,CACIwC,oBAAqB+K,KACrBxnB,MAAsC,aAA/B0lB,EAAagC,eAAgC/B,EAAkBA,EAAkBD,GACxF,kBAAC1pB,EAAA,EAAD,CACItjB,KAAK,QACLtI,MAAOs1C,EAAagC,cACpBv1C,MAAO,CACH/C,WAAYu4C,GAAkBjC,GAC9Bh1C,MAAO,cAO/B,CACIsvB,MAAO,eACPqL,OAAQ,oBAAGuc,mBAAH,MAAiB,GAAjB,SAA0B,kBAAC,GAAD,KAAiBC,KAAe,IAAI/sC,KAAK8sC,UAEhF,IACH,OACI,kBAAC1vC,EAAA,EAAD,KACI,kBAAC,KAAD,CACI4vC,WAAY,CACRC,UAAW,SAAAt8C,GAAK,OAAI,kBAAC60B,GAAA,EAAD,iBAAW70B,EAAX,CAAkBk+B,UAAW,OAErDM,SAAUA,EACVjK,MAAM,GACNiL,WAAYA,EACZE,QAASA,EAuBT6c,QAAS,CACL,oBAAG1wC,UAAH,MAAQ,GAAR,MAAYy2B,mBAAZ,MAA0B,GAA1B,SAAwC,OAAJn8B,QAAI,IAAJA,OAAA,EAAAA,EAAM+zB,OAAQoI,IAAsB,OAACn8B,QAAD,IAACA,OAAD,EAACA,EAAMq2C,kBAAkB7tC,SAAS9C,KAAuB,UAAX,OAAJ1F,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAyB,CAC7IhG,KAAM,kBAAM,kBAACyiB,GAAA,EAAD,OACZzX,QAAQ,iCAER5qB,QAAS,SAACqzB,EAAD,GAA+B,EAAzBmc,UAA0B,IAAZloB,EAAW,8BACpCnsB,EAAQiqB,KAAK,CACTwlB,SAAU,WACVzb,MAAO,CACHkhB,cAAe/oB,EACfuN,SAAUvN,EAAKuN,cAT2G,MAc1I,oBAAGqB,mBAAH,MAAiB,GAAjB,MAAqB2X,oBAArB,MAAoC,GAApC,QAA2D,UAAV,OAAJ9zC,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,OAAkD,YAA/BioB,EAAagC,cAA8B,CAC7GjwB,KAAM,kBAAM,kBAAC,KAAD,OACZgL,QAAQ,mBAER5qB,QAAS,SAACqzB,EAAD,GAA+B,EAAzBmc,UAA0B,IAAZloB,EAAW,8BACpCsnB,EAAyBtnB,GACzBjuB,EAAQ,cAGP,OAAJU,QAAI,IAAJA,OAAA,EAAAA,EAAM+zB,OAAQoI,GAA8C,eAA9B2X,EAAagC,eAAiE,aAA/BhC,EAAagC,cAS3F,KAT4H,CAC5HjwB,KAAM,kBAAM,kBAAC,KAAD,OACZgL,QAAQ,mBAER5qB,QAAS,SAACqzB,EAAD,GAA+B,EAAzBmc,UAA0B,IAAZloB,EAAW,8BACpCsnB,EAAyBtnB,GACzBjuB,EAAQ,cAIF,WAAdo1C,GAAyC,UAAX,OAAJ10C,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAkB,CAC9ChG,KAAM,kBAAM,kBAAC,KAAD,OACZgL,QAAQ,iCAER5qB,QAAS,SAACqzB,EAAD,GAA+B,EAAzBmc,UAA0B,IAAD,IAAXloB,EAAW,8BACpC0nB,EAAiB,QAAE,EAAF,UAAE1nB,SAAF,aAAC,EAAyB7nB,UAA1B,QAAgC,MAErD,KACJ,oBAAGy2B,mBAAH,MAAiB,GAAjB,SAA8B,OAAJn8B,QAAI,IAAJA,OAAA,EAAAA,EAAM+zB,OAAQoI,GAA8B,WAAX,OAAJn8B,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAmB,CAC5EhG,KAAM,OACNgL,QAAS,gBACT5qB,QAAS,SAACqzB,EAAQ/L,GAAe,IAAD,WAErBA,EAAI,UACXnsB,EAAQiqB,KAAK,CACTwlB,SAAS,GAAD,OAAKpa,EAAL,aAAY,UAAClJ,SAAD,eAAyBmoB,QAAzB,UAAkCnoB,SAAlC,aAAiC,EAAyB7nB,IAAtE,SACR0vB,MAAO,CACH8U,QAAQ,EACRzM,MAAOlQ,OAInB,OAxDC,oBAyDQ,UAAT1B,EAAmB,CAAC,CACpBhG,KAAM,OACNgL,QAAS,iBACT/qB,SAAU,MACVG,QAAQ,WAAD,8BAAE,WAAOjC,EAAY81B,GAAnB,UAAAv/B,EAAA,sDACLs6C,EAAyB/a,GADpB,2CAAF,qDAAC,IAIZ,CACIjU,KAAM,SACNgL,QAAS,kBACT7pB,SAAU8tC,EACV7uC,QAAQ,WAAD,8BAAE,WAAOjC,EAAYylB,GAAnB,gBAAAlvB,EAAA,+EAAiCqjC,GAAa,UAACnU,SAAD,eAAyB/jB,KAAM,KAA7E,2CAAF,qDAAC,KACP,IAtEA,CAuEL,CACImgB,KAAM,UACNgL,QAAS,eACT0lB,cAAc,EACdtwC,QAASkvC,KAEf7mB,QAAO,SAAA/zB,GAAC,QAAMA,KAEhBgzB,KAAM8nB,EACNxlB,QAAS,CACL0H,QAAQ,EACRif,SAAS,EACTtc,SAAUsO,UAAmB,OAAVmM,QAAU,IAAVA,OAAA,EAAAA,EAAYnd,IAAI,UAAW,KAAO,GACrD6C,YAAa,CAAEr8B,WAAY,IAAKJ,SAAU,GAAIC,WAAY,WAC1D08B,oBAAqB,KAGF,OAA1Bqa,GAA2C,YAATr1C,GAC/B,kBAACk3C,GAAD,CACI37C,KAAM85C,EACN9zC,SAAU00C,EACVztC,QAASomC,IAGU,OAA1ByG,GAA2C,YAATr1C,GAAsB,kBAACm3C,GAAD,CAA4BnpB,KAAMqnB,EACvFnK,OAAQ,WACJ0D,IACAgH,KAEJp0C,YAAaotC,MAKvB4H,GAAoB,SAAC3gB,GACvB,OAAQA,GACJ,IAAK,WACD,MAAO,UACX,IAAK,UACD,MAAO,UACX,IAAK,YACD,MAAM,UACV,QACI,MAAO,SC9XJ,cACb,OAAO,kBAAC,GAAD,CAAQsf,UAAU,WCDZ,cACb,OAAO,kBAAC,GAAD,CAAOA,UAAU,YCUX,kBACb,IACMtd,EALC,IAAIC,gBAAgBC,cAAcC,QAKvBC,IAAI,QAAU,YAC1Bp2B,EAAUC,cAHG,EAIC62B,cAAdzB,EAJa,EAIbA,IACEz2B,GALW,EAIR0I,KACM3I,cAATC,MALW,EAMiBlG,mBAASs9B,GAN1B,mBAOb7E,GAPa,UAON,CACX,CACE/zB,MAAqB,UAAV,OAAJwB,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAkB,YAAc,iBAC7C3wB,IAAK,YACLiJ,UAAW,kBAACwyC,GAAD,MACXtuC,aAAc,CAAC,QAAS,SAE1B,CACE7J,MAAO,mBACP2F,UAAW,kBAACyyC,GAAD,MACX17C,IAAK,SACLmN,aAAc,CAAC,WAMnB,OACE,oCACkB,UAAX,OAAJrI,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAkB,kBAAC6C,GAAA,EAAD,CAAOnuB,MAAO,CAAEmE,aAAc,GAAIN,QAAS,KAClE,kBAACwC,GAAA,EAAD,CACE9H,MAAM,UACN0B,QAAQ,WACRD,MAAO,CAAEiE,OAAQ,IACjByB,QAAS,kBAAM7E,EAAQiqB,KAAR,UAAgBoL,EAAhB,cAJjB,8BAOA,kBAAC7vB,GAAA,EAAD,CACE9H,MAAM,UACN0B,QAAQ,WACRD,MAAO,CAAEiE,OAAQ,IACjByB,QAAS,kBAAM7E,EAAQiqB,KAAR,UAAgBoL,EAAhB,oBAJjB,yBAOA,kBAAC7vB,GAAA,EAAD,CACEpG,QAAQ,WACRD,MAAO,CAAEiE,OAAQ,IACjByB,QAAS,WACP7E,EAAQiqB,KAAR,UAAgBoL,EAAhB,cAJJ,sBAQS,8BACX,kBAACnE,GAAD,CAGEC,KAAMA,MC3DC,cAAO,IAAD,EACez4B,mBAAS,IADxB,mBACZ+8C,EADY,KACDC,EADC,OAEC5e,cAAdzB,EAFa,EAEbA,IACAr1B,GAHa,EAERsH,KACKrH,eAChBhH,qBAAU,WACR,IAAMukC,EAAOn/B,aAAaG,QAAQ,kBAClCk3C,EAAalY,EAAOzjC,KAAKC,MAAMwjC,GAAQ,MACtC,IAMH,OACE,kBAAC,KAAD,KACE,kBAACt+B,EAAA,EAAD,CAAYE,QAAQ,MAApB,qBACCq2C,EAAU3oB,OACT2oB,EAAU57C,KAAI,SAACsyB,EAAM7D,GAAP,OACZ,kBAACgF,GAAA,EAAD,CAAOnuB,MAAO,CAAEiG,UAAW,GAAIpC,QAAS,KACtC,kBAAC9D,EAAA,EAAD,CAAYE,QAAQ,MAApB,OAA0B+sB,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAMa,OAChC,kBAAC9tB,EAAA,EAAD,CAAYxB,MAAM,aACf,IAAIoK,KAAJ,OAASqkB,QAAT,IAASA,OAAT,EAASA,EAAMwpB,WAAWC,kBAE7B,kBAAC1wC,EAAA,EAAD,CAAK/F,MAAO,CAAEiG,UAAW,KACvB,kBAACI,GAAA,EAAD,CACEX,QAAS,kBACP7E,EAAQiqB,KAAK,CACXwlB,SAAS,GAAD,OAAKpa,EAAIT,OAAO,EAAGS,EAAIwgB,YAAY,MAAnC,QACR7hB,MAAO,CACLwb,WAAYlnB,EACZ+T,MAAOlQ,MAIb1oB,SAAS,OACTiC,KAAK,QACLhI,MAAM,UACN0B,QAAQ,cAEV,kBAACoG,GAAA,EAAD,CACEX,QAAS,kBAhCF,SAACyjB,GACpB,IAAMkV,EAAOiY,EAAUvoB,QAAO,SAAC7E,EAAMytB,GAAP,OAAcxtB,IAAUwtB,KACtDJ,EAAalY,GACbn/B,aAAaC,QAAQ,iBAAkBvE,KAAKm7B,UAAUsI,IA6B3BhB,CAAalU,IAC5B7kB,SAAS,SACTiC,KAAK,QACLhI,MAAM,mBAMd,kBAACwB,EAAA,EAAD,CAAYxB,MAAM,aAAlB,yB,4BCvDFq4C,GAAM,IADEC,EAAQ,MAIf,SAAeC,GAAtB,uC,gDAAO,WAAwB7gB,EAAc8F,EAAOgb,GAA7C,kBAAA/8C,EAAA,sEAEO+H,EAAOg1C,EAAQthB,OAAOshB,EAAQL,YAAY,KAAO,GAFxD,SAG2Bv8C,MAAM48C,GAHjC,8BAG2CC,OAH3C,cAGO1jB,EAHP,OAICsjB,GAAItjB,KAAKvxB,EAAMuxB,GAJhB,UAKOjsB,QAAQ0B,IAAR,uBAEKktB,EAAav7B,IAAb,yCAAiB,gCAAAV,EAAA,6DAAS+H,EAAT,EAASA,KAAMooB,EAAf,EAAeA,IAAf,KACpBysB,GADoB,sBACD70C,GADC,SACoB5H,MAAMgwB,GAD1B,8BACgC6sB,OADhC,iDAChB1jB,KADgB,iEAAjB,wDAFL,aAICyI,EAAMrhC,IAAN,yCAAU,gCAAAV,EAAA,6DAAS+H,EAAT,EAASA,KAAMooB,EAAf,EAAeA,IAAf,KACTysB,GADS,qBACS70C,EADT,mBACiBooB,QADjB,IACiBA,OADjB,EACiBA,EAAKsJ,MAAM,KAAKC,OADjC,SACuDv5B,MAAMgwB,GAD7D,8BACmE6sB,OADnE,iDACL1jB,KADK,iEAAV,0DATR,oBAYC2jB,GAZD,UAYoBL,GAAIM,cAAc,CAAEt6C,KAAM,SAZ9C,0CAY4DmF,EAAK0zB,OAAO,EAAG1zB,EAAK20C,YAAY,MAZ5F,4BAaCE,GAAIO,OAAO,UACXP,GAAIO,OAAO,QACXP,GAAIO,OAAO,SAfZ,mBAiBQ,GAjBR,kCAmBCh+C,QAAQC,IAAR,MAnBD,2D,sBAwBP,SAAS69C,GAAaD,EAAMI,GAExB,IAAMlhB,EAAM6P,IAAIC,gBAAgBgR,GAG1Bh9C,EAAIuvB,SAAS8tB,cAAc,KAKjCr9C,EAAEs9C,KAAOphB,EACTl8B,EAAEu9C,SAAWH,GAAY,WAwBzB,OAXAp9C,EAAEw9C,iBAAiB,SATE,SAAfC,IACFC,YAAW,WACP3R,IAAI4R,gBAAgBzhB,GACpBl8B,EAAE49C,oBAAoB,QAASH,KAChC,QAKmC,GAM1Cz9C,EAAE69C,QAKK79C,E,0BCRLisB,IATiB6xB,aAAW,CAChCC,aAAc,CACZ9f,gBAAiB,WAEnB+f,gBAAiB,CACf/f,gBAAiB,YALE6f,CAQpBG,MACe/xB,aAAW,SAACvnB,GAAD,OAC3BwnB,YAAa,CACX+xB,OAAQ,CACNnV,UAAW,eACXhd,WAAY,OACZS,WAAY7nB,EAAM8nB,YAAYC,OAAO,YAAa,CAChDG,SAAUloB,EAAM8nB,YAAYI,SAASsxB,YAGzCC,WAAY,CACVrV,UAAW,wBAKF,cAAO,IAAD,UACX59B,EAAOirC,cAAPjrC,GADW,EAEgBqmB,eAA3BqM,EAFW,EAEXA,cAAe8b,EAFJ,EAEIA,QACf9e,EAAUkC,cAAVlC,MACAhuB,EAAeE,KAAfF,WAJW,EAKWtN,mBAAyB,IALpC,mBAKZq4C,EALY,KAKH8B,EALG,KAMXxd,EAAQyB,cAARzB,IACAz2B,EAASD,cAATC,KACFoB,EAAUC,cACRH,EAAoBC,eAApBD,gBATW,EAUmCpH,mBAA4C,IAV/E,mBAUZ8+C,EAVY,KAUSC,EAVT,OAWmC/+C,oBAAkB,GAXrD,mBAWZg/C,EAXY,KAWSC,EAXT,QAYHvyB,KACQ1sB,sBAbL,mBAaZyzB,EAbY,KAaNC,EAbM,OAcO1zB,mBAAuB,MAd9B,mBAcZwH,EAdY,KAcLC,EAdK,OAeWzH,oBAAkB,GAf7B,mBAeZ0H,EAfY,KAeHC,EAfG,KAgBbu3C,GAAsB,OAAJzrB,QAAI,IAAJA,OAAA,EAAAA,EAAM4O,gBAAN,OAAsBn8B,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAM+zB,MAAsB,WAAX,OAAJ/zB,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MACjExxB,qBAAU,WACRC,MACC,IAEH,IAAMA,EAAI,yCAAG,+BAAAC,EAAA,kEAETgH,EAAS,MACTE,GAAW,GAHF,YAIS2zB,QAJT,IAISA,OAJT,EAISA,EAAOkhB,cAJhB,qCAIuCle,EAAcZ,IAAI9xB,GAJzD,iCAIHuzC,EAJG,KAKTzrB,EAAQyrB,GALC,KAMThF,EANS,UAMSC,EAAQzW,MAAM/3B,EAAI,GAAI,CAAE0hB,SAAU,QAN3C,2JAME,EAAoDkH,QAAO,kBAAGgjB,EAAH,EAAGA,UAAH,cAAmB2H,QAAnB,IAAmBA,GAAnB,UAAmBA,EAAUne,gBAA7B,aAAmB,EAAoB7M,MAAK,qBAAGvoB,KAAgB4rC,QAN5H,iCAOT7vC,GAAW,GAPF,kDASTA,GAAW,GACXF,EAAS,EAAD,IAVC,0DAAH,qDAaJyiC,EAAe,WACnB+U,GAAuB,SAAA1yC,GAAC,OAAKA,MAGzB6yC,EAAc,yCAAG,6BAAA3+C,EAAA,sEAEnBs+C,EAAuB,UAFJ,SAGbxB,GAAQ,OAAC9pB,QAAD,IAACA,OAAD,EAACA,EAAMiJ,aAAP,OAAqBjJ,QAArB,IAAqBA,OAArB,EAAqBA,EAAM+O,MAA3B,OAAkC/O,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAM7C,KAHnC,OAInBmuB,EAAuB,IAJJ,gDAMnBA,EAAuB,IACvB33C,EAAe,QAAE,EAAF,yBAAC,EAAgBN,QAAS,CACvCJ,QAAS,UARQ,yDAAH,qDAad6rC,EAAU,yCAAG,uBAAA9xC,EAAA,sDACjB6G,EAAQiqB,KAAK,CACXwlB,SAAS,GAAD,OAAKpa,EAAL,SACRrB,MAAO,CACL8U,QAAQ,EACRzM,MAAOlQ,KALM,2CAAH,qDAUVqQ,EAAY,yCAAG,6BAAArjC,EAAA,sEAEjBs+C,EAAuB,UAFN,SAGXzxC,IAHW,uBAIXgxB,EAAcgd,OAAO1vC,GAJV,OAKjBmzC,EAAuB,IALN,gDAOjBA,EAAuB,IACvB33C,GAAiB,qCAAgBN,UAAhB,KAA2C,CAC1DJ,QAAS,UATM,yDAAH,qDAclB,OACE,kBAACkuB,GAAA,EAAD,CAAOnuB,MAAO,CAAEivB,UAAW,IAAKjpB,MAAO,OAAQnC,QAAS,KACrD9C,EACG,kBAACgF,EAAA,EAAD,CAAK/F,MAAO,CACZgG,MAAO,OAAQE,QAAS,OACxB+oB,UAAW,IACXrE,cAAe,SACfzkB,WAAY,SAAUC,eAAgB,WAEtC,kBAAC,GAAD,CAAM7H,MAAM,iBAAZ,OAA6BwC,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAOV,SACpC,kBAACgG,GAAA,EAAD,CAAQX,QAAS3L,EACfiG,MAAO,CAAEiG,UAAW,IACpB3B,SAAS,QACTiC,KAAK,QACLhI,MAAM,YACN0B,QAAQ,cAEVgB,EACE,kBAAC8E,EAAA,EAAD,CAAK/F,MAAO,CACZgG,MAAO,OAAQE,QAAS,OACxB+oB,UAAW,IACX9oB,WAAY,SAAUC,eAAgB,WAEtC,kBAACO,GAAA,EAAD,CAAkBJ,KAAM,GAAIhI,MAAM,aAElC,oCACA,kBAACwH,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQE,eAAgB,gBAAiBD,WAAY,WAC1E,kBAACJ,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACzC,kBAAC,GAAD,YAAa6mB,QAAb,IAAaA,OAAb,EAAaA,EAAMa,QAEpB4qB,EAAkB,8BAAU,kBAAC1yC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQC,WAAY,WACtD,QAAX,OAAJ6mB,QAAI,IAAJA,OAAA,EAAAA,EAAMpwB,MAAgB,kBAACkrC,GAAA,EAAD,CAASja,MAAM,qBACpC,kBAACroB,EAAA,EAAD,CAAYiB,SAAiC,QAAvB4xC,EAA+Bf,KAAI,OAAEtqB,QAAF,IAAEA,OAAF,EAAEA,EAAM7C,KACtC,SAAxBkuB,EAAiC,kBAAC1xC,GAAA,EAAD,CAAkBJ,KAAM,GAAIhI,MAAM,YAAe,kBAACq6C,GAAA,EAAD,QAE1E,8BACb,kBAAC9Q,GAAA,EAAD,CAASja,MAA+B,WAAxBwqB,EAAmC,8BAA+C,cAAX,OAAJrrB,QAAI,IAAJA,OAAA,EAAAA,EAAMpwB,MAAsB,2BAA6B,0BAC1I,kBAAC4I,EAAA,EAAD,CAAYiB,SAAiC,UAAvB4xC,EAAiC3yC,QAASizC,GACrC,WAAxBN,EAAmC,kBAAC1xC,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,kBAACq4B,GAAA,EAAD,QAGzF,kBAACkJ,GAAA,EAAD,CAASja,MAAM,uBACb,kBAACroB,EAAA,EAAD,CAAYE,QAASomC,GACnB,kBAAC,KAAD,QAGY,WAAX,OAAJrsC,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MACL,kBAACwc,GAAA,EAAD,CAASja,MAA+B,WAAxBwqB,EAAmC,oBAAsB,mBACvE,kBAAC7yC,EAAA,EAAD,CAAYE,QAAS23B,GACM,WAAxBgb,EAAmC,kBAAC1xC,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,KAAS,kBAACyiC,GAAA,EAAD,QAE5E,gCAGnB,kBAAChgB,EAAA,EAAD,CAAShpB,MAAO,CAAEiG,UAAW,EAAG9B,aAAc,KAC9C,kBAAC,GAAD,CAAM5F,MAAM,kBAAqB,OAAJyuB,QAAI,IAAJA,OAAA,EAAAA,EAAM6O,cAAe,yBAElD,kBAAC,GAAD,CAAM77B,MAAO,CAAEvC,WAAY,IAAKwI,UAAW,KAA3C,YACA,kBAAC+iB,EAAA,EAAD,CAAShpB,MAAO,CAAEiG,UAAW,EAAG9B,aAAc,KAC9C,kBAAC4B,EAAA,EAAD,CAAK/F,MAAO,CACVkG,QAAS,OAAQ+tB,SAAU,OAAQ9tB,WAAY,aAC/CtC,QAAS,GAAIC,YAAa,IAF5B,OAIGkpB,QAJH,IAIGA,GAJH,UAIGA,EAAMuN,gBAJT,aAIG,EAAgB7/B,KAAI,SAACo2C,GAAa,IAAD,EAChC,OAAO,kBAAC,GAAD,CAAmB+H,SAAa,OAAJp5C,QAAI,IAAJA,OAAA,EAAAA,EAAM+zB,QAAN,OAAcxG,QAAd,IAAcA,OAAd,EAAcA,EAAM4O,aAAa5W,MAAK,OAAE4sB,QAAF,IAAEA,OAAF,EAAEA,EAASlkB,MAAK,qBAAGE,mBAAqC,OAAKZ,QAAL,IAAKA,OAAL,EAAKA,EAAM7nB,OAAK62B,UAAS,iBAAEhP,QAAF,IAAEA,OAAF,EAAEA,EAAMgP,iBAAR,QAAqB,GAAI8U,QAASA,QAG/L2H,EAAkB,8BAAU,oCAAE,kBAAC,GAAD,CAAMz4C,MAAO,CAAEvC,WAAY,MAA3B,UAC7B,kBAACurB,EAAA,EAAD,CAAShpB,MAAO,CAAEiG,UAAW,EAAG9B,aAAc,KAC9C,kBAAC4B,EAAA,EAAD,CAAK/F,MAAO,CACVkG,QAAS,OACT0kB,cAAe,SACfzkB,WAAY,aACZtC,QAAS,GAAIC,YAAa,IAE1B,kBAAC+lB,EAAA,EAAD,CACEtjB,KAAM,QACNtI,OAAW,OAAJ+uB,QAAI,IAAJA,GAAA,UAAAA,EAAMumB,oBAAN,eAAoBuF,gBAAiB,GAC5C94C,MAAO,CACL/C,WAAYu4C,GAAiB,OAACxoB,QAAD,IAACA,OAAD,EAACA,EAAMumB,cACpCh1C,MAAO,QACPlB,SAAU,GACVI,WAAY,IACZH,WAAY,UACZoJ,YAAa,OAGZ,OAAJsmB,QAAI,IAAJA,OAAA,EAAAA,EAAMwmB,kBAA0C,cAAnB,OAAJxmB,QAAI,IAAJA,OAAA,EAAAA,EAAMumB,cAA8B,kBAACxtC,EAAA,EAAD,CAAK/F,MAAO,CAAEiG,UAAW,KACrF,kBAAC,GAAD,CAAMjG,MAAO,CAAEvC,WAAY,MAA3B,UACA,kBAAC,GAAD,YAAOuvB,QAAP,IAAOA,OAAP,EAAOA,EAAMwmB,kBACN,8BACO,UAAX,OAAJ/zC,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,OAA0D,iBAAlC,OAAJ0B,QAAI,IAAJA,GAAA,UAAAA,EAAMumB,oBAAN,eAAoBgC,gBAAyE,cAAlC,OAAJvoB,QAAI,IAAJA,GAAA,UAAAA,EAAMumB,oBAAN,eAAoBgC,eAS9D,WAAX,OAAJ91C,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,OAA0D,aAAlC,OAAJ0B,QAAI,IAAJA,GAAA,UAAAA,EAAMumB,oBAAN,eAAoBgC,eAA+B,kBAAClvC,GAAA,EAAD,CAC9FX,QAAS+9B,EACTzjC,MAAO,CAAEiG,UAAW,IACpB1H,MAAM,UACN0B,QAAQ,YACRsG,KAAK,QACLjC,SAAU,oBAAwB,8BAdtC,kBAAC+B,GAAA,EAAD,CACAX,QAAS+9B,EACTzjC,MAAO,CAAEiG,UAAW,IACpB1H,MAAM,UACN0B,QAAQ,YACRsG,KAAK,QACLjC,SAAyB,WAAX,OAAJ7E,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,MAAmB,mBAAwB,OAAJ0B,QAAI,IAAJA,OAAA,EAAAA,EAAMwmB,kBAA0C,cAAnB,OAAJxmB,QAAI,IAAJA,OAAA,EAAAA,EAAMumB,cAClF,WACA,eAUjBgF,EAAsB,kBAACpC,GAAD,CACrBvE,QAASA,EACT5kB,KAAMA,EAAuBxsB,YAAaijC,EAAcyG,OAAQ,SAACld,GAC/DyW,IACAxW,EAAQD,GACRrsB,EAAgB,YAAD,OAA4B,WAAX,OAAJlB,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,OAA2C,cAAnB,OAAJ0B,QAAI,IAAJA,OAAA,EAAAA,EAAMumB,cAA8B,WAAa,UAAxF,kBAAmH,CAChItzC,QAAS,eAEL,gCAQVu1C,GAAoB,SAAC3gB,GACzB,OAAQA,GACN,IAAK,WACH,MAAO,UACT,IAAK,UACH,MAAO,UACT,IAAK,YACH,MAAM,UACR,QACE,MAAO,SAIPkkB,GAAoB,SAAC,GAKpB,IAAD,MALuBjI,EAKvB,EALuBA,QAAS9U,EAKhC,EALgCA,UAAWhX,EAK3C,EAL2CA,MAAO6zB,EAKlD,EALkDA,QAMhD1wB,EAAUlC,KACRxtB,EAAcO,eAAdP,UACFugD,EAAgBvgD,EAAUk1B,OAASxI,WAAU,UAAC1sB,EAAU,UAAX,aAAC,EAAcwgD,WAAzB,KAAkD,KAHvF,EAKwD10B,KAApDN,EALJ,EAKIA,qBALJ,KAK0BI,0BACE9qB,oBAAkB,IAN9C,mBAMG2/C,EANH,KAMaC,EANb,KAUE7N,EAAe,OAAGwF,QAAH,IAAGA,GAAH,UAAGA,EAASpW,cAAZ,aAAG,EAAiB3M,QAAO,kBAAuB,UAAvB,EAAGnxB,QAA6B+wB,OAC1E4d,EAAc,OAAGuF,QAAH,IAAGA,GAAH,UAAGA,EAASpW,cAAZ,aAAG,EAAiB3M,QAAO,gBAAGnxB,EAAH,EAAGA,KAAH,MAAwB,WAATA,GAA8B,SAATA,KAAkB+wB,OACrG,OAAO,kBAACsY,GAAA,EAAD,CAAMhmC,QAAQ,WAAWtF,IAAKm2C,EAAQ3rC,GAC3CnF,MAAO,CACLgE,SAAU,IACVgC,MAAO,OACPU,YAAa,GAAIvC,aAAc,KAGjC,2BACEyhB,OAAQ,IACR6lB,UAAQ,EACRzlC,MAAM,OACNhG,MAAO,CAAEi4B,gBAAiB,QAC1ByT,OAAQ1P,EACR7R,IAAG,OAAE2mB,QAAF,IAAEA,OAAF,EAAEA,EAAShH,SAChB,kBAAC6B,GAAA,EAAD,KACE,kBAAC,GAAD,CAAM3rC,MAAO,CAAEvC,WAAY,MACxBqzC,EAAQjjB,OAEX,kBAAC,GAAD,CAAWtvB,MAAM,iBAAjB,YACYgtC,EADZ,oBAC6CD,EAD7C,kBAIF,kBAACM,GAAA,EAAD,CAAaC,gBAAc,GACzB,kBAAC,GAAD,CAAM7rC,MAAO,CAAEvC,WAAY,MAA3B,WACA,kBAAC+H,EAAA,EAAD,CACEkjB,UAAWiB,YAAKxB,EAAQ+vB,OAAT,eACZ/vB,EAAQiwB,WAAac,IAExBxzC,QAjCoB,WACxByzC,GAAaD,IAiCTE,gBAAeF,EACfzzC,aAAW,aAEX,kBAAC4zC,GAAA,EAAD,QAGJ,kBAACC,GAAA,EAAD,CAAUC,GAAIL,EAAUM,QAAQ,OAAOC,eAAa,GAClD,kBAACjoB,GAAD,CAAcxxB,MAAO,CAAEs0B,aAAc,GAAMjwB,SAAS,OAAOhE,QAAQ,iIACnE,kBAACgyC,GAAA,EAAD,CAAO9rC,KAAK,QAAQd,aAAW,iBAC7B,kBAAC6sC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KAAW,uCACX,kBAACA,GAAA,EAAD,CAAW8C,MAAM,UAAS,2CAC1B,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,UAAS,kDAG9B,kBAAC7C,GAAA,EAAD,KACG,CAAC,SAAU,0BAA2B,6BAA8B,0BAA2B,8BAC9F,mCAAmC/3C,KAAI,SAACuzB,GAAY,IAAD,IAC7C+jB,EAAOhtB,IAAQ,OAACA,QAAD,IAACA,GAAD,UAACA,EAAQgtB,KAAK/jB,UAAd,eAAiCjJ,QAAgB,KAChE+sB,EAAO/sB,IAAQ,OAACA,QAAD,IAACA,GAAD,UAACA,EAAQ+sB,KAAK9jB,UAAd,eAAiCjJ,QAAgB,KAGpE,OAFA+sB,EAAkB,WAAX9jB,GAAwB4qB,EAAkE9G,GAAtDA,GAAQ,KAAsB,OAAL/sB,QAAK,IAALA,OAAA,EAAAA,EAAO00B,gBAAiB,GAC5F1H,EAAkB,WAAX/jB,GAAwB4qB,EAAkE7G,GAAtDA,GAAQ,KAAsB,OAALhtB,QAAK,IAALA,OAAA,EAAAA,EAAO00B,gBAAiB,GAE1F,kBAACnH,GAAA,EAAD,CAAU53C,IAAKszB,GACb,kBAACukB,GAAA,EAAD,CAAW5uC,UAAU,KAAK+1C,MAAM,OhDpRb,SAAC1rB,GAClC,MAAe,4BAAXA,EACO,eACW,gCAAXA,GAGS,4BAAXA,EAFE,mBAIW,+BAAXA,EACA,eACW,4BAAXA,EACA,mBACW,oCAAXA,EACA,gBAES,WAAXA,EACE,gBAGAA,EgDkQM2rB,CAAsB3rB,IAEzB,kBAACukB,GAAA,EAAD,CAAW8C,MAAM,UAAUtD,EACvB/tB,EAAqB+tB,GAAgB,GAAM,GACzB,OAAlBgH,EAAA,UAA4B/0B,EAAqB+0B,GAAe,GAAM,GAAtE,QAAqF,MACzF,kBAACxG,GAAA,EAAD,CAAW8C,MAAM,UAAUvD,EACvB9tB,EAAqB8tB,GAAgB,GAAM,GACzB,OAAlBiH,EAAA,UAA4B/0B,EAAqB+0B,GAAe,GAAM,GAAtE,QAAqF,eClW5F,cAAO,IACd7wC,EAASwvB,cAATxvB,KAEN,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,KAAc+xB,OAAK,EAC5BhB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWi2C,GAAqBhsB,MAAM,uBAE9D,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,cACT+wB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWk2C,GAAmBjsB,MAAM,6BAE5D,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,WACT+wB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWm2C,GAAqBlsB,MAAM,yBAE9D,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,cACT+wB,OAAQ,SAAA5/B,GACN,OACE,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWk2C,GAAmBjsB,MAAM,2BAG9D,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,QACT+wB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWo2C,GAAsBnsB,MAAM,uB,iOCzBtD,eAAiD,IAA9CA,EAA6C,EAA7CA,MAAOrtB,EAAsC,EAAtCA,YAAa8D,EAAyB,EAAzBA,SAAU/D,EAAe,EAAfA,SAC5C,OACI,kBAACmH,GAAA,EAAD,CACI9C,WAAS,EACTgD,MAAI,EACJJ,QAAShH,EACTmH,kBAAgB,qBAChB,kBAACi8B,GAAA,EAAD,CAAaz+B,GAAG,qBAAqB0oB,GACrC,kBAACgW,GAAA,EAAD,CAAev/B,SAAUA,IAEzB,kBAAC6gC,GAAA,EAAD,KACI,kBAAC9+B,GAAA,EAAD,CAAQX,QAASlF,EAAajC,MAAM,WAApC,UAGA,kBAAC8H,GAAA,EAAD,CACIpG,QAAQ,YACRyF,QAASnF,EACThC,MAAM,UACN+F,SAAU,mB,WCrBf,eAAsC,IAAnC+8B,EAAkC,EAAlCA,KAAMhE,EAA4B,EAA5BA,aAAc4c,EAAc,EAAdA,QAAc,EAC1B1gD,mBACP,MAAX,OAAJ8nC,QAAI,IAAJA,OAAA,EAAAA,EAAMt/B,MAAN,OAAoBs/B,QAApB,IAAoBA,OAApB,EAAoBA,EAAMt/B,KAAO,mBAFe,mBAC3CA,EAD2C,KACrCm4C,EADqC,OAIpB3gD,oBAAS,GAJW,mBAI3C0H,EAJ2C,KAIlCC,EAJkC,OAK5B3H,mBAASkvB,QAAO,OAAC4Y,QAAD,IAACA,OAAD,EAACA,EAAMlX,MALK,mBAK3CA,EAL2C,KAKtCuT,EALsC,OAMlBnkC,mBAAS,MANS,mBAM3CskC,EAN2C,KAMjCC,EANiC,OAOxBvkC,mBAAS,MAPe,mBAO3CwH,EAP2C,KAOpCC,EAPoC,OAQNzH,mBAAS,MARH,mBAQ3CwkC,EAR2C,KAQ3BC,EAR2B,KAS5Cmc,EAAgB,yCAAG,WAAOphB,GAAP,gCAAA/+B,EAAA,kEAEfs5B,GACJ,iBAACyF,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWD,aAAZ,QAAqB,CAAC,OAAO,KAC7B,iBAAC4E,QAAD,IAACA,GAAD,UAACA,EAAGqF,oBAAJ,aAAC,EAAiBjK,aAAlB,QAA2B,CAAC,OAAO,GAJhB,wDAMfkK,EAAsB,MAAX,OAAJgD,QAAI,IAAJA,OAAA,EAAAA,EAAMt/B,MAAN,OAAoBs/B,QAApB,IAAoBA,OAApB,EAAoBA,EAAMt/B,KAAOuxB,EAAKvxB,KAAK0xB,MAAM,KAAK,GACnEymB,EAAQ7b,GACRn9B,GAAW,GACLqyB,EAAOt3B,aAAO,SAAD,OACR0M,KAAK21B,OADG,OACKhL,EAAKvxB,KAAK0zB,OAAOnC,EAAKvxB,KAAK20C,YAAY,OAC7DpjB,GAEF0K,EAAkBzK,GAClBA,EAAKI,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC5BiK,EAAY,GAAD,OAAImK,SAAmB,IAATrU,EAAgBC,GAA9B,SAfQ,UAiBSN,EAAKpsB,UAjBd,iBAkB3BiB,GADsBA,EAjBK,EAiBf0rB,UACJC,WAAW,QAAS3rB,EAAxB,kBAAyCA,GACvClH,GAAW,GACX+4C,EAAQ,CAAEl4C,KAAMs8B,EAAMlU,IAAK/hB,IAC3Bs1B,GAAO,GArBc,kDAuBrBx8B,GAAW,GACXF,EAAS,EAAD,IAxBa,0DAAH,sDA2BhBu9B,EAAkB,yCAAG,uBAAAvkC,EAAA,sFAEjB+jC,QAFiB,IAEjBA,OAFiB,EAEjBA,EAAgBS,QAFC,sDAIvBt9B,GAAW,GACXF,EAAS,EAAD,IALe,wDAAH,qDAQxB,OACE,yBACEhB,MAAO,CACLkG,QAAS,OACT0kB,cAAe,SACf5kB,MAAO,gBAET,yBACEhG,MAAO,CACLkG,QAAS,OACTD,UAAW,EACXnC,YAAa,EACbC,aAAc,EACd9G,WAAY,YACZkJ,WAAY,WAEd,2BACEnG,MAAO,CACL6D,QAAS,EACTI,OAAQ,EACRgC,UAAW,EACX9B,aAAc,EACd+qB,WAAY,EACZC,cAAe,EACflyB,WAAY,QACZwiC,OAAQ,iBACRpiC,SAAU,YACVC,WAAY,QACZg3B,aAAc,IAEfnK,EAAM,cAAgB,cAEvB,2BACEzkB,QAAS,SAACjC,GACRA,EAAM2wB,OAAOp5B,MAAQ,MAEvBgF,MAAO,CAAEkG,QAAS,QAClBtJ,KAAK,OACL+H,SAAUw1C,KAId,uBACEn6C,MAAO,CACL3C,SAAU,GACV0oB,WAAY,EACZrf,YAAa,EACbnI,MAAO4rB,EAAM,UAAY,UAE3B,2BACGpoB,EADH,IACUd,GAAO,WAAQ48B,EAAR,OAGlB58B,EACC,oCACE,yBACEjB,MAAO,CACL4lB,OAAQ,GACR5f,MAAO,GACP/B,OAAQ,EACRgC,UAAW,EACX9B,aAAc,EACds7B,OAAQ,kBACRjZ,WAAY,6BACZvpB,WAAW,kCAAD,OAAoC4gC,EAApC,kBAAsDA,EAAtD,QAGd,kBAACx3B,GAAA,EAAD,CAAQ9H,MAAM,YAAYgI,KAAK,QAAQb,QAAS64B,GAAhD,WAKF,kBAACuJ,GAAA,EAAD,CAASsS,OAAO,EAAMC,UAAU,QAAQxsB,MAAM,eAC5C,kBAAC,KAAD,CACEnoB,QAAS23B,EACTiY,MAAM,QACNt1C,MAAO,CACLiE,OAAQ,EACRgC,UAAW,EACX9B,aAAc,EACd5F,MAAO,QAETlB,SAAS,YAKhB0D,GAAS,kBAAC8E,GAAA,EAAD,CAAgB9E,OAAO,EAAMuD,SAAQ,OAAEvD,QAAF,IAAEA,OAAF,EAAEA,EAAOV,YC5H/C,eAA6C,IAA1CkjC,EAAyC,EAAzCA,aAAwBuI,GAAiB,EAA3BvrC,SAA2B,EAAjBurC,YAChCwO,EAAa9/C,OAAOwsC,KAAKzD,GAAc,GACvCgX,EAAchX,EAAa+W,GAFsB,EAG3B/gD,mBAAS+gD,GAHkB,mBAGhDrsB,EAHgD,KAGxCusB,EAHwC,OAI7BjhD,mBACP,iBAAf+gD,EACMC,EACA,CACEE,OAAQ,8BACR1e,MAAO,CAAC,CAAEh6B,KAAM,GAAIooB,IAAK,OATkB,mBAIhD4R,EAJgD,KAIzCuT,EAJyC,KAuBjDuG,EAAU,CACZ6E,aAXA,oCACK3e,EAAMA,MAAMrhC,KAAI,SAAC2mC,EAAMlY,GAAP,OACb,kBAACwxB,GAAD,CACItZ,KAAMA,EACNhE,aAAc,kBAAMA,EAAalU,IACjC8wB,QAAS,SAACj/C,GAAD,OAAW4/C,EAAgBzxB,EAAOnuB,WAcrD4/C,EAAkB,SAACzxB,EAAOnuB,GAC5B+gC,EAAMA,MAAM5S,GAASnuB,EACrBs0C,EAAS,2BAAKvT,GAAN,IAAaA,MAAOA,EAAMA,SAClC+P,EAAW,CAAE4O,aAAa,2BAAM3e,GAAP,IAAcA,MAAOA,EAAMA,WAElDsB,EAAe,SAAClU,GAElB,IAAMkV,EAAOtC,EAAMA,MAAMhO,QAAO,SAACsT,EAAMX,GAAP,OAAavX,IAAUuX,KACvD4O,EAAS,2BAAKvT,GAAN,IAAaA,MAAOsC,KAC5ByN,EAAW,CAAE4O,aAAa,2BAAM3e,GAAP,IAAcA,MAAOsC,OAElD,OACI,oCACI,kBAACt5B,GAAA,EAAD,CAAaH,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC1C,kBAAC+E,GAAA,EAAD,CAAYG,GAAG,mBAAf,eACA,kBAAC4+B,GAAA,EAAD,CACIC,QAAQ,kBACR7+B,GAAG,kBACHR,SAAU,SAACo0B,GAAD,aAAOyhB,EAAS,OAACzhB,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWp5B,QACtC+G,KAAK,WACL/G,MAAOs/C,EACPz1C,YAAY,gBACZ5G,MAAM,eACLzD,OAAOwsC,KAAK6O,GAASn7C,KAAI,SAACwuB,EAAMC,GAAP,OACtB,kBAAC0B,EAAA,EAAD,CACIlwB,IAAKwuB,EACLhkB,GAAIgkB,EACJnuB,MAAOkuB,EACP5kB,SAAU4kB,EACVgb,SAAUoW,IAAepxB,SAK7B,iBAAX+E,GAA6B,kBAAC5nB,GAAA,EAAD,CAC1BpG,QAAQ,WACR1B,MAAM,UACNmH,QA3CU,WAClBq2B,EAAMA,MAAMjR,KAAK,CAAE/oB,KAAM,GAAIooB,IAAK,KAClCmlB,EAAS,2BAAKvT,GAAN,IAAaA,MAAOA,EAAMA,SAClC+P,EAAW,CAAE4O,aAAa,2BAAM3e,GAAP,IAAcA,MAAOA,EAAMA,WAyC5Cz3B,SAAU,aAEbuxC,EAAQ5nB,K,UCjEN,eAAoD,IAAD,IAAhD4sB,iBAAgD,MAApC,GAAoC,MAAhCC,kBAAgC,MAAnB,GAAmB,EAAfv6C,EAAe,EAAfA,SAAe,EACpChH,oBAAS,GAD2B,mBACzDowC,EADyD,KACjDoR,EADiD,OAE9BxhD,mBAAS,GAFqB,mBAEzDgtC,EAFyD,KAE9CC,EAF8C,OAG5BjtC,mBAAS,MAHmB,mBAGzDyhD,EAHyD,KAG7CC,EAH6C,OAIxB1hD,mBAAS,IAJe,mBAIzDgqC,EAJyD,KAI3C2X,EAJ2C,OAKxB3hD,oBAAS,GALe,mBAKzD4hD,EALyD,KAK3CC,EAL2C,OAOhB7hD,mBAASshD,GAPO,mBAOzDQ,EAPyD,KAOvCC,EAPuC,OAQd/hD,mBAASuhD,GARK,mBAQzDS,EARyD,KAQtCC,EARsC,KAoBhE1hD,qBAAU,WACRqJ,MACC,CAACo4C,EAAmBF,IAEvB,IAAMl4C,EAAe,WACnB5C,EAAS,CACPs6C,UAAWQ,EAAiB3gD,KAC1B,SAACuzB,EAAQ9E,GAAT,OAAmB3uB,OAAO4I,OAAO6qB,GAAQ,MAE3C6sB,WAAYS,EAAkB7gD,KAC5B,SAACuzB,EAAQ9E,GAAT,OAAmB3uB,OAAO4I,OAAO6qB,GAAQ,SA2DzCztB,EAAc,WAClB46C,GAAgB,GAChBH,EAAc,MACdC,EAAgB,IAChB1U,EAAa,GACbuU,GAAU,IAENU,EAAa,SAAC7+C,EAAM5B,EAAOmuB,GAE/Bqd,EAAard,GACb4xB,GAAU,GACVE,EAAcr+C,GACds+C,EAAgBlgD,GAChBogD,GAAgB,IAEZvF,EAAU,CACdiF,WACE,kBAACY,GAAA,EAAD,CACEnY,aAAcA,EACduI,WAAY,SAAC6P,GAAD,OAAST,EAAgBS,MAGzCd,UACE,kBAACe,GAAD,CACErY,aAAcA,EACduI,WAAY,SAAC6P,GAAD,OAAST,EAAgBS,OAI3C,OACE,kBAACxtB,GAAA,EAAD,CAAOnuB,MAAO,CAAE6D,QAAS,KACvB,kBAACwC,GAAA,EAAD,CACE9H,MAAM,UACNmH,QAAS,WACP01C,GAAgB,GAChBH,EAAc,cAEhBh7C,QAAQ,YACRqE,SAAS,yBAEX,kBAAC,mBAAD,CAAiB+jC,UAvHM,SAAChuC,GAErBA,EAAOiuC,aAGZgT,EACEO,GAAQR,EAAkBhhD,EAAOkuC,OAAOpf,MAAO9uB,EAAOiuC,YAAYnf,UAkHhE,kBAAC,aAAD,CAAWqf,YAAY,cACpB,SAACnB,EAAUC,GAAX,OACC,kBAACwU,GAAA,EAAD,CAASC,QAAS1U,EAASqB,UACzB,kBAACzf,EAAA,EAAD,CAAMjpB,MAAOg8C,GAAa1U,EAASmB,iBACJ,IAA5B4S,EAAiB1tB,OAChB0tB,EAAiB3gD,KAAI,SAACwuB,EAAMC,GAC1B,IAAMpnB,EAAOvH,OAAOwsC,KAAK9d,GAAM,GAC/B,OACE,kBAAC,aAAD,CAAWvuB,IAAKoH,EAAMqlC,YAAarlC,EAAMonB,MAAOA,IAC7C,SAACke,EAAUC,GAAX,aACC,kBAACnZ,GAAA,EAAD,KACE,kBAACxI,EAAA,EAAD,eACEs2B,mBAAmB,KACnBC,eAAgB,CAAEx2B,IAAK2hB,EAASqB,WAC5BrB,EAASI,eACTJ,EAAS0B,gBAJf,CAKE/oC,MAAOm8C,GACL7U,EAASC,WACTF,EAASI,eAAeznC,SAE1B,kBAACgmB,EAAA,EAAD,CACEnpB,QAASkF,EACThF,UAAS,UAAEvC,OAAOwsC,KAAK9d,EAAKnnB,WAAnB,aAAE,EAAyBrH,KAClC,SAACC,EAAKwuB,GAAN,OACE,kBAACppB,EAAA,EAAD,eAAgB,CAACpF,GAAjB,aAA0BC,KAAKm7B,UAC7B7M,EAAKnnB,GAAMpH,WAKnB,kBAAC6kC,GAAA,EAAD,KACE,kBAACh6B,EAAA,EAAD,CACEE,QAAS,kBACP+1C,EACE,YADQ,eAEL15C,EAAOmnB,EAAKnnB,IACfonB,KAGJ,kBAAC,KAAD,OAEF,kBAAC3jB,EAAA,EAAD,CACEE,QAAS,WAAQ41C,EAAmB,OAACD,QAAD,IAACA,OAAD,EAACA,EAAkBttB,QAAO,SAAC7E,EAAMwX,GAAP,OAAavX,IAAUuX,QAErF,kBAAC,KAAD,gBAUhB,wCAED2G,EAASxiC,kBAMpB,kBAACwB,GAAA,EAAD,CACE9H,MAAM,UACNmH,QAAS,WACPu1C,EAAc,cACdG,GAAgB,IAElBn7C,QAAQ,YACRqE,SAAS,0BAEX,kBAAC,mBAAD,CAAiB+jC,UAvKO,SAAChuC,GAEtBA,EAAOiuC,aAGZkT,EAAqB,aACfK,GAAQN,EAAmBlhD,EAAOkuC,OAAOpf,MAAO9uB,EAAOiuC,YAAYnf,WAkKrE,kBAAC,aAAD,CAAWqf,YAAY,cACpB,SAACnB,EAAUC,GAAX,OACC,kBAACwU,GAAA,EAAD,CAASC,QAAS1U,EAASqB,UACzB,kBAACzf,EAAA,EAAD,CAAMjpB,MAAOg8C,GAAa1U,EAASmB,iBACH,IAA7B8S,EAAkB5tB,OACjB4tB,EAAkB7gD,KAAI,SAACwuB,EAAMC,GAC3B,IAAMpnB,EAAOvH,OAAOwsC,KAAK9d,GAAM,GAC/B,OACE,kBAAC,aAAD,CAAWvuB,IAAKoH,EAAMqlC,YAAarlC,EAAMonB,MAAOA,IAC7C,SAACke,EAAUC,GAAX,aACC,kBAACnZ,GAAA,EAAD,KACE,kBAACxI,EAAA,EAAD,eACEs2B,mBAAmB,KACnBC,eAAgB,CAAEx2B,IAAK2hB,EAASqB,WAC5BrB,EAASI,eACTJ,EAAS0B,gBAJf,CAKE/oC,MAAOm8C,GACL7U,EAASC,WACTF,EAASI,eAAeznC,SAE1B,kBAACgmB,EAAA,EAAD,CACEnpB,QAASkF,EACThF,UAAS,UAAEvC,OAAOwsC,KAAK9d,EAAKnnB,IAAS,WAA5B,aAAE,EAA+BrH,KACxC,SAACC,EAAKwuB,GAAN,OACE,kBAACppB,EAAA,EAAD,eAAgB,CAACpF,GAAjB,aAA0BC,KAAKm7B,UAC7B7M,EAAKnnB,GAAMpH,IAAQ,WAK3B,kBAAC6kC,GAAA,EAAD,KACE,kBAACh6B,EAAA,EAAD,CACEE,QAAS,kBACP+1C,EACE,aADQ,eAEL15C,EAAOmnB,EAAKnnB,IACfonB,KAGJ,kBAAC,KAAD,OAEF,kBAAC3jB,EAAA,EAAD,CACEE,QAAS,WAAQ81C,EAAoB,OAACD,QAAD,IAACA,OAAD,EAACA,EAAmBxtB,QAAO,SAAC7E,EAAMwX,GAAP,OAAavX,IAAUuX,QAEvF,kBAAC,KAAD,gBAUhB,wCAED2G,EAASxiC,kBAMnBs2C,GACC,kBAACiB,GAAD,CACE93C,SAAUuxC,EAAQmF,GAClBntB,MACiB,eAAfmtB,EACI,qBACA,oBAENx6C,YAAaA,EACbD,SAtOmB,WACzB,GAAIopC,EACF,OAAQqR,GACN,IAAK,YACHK,EAAiB9U,GAAahD,EAC9B+X,EAAoBD,GACpBl4C,IACA3C,IAEA,MACF,IAAK,aACH+6C,EAAkBhV,GAAahD,EAC/BiY,EAAqBD,GACrBp4C,IACA3C,SAQJ,OAAQw6C,GACN,IAAK,YACHK,EAAiBvwB,KAAKyY,GACtB+X,EAAoBD,GACpBl4C,IACA3C,IAEA,MACF,IAAK,aACH+6C,EAAkBzwB,KAAKyY,GACvB+X,EAAoBD,GACpBl4C,IACA3C,IAEA,MACF,QACE2C,IACA3C,UAuMJq7C,GAAU,SAACQ,EAAWC,EAAaC,GACvC,IAAMle,EAAOge,EAAUC,GAGvB,OAFAD,EAAUC,GAAeD,EAAUE,GACnCF,EAAUE,GAAele,EAClBge,GAGHF,GAAe,SAAC5U,EAAYC,GAAb,mBAAC,eAEjBA,GACCD,GAAc,CAChBtqC,WAAY,sBAIV++C,GAAe,iBAAO,I,qBC9Qb,eAAoF,IAAjFr3C,EAAgF,EAAhFA,SAAU3J,EAAsE,EAAtEA,MAAO4qB,EAA+D,EAA/DA,OAAQ5f,EAAuD,EAAvDA,MAAuD,IAAhDi4B,iBAAgD,MAApC,MAAoC,MAA7Bl8B,YAA6B,gBAAnB4G,KAAK21B,OAAc,IACtD/kC,mBAAS,SAD6C,gCAElEA,mBAASyB,EAAMy4B,MAAM,KAAKC,QAAUuK,IAF8B,mBAEzFkC,EAFyF,KAEhFC,EAFgF,OAGxD7mC,oBAAS,GAH+C,mBAGzFijD,EAHyF,KAG3EC,EAH2E,KAI1F/2B,EAAMg3B,sBAKNC,EAAa,yCAAG,+BAAA3iD,EAAA,kEAChB0rB,QADgB,IAChBA,OADgB,EAChBA,EAAKiT,SADW,wBAElB8jB,GAAgB,GAFE,SAGAG,KAAKC,KAAK7hD,GAHV,cAGd6pC,EAHc,gBAIJA,EAAMiY,QAAsB,QAAd7e,EAAsB,EAAI,IAAI8e,eAA6B,QAAd9e,EAAsB2e,KAAKI,SAAWJ,KAAKK,WAJlG,cAIlBpY,EAJkB,OAKlB4X,GAAgB,GAChBrc,GAAW,GANO,iBAOZ1a,QAPY,IAOZA,GAPY,UAOZA,EAAKiT,eAPO,aAOZ,EAAcuF,aAAa2G,EAAO5G,GAPtB,4CAAH,qDAYnB,OAFAnkC,qBAAU,cACP,CAAC4rB,IAEF,oCA8BE,kBAAC4b,GAAA,EAAD,CACE5b,IAAKA,EACLznB,MAAO,QACPjD,MAAOA,EACPijC,UAAWA,EACXn5B,WAAW,GACX08B,YAAY,oBACZ0b,aAAa,EACbt3B,OAAQA,EACR5f,MAAOA,EACPkuB,OAAM,gBAAW+J,GACjBt5B,SA1De,SAACmB,GACpBs6B,EAAWt6B,EAAE2tB,MAAM,KAAKC,QAAUuK,GAClCt5B,EAASmB,IAyDL47B,gBAAiB,YACjB3gC,MAAOo/B,OAAU35B,EAAY,IAAI7D,MAAM,wBACvCZ,KAAMA,KAENo+B,GAAW,yBAAKngC,MAAO,CAAEiG,UAAW,IACpC,kBAACI,GAAA,EAAD,CACE/B,SAAUk4C,EAAe,gBAAH,qBAAmCve,GACzD1/B,MAAM,UACN0B,QAAQ,YACRwG,SAAU+1C,EACV92C,QAASi3C,OCrHJ,eAAsC,IAAnCtZ,EAAkC,EAAlCA,UAAWroC,EAAuB,EAAvBA,MAAO2J,EAAgB,EAAhBA,SAAgB,EAChBpL,mBAAS8pC,EAAYroC,EAAM2yB,QADX,mBAC3CwvB,EAD2C,KAChCC,EADgC,KAE5Cjd,EAAUnlC,EAAM2yB,QAAU0V,EAC1Bga,EAAoB,SAACtkB,GACzB5/B,QAAQC,IAAI2/B,EAAE3E,OAAOp5B,OACrB,IAAIsqC,EAAQvM,EAAE3E,OAAOp5B,MACrB2J,EAASo0B,EAAE3E,OAAOp5B,OAClBoiD,EAAa/Z,EAAYiC,EAAM3X,SAEjC,OACE,6BACE,kBAACppB,GAAA,EAAD,CACExD,OAAQo/B,EACRr7B,YAAaq7B,GAAW,gBACxBv7B,WAAS,EACT5J,MAAOA,EACP2J,SAAU,SAACo0B,GAAD,OAAOskB,EAAkBtkB,MAErC,8BAAOsK,EAAY8Z,EAAY,MAAQ9Z,K,sDCV9B,eAAqB,IAAZrW,EAAW,EAAjBswB,KAAiB,EACD/jD,oBAAS,GADR,mBACxB0H,EADwB,KACfC,EADe,OAEP3H,mBAASyzB,GAFF,mBAExBswB,EAFwB,KAElBC,EAFkB,KAG/BzjD,qBAAU,WACNuN,QAAQ0B,IAAIikB,EAAKtyB,IAAL,yCAAS,WAAM8iD,GAAN,UAAAxjD,EAAA,0FAAiBwjD,GAAjB,iBAAgCC,EAAW,OAACD,QAAD,IAACA,OAAD,EAACA,EAAGn0B,MAA/C,gCAAoBA,KAApB,6FAAT,wDACP7gB,MAAK,SAACk1C,GAAD,OAAOH,EAAQG,MACpB7jB,OAAM,SAACtB,GAAD,OAASp/B,QAAQC,IAAIm/B,MAAMolB,SAAQ,kBAAMz8C,GAAW,QAChE,CAAC8rB,IACJ,IAAMywB,EAAW,yCAAG,WAAOvnB,GAAP,gBAAAl8B,EAAA,sEACKG,MAAM+7B,GADX,wJACF,EAAoB7M,OADlB,mHAAH,sDAGXu0B,EAAY,CACdC,QAAS,SACTC,KAAM,OACN/8C,MAAO,OAGX,OAAO,kBAACgF,EAAA,EAAD,CAAKG,QAAQ,OAAO0kB,cAAc,SAASmzB,GAAI,GAEjD98C,EAAU,yCAAH,OAAuBq8C,QAAvB,IAAuBA,OAAvB,EAAuBA,EAAM5iD,KAAI,SAAC8iD,EAAG9c,GAAJ,iBACrC,kBAACsd,GAAA,EAAD,CAAWrjD,IAAK+lC,GACZ,kBAACud,GAAA,EAAD,CACIC,WAAY,kBAAC,KAAD,MACZC,gBAAc,kBACdh5C,GAAG,kBACH,kBAACpF,EAAA,EAAD,KAAay9C,EAAEv/C,MAAM66C,eACrB,kBAAC/4C,EAAA,EAAD,CAAYxB,MAAM,gBAAgByB,MAAO,CAAE+lB,WAAY,KAClD,IAAIpd,KAAJ,OAAS60C,QAAT,IAASA,OAAT,EAASA,EAAG50C,WAAW6tC,kBAE5B,kBAAC12C,EAAA,EAAD,CAAYxB,MAAM,gBAAgByB,MAAO,CAAE+lB,WAAY,KAAvD,uBACkBy3B,QADlB,IACkBA,GADlB,UACkBA,EAAGY,wBADrB,aACkB,EAAqBC,WADvC,kBAC2Db,QAD3D,IAC2DA,GAD3D,UAC2DA,EAAGY,wBAD9D,aAC2D,EAAqBE,OAGpF,kBAACC,GAAA,EAAD,KACI,yBACIv+C,MAAO,CACHkG,QAAS,OACT+xB,gBAAiB,QAAS9I,cAAe,IAAKtrB,QAAS,GAAI+mB,cAAe,SAAU5kB,MAAO,SAElF,YAAZw3C,EAAEv/C,MACC,8CACKrD,KAAKC,MAAL,OAAW2iD,QAAX,IAAWA,OAAX,EAAWA,EAAGn0B,aADnB,aACK,EAAqB3uB,KAAI,kBAAG8jD,EAAH,EAAGA,KAAMxxB,EAAT,EAASA,KAAMyxB,EAAf,EAAeA,MAAf,IAAsBC,iBAAtB,OAAkC,IAAI/1C,MAAO8tC,iBAA7C,SACtB,kBAAC1wC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,SACnB,0BACIlG,MAAO,CACH,cAAe,WACf3C,SAAU,GACVC,WAAY,YACZG,WAAY,IAAKc,MAAO,OACxBwF,aAAc,GACdmiC,UAAW,QACXpX,SAAU,GACV,eAAgB,qBATxB,UAWQ0vB,IAER,0BACIx+C,MAAO,CACH,cAAe,WACf8D,YAAa,GACbzG,SAAU,GACVC,WAAY,YACZG,WAAY,IAAKc,MAAOq/C,EAAUa,KAErCC,EARL,YAQkB1xB,QARlB,IAQkBA,GARlB,UAQkBA,EAAMwI,kBARxB,aAQkB,EAAkBvzB,QAAQ,KAAM,YAI5D,0BAAMjC,MAAO,CACX,cAAe,WACf8D,YAAa,GACbzG,SAAU,GACVC,WAAY,YACZG,WAAY,IAAKc,MAAO,SAEvBi/C,EAAEn0B,cCxBnC,SAASuI,GAASt4B,GAAQ,IAChBgL,EAAqChL,EAArCgL,SAAUtJ,EAA2B1B,EAA3B0B,MAAOmuB,EAAoB7vB,EAApB6vB,MAAU0I,EADZ,aACsBv4B,EADtB,8BAEvB,OACE,uCACEgyB,KAAK,WACLwG,OAAQ92B,IAAUmuB,EAClBhkB,GAAE,0BAAqBgkB,GACvBxhB,kBAAA,qBAA+BwhB,IAC3B0I,GAEH72B,IAAUmuB,GACT,kBAACpjB,EAAA,EAAD,CAAKmf,EAAG,GACN,kBAACnlB,EAAA,EAAD,KAAauE,KAOvB,SAASouB,GAAUvJ,GACjB,MAAO,CACLhkB,GAAG,cAAD,OAAgBgkB,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,IAAMlD,GAAYC,aAAW,SAACvnB,GAAD,MAAY,CACvCZ,KAAM,CACJ+pB,SAAU,GAEZjC,OAAQ,CACNnf,YAAa,IAEf4iB,UAAW,CACTzlB,QAASlF,EAAMyoB,QAAQ,GACvB7hB,SAAU,YAEZo5C,YAAa,CACXp5C,SAAU,WACVs9B,IAAK,GACL8C,MAAO,IAET1kC,QAAS,CACP2kB,OAAQ,IACR1f,QAAS,OACT0kB,cAAe,SACfxkB,eAAgB,SAChBD,WAAY,UAEdy4C,YAAa,CACX34C,UAAW,QAIA,cAAO,IAAD,0BACX2xB,EAAQpM,eAARoM,IACAp/B,EAAcQ,eAAdR,UAFW,EAGGe,mBAAS,IAHZ,mBAGZslD,EAHY,KAGPC,EAHO,OAIOvlD,oBAAS,GAJhB,mBAIZwH,EAJY,KAILC,EAJK,OAKKzH,oBAAS,GALd,mBAKZqO,EALY,KAKNm3C,EALM,OAMSxlD,mBAAS,MANlB,mBAMZylD,EANY,KAMJC,EANI,OAOa1lD,mBAAS,MAPtB,mBAOZ2lD,EAPY,KAOFC,EAPE,OAQe5lD,oBAAS,GARxB,mBAQZ6lD,EARY,KAQDC,EARC,OASyB9lD,mBAAS,GATlC,mBASZ+lD,EATY,KASIC,GATJ,QAUahmD,mBAAS,IAVtB,qBAUZskC,GAVY,MAUFC,GAVE,SAWmCvkC,mBAAS,GAX5C,qBAWZimD,GAXY,MAWSC,GAXT,MAaXt6C,GAAOirC,cAAPjrC,GACFgjB,GAAUlC,KACVplB,GAAUC,cAGhBhH,qBAAU,WACR4lD,OACC,IAGH5lD,qBAAU,cAAW,CAAC0lD,KAGtB1lD,qBAAU,WACRmlD,EAAUU,KAAGC,QAAQpnD,GAAa4B,+BAA0C,CAC1EylD,iBAAiB,MAElB,IAgBH/lD,qBAAU,WAdV,IAA6BgmD,EAgB3B,OAhB2BA,EAeP36C,GAdf65C,GACLA,EAAOrrB,GACL,gBACA,gBAAGxuB,EAAH,EAAGA,GAAI0vB,EAAP,EAAOA,MAAOgJ,EAAd,EAAcA,SAAUkiB,EAAxB,EAAwBA,OAAxB,OACED,IAAU36C,GAAM24B,GAAY,CAAE34B,KAAI0vB,QAAOgJ,WAAUkiB,cAWhD,WANFf,GACLA,EAAOgB,IAAI76C,OAQV,CAACA,GAAI65C,IAER,IAAMU,GAAQ,yCAAG,uBAAA1lD,EAAA,sEAEbgH,GAAS,GACTq+C,GAAa,GAHA,KAIbP,EAJa,SAIAlnB,EAAIX,IAAI9xB,GAAI,wCAJZ,kCAKbk6C,GAAa,GALA,kDAObr+C,EAAS,EAAD,IACRq+C,GAAa,GARA,0DAAH,qDAaRY,GAAe,yCAAG,mCAAAjmD,EAAA,sEAEZgzB,EAAmC6xB,EAAnC7xB,KAAM6oB,EAA6BgJ,EAA7BhJ,QAAS1wC,EAAoB05C,EAApB15C,GAAI6rC,EAAgB6N,EAAhB7N,YAC3BqO,GAAa,GAHO,SAIdznB,EAAI3E,OAAO9tB,EAAI,CAAE6nB,OAAM6oB,UAAS7E,eAAe,CAAEkP,WAAW,IAJ9C,OAKpBb,GAAa,GACbF,EAAY,cANQ,gDAQpBE,GAAa,GACbr+C,EAAS,EAAD,IATY,yDAAH,qDAafm/C,GAAe,yCAAG,6BAAAnmD,EAAA,sEAEZmL,EAAO05C,EAAP15C,GACRk6C,GAAa,GAHO,SAIdznB,EAAIid,OAAO1vC,GAJG,OAKpBk6C,GAAa,GACbF,EAAY,cANQ,gDAQpBE,GAAa,GACbr+C,EAAS,EAAD,IATY,yDAAH,qDA/EF,GAoIf69C,EAZFuB,eAxHiB,OAwHR,GAxHQ,GAyHjBvrB,GAWEgqB,EAXFhqB,MACAghB,GAUEgJ,EAVFhJ,QACA7oB,GASE6xB,EATF7xB,KACAqzB,GAQExB,EARFwB,WACAC,GAOEzB,EAPFyB,UACAC,GAME1B,EANF0B,YACAC,GAKE3B,EALF2B,aA/HiB,GAoIf3B,EAJF7N,oBAhIiB,OAgIH,GAhIG,GAiIjByP,GAGE5B,EAHF4B,YACAC,GAEE7B,EAFF6B,cAlIiB,GAoIf7B,EADF8B,iBAnIiB,OAmIN,GAnIM,GAqIbC,GAAY,OAAGR,SAAH,IAAGA,QAAH,EAAGA,GAAQ33C,MAC3B,SAACzO,EAAG0O,GAAJ,OAAU,IAAIC,KAAJ,OAASD,QAAT,IAASA,OAAT,EAASA,EAAG63C,aAAe,IAAI53C,KAAJ,OAAS3O,QAAT,IAASA,OAAT,EAASA,EAAGumD,gBAEnDzmD,qBAAU,WAAO,IAAD,EAEuB,cAA3B,OAAR+jC,SAAQ,IAARA,IAAA,UAAAA,GAAUhJ,aAAV,eAAiB0gB,gBACQ,cAApB,OAAL1gB,SAAK,IAALA,QAAA,EAAAA,GAAO0gB,gBAEPmK,OAED,QAAC7hB,SAAD,IAACA,QAAD,EAACA,GAAUhJ,MAAOA,KAErB,IAAMhN,GAAU,CACd,SAAU1iB,GACV07C,MAvDmB,SAACH,EAAe7rB,EAAOisB,GAC1C,OACE,kBAAChZ,GAAA,EAAD,CACEwC,oBAAqB+K,KACrBxnB,MACY,UAAVgH,EACI6rB,GAEE,mBACF,uBAGN,kBAAC72B,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAK,UAAK42B,GAAL,OAAaisB,EAAU,IAAMA,EAAU,IAAM,IAClD9gD,MAAO,CACLwmB,WAAY,6BACZ/oB,WAAY,IACZR,WAAYu4C,GAAkB3gB,EAAOisB,GACrCviD,MAAO,QACP+H,cAAe,iBAmChBy6C,CACLL,GADiB,iBAEjB7iB,SAFiB,IAEjBA,QAFiB,EAEjBA,GAAUhJ,aAFO,QAEEA,GAFF,OAGjBgJ,SAHiB,IAGjBA,QAHiB,EAGjBA,GAAUA,UAEZ,cAAe+U,GAAWyN,IAC1B,aAAczN,GAAW0N,IACzB,aAAc,IAAI33C,KAAK43C,IAAa9J,iBACpC,aAAc,CAAC,UAAW,SAASxuC,SAAS4sB,IACxC,MACA,IAAIlsB,KAAK83C,IAAahK,iBAC1B,cACY,aAAV5hB,GAAuB,IAAIlsB,KAAK63C,IAAc/J,iBAAmB,OAG/DuK,GAAiB,yCAAG,WAAO73B,EAAOxuB,EAAKK,GAAnB,gBAAAhB,EAAA,sDAClB8O,EAAUtO,OAAOwsC,KAAKha,IAC5B6xB,EAAI7xB,KAAKlkB,EAAQqgB,IAAUnuB,EAC3B8jD,EAAO,2BAAKD,GAAN,IAAW7xB,KAAM6xB,EAAI7xB,QAHH,2CAAH,0DAKjBi0B,GAAa,yCAAG,mCAAAjnD,EAAA,2EAGhB67C,QAHgB,IAGhBA,GAHgB,UAGhBA,EAASiF,kBAHO,aAGhB,EAAqBptB,MACnB,gBAAG+sB,EAAH,EAAGA,OAAH,MACa,+BAAXA,GACW,wBAAXA,MANY,yCASTyG,MAAM,qDATG,cAWVl0B,EAAsB6xB,EAAtB7xB,KAAM6oB,EAAgBgJ,EAAhBhJ,QAAS1wC,EAAO05C,EAAP15C,GACvBk6C,GAAa,GAZK,SAaZznB,EAAI3E,OAAO9tB,EAAI,CACnB6nB,OACA6oB,UACAhhB,MAAO,UACPmc,YAAa,CAAEC,iBAAkB,QACjCkQ,MAAO,CACLC,eAAe,KAnBD,OAsBlB/B,GAAa,GACbF,EAAY,cAvBM,kDAyBlBE,GAAa,GACbr+C,EAAS,EAAD,IA1BU,0DAAH,qDA6BbqgD,GAAiB,yCAAG,WAAOl4B,GAAP,gBAAAnvB,EAAA,sDAClB8O,EAAUtO,OAAOwsC,KAAKha,WACrB6xB,EAAI7xB,KAAKlkB,EAAQqgB,IACxB21B,EAAO,2BAAKD,GAAN,IAAW7xB,KAAM6xB,EAAI7xB,QAHH,2CAAH,sDAMvB,OAAIkyB,EACK,kBAAC,IAAD,CAAUr/C,GAAG,eAGlBu/C,EAEA,kBAACjxB,GAAA,EAAD,CAAOzF,UAAWP,GAAQlnB,SACxB,kBAAC0F,GAAA,EAAD,MACA,kBAAC5G,EAAA,EAAD,CAAY2oB,UAAWP,GAAQy2B,aAA/B,eAMJ,oCACG79C,GACC,kBAACywB,GAAD,CACEnxB,QAAO,iBAAEU,QAAF,IAAEA,OAAF,EAAEA,EAAOV,eAAT,QAAoB,yBAC3B2wB,WAAW,EACXD,QAAS,kBACPv2B,OAAOwsC,KAAK6X,GAAKlxB,OAASsyB,KAAoBP,QAIpD,yBAAKh3B,UAAWP,GAAQpqB,MAEtB,kBAACgI,EAAA,EAAD,CAAKG,QAAQ,QACX,kBAACH,EAAA,EAAD,CAAKmf,EAAG,EAAGo8B,aAAa,UAAUn7C,WAAW,QAAQwiB,KAAM,GACzD,kBAACtiB,GAAA,EAAD,CACEqiB,UAAWP,GAAQtC,OACnBpf,SAAU24C,EACV7gD,MAAM,UACN0B,QAAQ,YACRyF,QAASu6C,GACT37C,SAAS,aACT+pB,UAAW,kBAAC,KAAD,QAEb,kBAAChoB,GAAA,EAAD,CACEI,SAAU24C,EACV7gD,MAAM,QACN0B,QAAQ,YACRyoB,UAAWP,GAAQtC,OACnBngB,QAAO,wBAAE,uBAAA1L,EAAA,+EAEC49B,EAAI3E,OAAO9tB,GAAI,CACnB0vB,MAAO,UACP7H,QACA6oB,WACA7E,eACAmQ,MAAO,CACLC,eAAe,KARd,OAWLvgD,GAAQiqB,KAAK,cAXR,+CAaL9pB,EAAS,EAAD,IAbH,wDAgBTsD,SAAS,cACT+pB,UAAW,kBAAC,KAAD,QAEb,kBAAChoB,GAAA,EAAD,CACEI,SAAU24C,EACV7gD,MAAM,UACN0B,QAAQ,YACRyoB,UAAWP,GAAQtC,OACnBngB,QAAO,wBAAE,uBAAA1L,EAAA,+EAEC49B,EAAI3E,OACR9tB,GACA,CACE0vB,MAAO,UACP7H,QACA6oB,WACA7E,gBAEF,CAAEuQ,SAAU,IAVT,OAYL1gD,GAAQiqB,KAAK,cAZR,+CAcL9pB,EAAS,EAAD,IAdH,wDAiBTsD,SAAS,8BACT+pB,UAAW,kBAAC,KAAD,SAGf,kBAACtoB,EAAA,EAAD,KACE,kBAACg+B,GAAA,EAAD,CACE9/B,OAAO,QACPhE,QAAQ,WACRyoB,UAAWP,GAAQtC,OACnB7qB,MAAOwkD,GACPgC,WAAS,EACT78C,SAAU,SAACo0B,GACT0mB,GAAuB1mB,EAAE3E,OAAOp5B,SAPpC,OAUG4lD,SAVH,IAUGA,QAVH,EAUGA,GAAclmD,KAAI,SAAC+mD,EAAG/gB,GAAJ,OACjB,kBAAC7V,EAAA,EAAD,CAAUlwB,IAAK+lC,EAAG1lC,MAAO0lC,GACtB+gB,EAAExjD,MACH,kBAAC8B,EAAA,EAAD,CACEC,MAAO,CAAE+lB,WAAY,IACrBniB,UAAU,OACV3D,QAAQ,QACR1B,MAAM,iBAEL,IAAIoK,KAAK84C,EAAElB,aAAa9J,uBAKjC,kBAACjxC,EAAA,EAAD,CACEE,QAASy6C,GACT16C,aAAW,SACXijB,UAAWP,GAAQlkB,QAEnB,kBAAC,KAAD,CAAY5G,SAAS,aAEvB,kBAACmI,EAAA,EAAD,CACEE,QAASu7C,GACTx7C,aAAW,SACXijB,UAAWP,GAAQlkB,QAEnB,kBAAC,KAAD,CAAQ5G,SAAS,aAEnB,kBAACmI,EAAA,EAAD,CACEC,aAAW,WACXijB,UAAWP,GAAQlkB,OACnByB,QAAS,wBACPzG,OAAO2I,MACO,OAAZg5C,SAAY,IAAZA,QAAA,EAAAA,GAAcjzB,UAAd,UAAwBizB,GAAapB,WAArC,aAAwB,EAAmCr1B,QAI/D,kBAAC,KAAD,CAAc9sB,SAAS,eAM7B,kBAAC8wB,GAAA,EAAD,KACa,aAAV0G,GACC,2BACE6W,OAAM,OAAEmT,QAAF,IAAEA,GAAF,UAAEA,EAAK9I,qBAAP,aAAE,EAAoB/Z,UAC5Bh8B,MAAO,CAAE4lB,OAAQ,IAAK5f,MAAO,QAC7BylC,UAAQ,EACRthB,IAAKy2B,GAAajzB,QAAUizB,GAAapB,IAAqBr1B,MAGhE,oCACE,kBAACpkB,EAAA,EAAD,CAAKK,eAAe,SAAS8/B,UAAU,SAAStgB,OAAQ,KACtD,kBAAC7lB,EAAA,EAAD,CAAYC,MAAO,CAAE6D,QAAS,MAC3B,IADH,mBAKF,kBAACmlB,EAAA,EAAD,OAGJ,kBAACU,EAAA,EAAD,CAAQnkB,SAAS,SAAShH,MAAM,cAAci5B,UAAW,GACvD,kBAACnF,GAAA,EAAD,CACEr3B,MAAOskD,EACPhtB,eAAe,UACfC,UAAU,UACVmvB,UAAQ,EACR/8C,SAAU,SAACg9C,EAAGjhB,GAAJ,OAAU6e,GAAkB7e,IACtCj7B,aAAW,uBAEX,kBAACgtB,GAAA,EAAD,eAAKx0B,MAAM,UAAay0B,GAAU,KAClC,kBAACD,GAAA,EAAD,eAAKx0B,MAAM,QAAWy0B,GAAU,KAChC,kBAACD,GAAA,EAAD,eAAKx0B,MAAM,WAAcy0B,GAAU,KACnC,kBAACD,GAAA,EAAD,eAAKx0B,MAAM,gBAAmBy0B,GAAU,KACxC,kBAACD,GAAA,EAAD,eAAKx0B,MAAM,QAAWy0B,GAAU,OAKpC,kBAAC,GAAD,CAAU13B,MAAOskD,EAAgBn2B,MAAO,GACtC,kBAACy4B,GAAA,EAAD,CAAMC,GAAI,GAAI34B,MAAI,GAChB,kBAACnjB,EAAA,EAAD,CAAKmf,EAAG,GACN,kBAAC7e,GAAA,EAAD,CACEpG,QAAQ,YACR1B,MAAM,UACNmH,QAAS,kBAAMq5C,GAAQ,IACvB1wB,UAAW,kBAAC,KAAD,MACXruB,MAAO,CAAEmE,aAAc,KALzB,cASA,kBAACuD,GAAA,EAAD,CAAQF,QAAS,kBAAMu3C,GAAQ,IAAQn3C,KAAMA,GAC3C,yBAAK5H,MAAO,CAAEiE,OAAQ,KACpB,kBAAC2/B,GAAA,EAAD,mBACA,kBAACtC,GAAA,EAAD,CACEv/B,KAAM,gBACN/G,MAAO,GACPwmC,YAAY,oBACZ4D,QAAS,SAACrM,GAAD,OAAO5/B,QAAQC,IAAI2/B,EAAE14B,UAC9BsE,SAAU,SAACwlB,GACT00B,EAAIuB,OAAJ,uBACKvB,EAAIuB,QADT,CAEE,CACEniD,MAAO,iBACP2K,WAAW,IAAID,MAAOm5C,cACtBvB,aAAa,IAAI53C,MAAOm5C,cACxB33B,SAGJ20B,EAAOD,IAET3qB,OAAQ,UACRwN,gBAAiB,UACjBzjC,MAAM,aACN8rC,UAAW,kBAAM5wC,QAAQC,IAAI,YAC7B2H,OAAO,EACP+D,WAAY,8CAIlB,kBAAC/E,EAAA,EAAD,CAAYE,QAAQ,MAApB,WACA,6BAECzF,OAAOwsC,KAAKnf,IAASntB,KAAI,SAACswC,GAAD,OACxB,kBAAC4W,GAAA,EAAD,CAAMjnD,IAAKqwC,EAAG1hB,WAAS,EAACP,UAAW,MAAO3B,QAAS,GACjD,kBAACw6B,GAAA,EAAD,CAAMC,GAAI,EAAG34B,MAAI,GACf,kBAACnpB,EAAA,EAAD,SAAcirC,IAEhB,kBAAC4W,GAAA,EAAD,CAAMC,GAAI,EAAG34B,MAAI,GACf,kBAACnpB,EAAA,EAAD,SAAc8nB,GAAQmjB,SAK5B,kBAACgT,GAAA,EAAD,CAAWh+C,MAAO,CAAEiG,UAAW,KAC7B,kBAACg4C,GAAA,EAAD,CACEC,WAAY,kBAAC,KAAD,MACZC,gBAAc,kBACdh5C,GAAG,kBAEH,kBAACpF,EAAA,EAAD,yBAEF,kBAACw+C,GAAA,EAAD,KACE,kBAACwD,GAAA,EAAD,CAAUzM,MAAM,aACbqL,GAAShzB,OACRgzB,GAASjmD,KAAI,WAA8ByuB,GAA9B,IAAG0L,EAAH,EAAGA,MAAOmtB,EAAV,EAAUA,SAAUC,EAApB,EAAoBA,OAApB,OACX,kBAACC,GAAA,EAAD,KACa,IAAV/4B,IAAuB,OAARw3B,SAAQ,IAARA,QAAA,EAAAA,GAAUhzB,QAAS,IAAMxE,GACvC,kBAACg5B,GAAA,EAAD,KACE,kBAACpiD,EAAA,EAAD,CAAYxB,MAAM,mBACb0jD,EAASD,GAAY,KAAM58B,QAAQ,GADxC,UAKJ,kBAACg9B,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEriD,MAAO,CACLi4B,gBACY,IAAV9O,EACI,UACAA,KAAkB,OAARw3B,SAAQ,IAARA,QAAA,EAAAA,GAAUhzB,QAAS,EAC3B,UACA,cAGH,OAARgzB,SAAQ,IAARA,QAAA,EAAAA,GAAUhzB,QAAS,IAAMxE,GACxB,kBAACm5B,GAAA,EAAD,OAGJ,kBAACC,GAAA,EAAD,KACE,8BAAO1tB,QAKb,kBAAC90B,EAAA,EAAD,4BAUd,kBAAC,GAAD,CAAU/E,MAAOskD,EAAgBn2B,MAAO,GACtC,kBAAC,KAAD,CACEnpB,MAAO,CAAEwiD,UAAW,QACpBlzB,QAAS,CACPqK,SAAU,GACVG,YAAa,CAAEr8B,WAAY,KAC3Bu8B,oBAAqB,GAEvByoB,SAAU,CACRC,YAAY,WAAD,8BAAE,WAAOC,EAASC,GAAhB,UAAA5oD,EAAA,sEACEgnD,GACX4B,EAAQ1N,UAAU/vC,GAClBw9C,EAAQhoD,IACRgoD,EAAQ3nD,OAJC,mFAAF,qDAAC,GAOZ6nD,YAAY,WAAD,8BAAE,WAAOD,GAAP,UAAA5oD,EAAA,sEACEqnD,GAAkBuB,EAAQ1N,UAAU/vC,IADtC,mFAAF,mDAAC,IAId6zB,QAAS,CACP,CACEnL,MAAO,QACPqL,OAAQ,YAAc,IAAD,IAAVv+B,EAAU,EAAVA,IACHm2C,EAAO,OAAG+N,QAAH,IAAGA,GAAH,UAAGA,EAAK9I,qBAAR,aAAG,EAAoBxb,SAAS7M,MAC3C,SAAC5nB,GAAD,OAAQ,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAGX,OAAH,OAAU05C,QAAV,IAAUA,OAAV,EAAUA,EAAK9N,cAElB9X,EAAK,OAAG6X,QAAH,IAAGA,GAAH,UAAGA,EAASpW,cAAZ,aAAG,EAAiBhN,MAAK,SAAC2jB,GAAD,OAAQ,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAG12C,OAAQA,KACtD,OAAO,qCAAOs+B,QAAP,IAAOA,OAAP,EAAOA,EAAOh7B,QAEvBwkD,SAAU,SAEZ,CACE50B,MAAO,OACPqL,OAAQ,YAAgB,IAAbl+B,EAAY,EAAZA,MACT,OACE,8BACGA,EAAM+4B,WAAW,YAChB/4B,EAAM+4B,WAAW,YACf,QACA,WAIV0uB,SAAU,SAEZ,CACE50B,MAAO,sBACPqL,OAAQ,YAAqB,IAAD,UAAjBl+B,EAAiB,EAAjBA,MAAOL,EAAU,EAAVA,IACVm2C,EAAU+N,EAAI9I,cAAcxb,SAAS7M,MACzC,SAAC5nB,GAAD,OAAOA,EAAEX,KAAO05C,EAAI9N,aAEhBjrC,EAAI9K,EAAM+4B,WAAW,QAAjB,oBACN+c,EAAQpW,OAAOhN,MAAK,SAAC2jB,GAAD,OAAOA,EAAE12C,MAAQA,YAD/B,iBACN,EAA2CggC,oBADrC,aACN,EACEsD,iBAFI,QAES,MAFT,UAGN6S,EAAQpW,OAAOhN,MAAK,SAAC2jB,GAAD,OAAOA,EAAE12C,MAAQA,YAH/B,iBAGN,EAA2CigC,mBAHrC,aAGN,EACEyI,UACN,OAAO,8BAAOv9B,IAEhB28C,SAAU,SAEZ,CACE50B,MAAO,QACPoL,MAAO,QACPC,OAAQ,YAAqB,IAAD,UAAjBl+B,EAAiB,EAAjBA,MAAOL,EAAU,EAAVA,IACVm2C,EAAU+N,EAAI9I,cAAcxb,SAAS7M,MACzC,SAAC5nB,GAAD,OAAOA,EAAEX,KAAO05C,EAAI9N,aAEhB5Q,EAAUnlC,EAAM+4B,WAAW,QAC7B/4B,EAAMy4B,MAAM,KAAKC,SAAjB,oBACDod,EAAQpW,OAAOhN,MAAK,SAAC2jB,GAAD,OAAOA,EAAE12C,MAAQA,YADpC,iBACD,EAA2CggC,oBAD1C,aACD,EACGsD,iBAFF,QAEe,OACfjjC,EAAM2yB,SAAN,UACFmjB,EAAQpW,OAAOhN,MAAK,SAAC2jB,GAAD,OAAOA,EAAE12C,MAAQA,YADnC,iBACF,EAA2CigC,mBADzC,aACF,EACIyI,WACN,OACE,kBAACtjC,EAAA,EAAD,CAAYxB,MAAO4hC,EAAU,cAAgB,aAC1CnlC,IAIP8nD,cAAe,YAIR,IAAD,IAHJvpB,QAAW5+B,EAGP,EAHOA,IACXgK,GAEI,EAHYi2B,YAGZ,EAFJj2B,UACA3J,EACI,EADJA,MACI,EACY6jD,EAAI9I,cAAcxb,SAAS7M,MACzC,SAAC5nB,GAAD,OAAOA,EAAEX,KAAO05C,EAAI9N,aAKVrW,OAAOhN,MAAK,SAAC2jB,GAAD,OAAOA,EAAE12C,MAAQA,KAPrC,IAKFigC,YALE,IAKahV,cALb,MAKsB,IALtB,MAK2B5f,aAL3B,MAKmC,IALnC,EAKwCq9B,EALxC,EAKwCA,UALxC,IAMF1I,aAAgBsD,iBANd,MAM0B,MAN1B,EAQJ,OACO,OAALjjC,QAAK,IAALA,OAAA,EAAAA,EAAO+4B,WAAW,cAAlB,OACA/4B,QADA,IACAA,OADA,EACAA,EAAO+4B,WAAW,aAGhB,kBAACgvB,GAAD,CACEhhD,KAAMpH,EACNK,MAAOA,EACPijC,UAAWA,EACXt5B,SAAUA,EACVihB,OAAQA,EACR5f,MAAOA,IAKT,kBAACg9C,GAAD,CACE3f,UAAWA,EACXroC,MAAOA,EACP2J,SAAUA,OAOtBqoB,KAAMxyB,OAAOwsC,KAAKha,IAAQ,IAAItyB,KAAI,SAACC,GAAD,MAAU,CAC1CA,MACAK,MAAOgyB,GAAKryB,OAEdkzB,MAAM,UAKV,kBAAC,GAAD,CAAU7yB,MAAOskD,EAAgBn2B,MAAO,GACtC,kBAAC85B,GAAD,CACE1iD,SAAU,SAACs1C,GAAD,OAAaiJ,EAAO,2BAAKD,GAAN,IAAWhJ,cAExCgF,UAAS,iBACPhF,SADO,IACPA,IADO,UACPA,GAASgF,iBADF,aACP,EAAoBngD,KAAI,SAACuzB,GAAD,MAAa,CACnCysB,aAAczsB,aAFT,QAGA,GAGT6sB,WAAU,iBACRjF,SADQ,IACRA,IADQ,UACRA,GAASiF,kBADD,aACR,EAAqBpgD,KAAI,SAACuzB,GACxB,OAAQA,EAAOwsB,QACb,IAAK,0BACH,MAAO,CAAEyI,SAAUj1B,GACrB,IAAK,0BACH,MAAO,CAAEk1B,aAAcl1B,GACzB,IAAK,8BACH,MAAO,CAAEm1B,aAAcn1B,GACzB,IAAK,uBACH,MAAO,CAAEhyB,OAAQgyB,GACnB,IAAK,0BACH,MAAO,CAAEo1B,SAAUp1B,GACrB,IAAK,6BACH,MAAO,CAAEq1B,YAAar1B,GACxB,IAAK,kCACH,MAAO,CAAEs1B,aAAct1B,GACzB,QACE,MAAO,cAlBL,QAoBF,MAMZ,kBAAC,GAAD,CAAUjzB,MAAOskD,EAAgBn2B,MAAO,GACtC,kBAACpjB,EAAA,EAAD,CAAKG,QAAQ,OAAO0kB,cAAc,SAASmzB,GAAI,GAC7C,kBAACh5C,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYC,QAAQ,oBAApB,qBAGA,kBAAC8+B,GAAA,EAAD,CACE/oC,OAAO,UAAA6jD,EAAI7N,mBAAJ,eAAiBC,mBAAoB,GAC5CtsC,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OACR8jD,EAAO,2BACFD,GADC,IAEJ7N,YAAY,2BAAD,OACN6N,QADM,IACNA,OADM,EACNA,EAAK7N,aADC,IAETC,iBAAkBj2C,QAIxBwqC,WAAY,CACVzjC,KAAM,mBACNoD,GAAI,qBAGN,kBAAC0lB,EAAA,EAAD,CAAUplB,aAAW,OAAOzK,MAAM,KAClC,kBAAC6vB,EAAA,EAAD,CAAU7vB,MAAO,QAAjB,QACA,kBAAC6vB,EAAA,EAAD,CAAU7vB,MAAO,QAAjB,UAGJ,kBAAC+J,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAYC,QAAQ,gBAApB,iBACA,kBAAC8+B,GAAA,EAAD,CACE/oC,OAAO,UAAA6jD,EAAI7N,mBAAJ,eAAiBwS,eAAgB,GACxC7+C,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OACR8jD,EAAO,2BACFD,GADC,IAEJ7N,YAAY,2BAAD,OAAO6N,QAAP,IAAOA,OAAP,EAAOA,EAAK7N,aAAZ,IAAyBwS,aAAcxoD,QAGtDwqC,WAAY,CACVzjC,KAAM,eACNoD,GAAI,iBAGN,kBAAC0lB,EAAA,EAAD,CAAUplB,aAAW,OAAOzK,MAAM,KAClC,kBAAC6vB,EAAA,EAAD,CAAU7vB,MAAO,QAAjB,UAGJ,kBAACuJ,GAAA,EAAD,CACEvJ,OAAO,UAAA6jD,EAAI7N,mBAAJ,eAAiBE,iBAAkB,GAC1C/rC,GAAG,iBACHlH,MAAM,kBACNrB,KAAK,WAEP,kBAAC2H,GAAA,EAAD,CACEvJ,OAAO,UAAA6jD,EAAI7N,mBAAJ,eAAiByS,aAAc,GAEtCt+C,GAAG,aACHlH,MAAM,cACNrB,KAAK,WAEP,kBAAC2H,GAAA,EAAD,CACEvJ,OAAO,UAAA6jD,EAAI7N,mBAAJ,eAAiB0S,WAAY,GAEpCv+C,GAAG,WACHlH,MAAM,YACNrB,KAAK,aAIX,kBAAC,GAAD,CAAU5B,MAAOskD,EAAgBn2B,MAAO,GACtC,kBAACw6B,GAAD,CAASrG,KAAI,iBAAEuB,QAAF,IAAEA,OAAF,EAAEA,EAAKvB,YAAP,QAAe,UAQlC9H,GAAoB,WAA0B,IAAzB3gB,EAAwB,uDAAhB,GAAIisB,EAAY,uCACjD,cAAQjsB,QAAR,IAAQA,OAAR,EAAQA,EAAO0gB,eACb,IAAK,WACH,MAAO,UACT,IAAK,QACH,MAAO,UACT,IAAK,UACH,MAAO,UACT,IAAK,YACH,MAAM,kCAAN,OAAyCuL,EAAzC,mBAA2DA,EAA3D,MACF,QACE,MAAO,S,sKC10BPx7B,GAAO,kBAAC,KAAD,CAA0BjoB,SAAS,UAC1CumD,GAAc,kBAAC,KAAD,CAAcvmD,SAAS,UAG5BuE,OAAMukC,MACnB,YAA+B,IAAD,YAA3BnrC,aAA2B,MAAnB,GAAmB,EAAf2J,EAAe,EAAfA,SAAe,EACEpL,oBAAS,GADX,mBACrB0H,EADqB,KACZC,EADY,KAErB22B,EAAerM,eAAfqM,cAFqB,EAGgBt+B,mBAAS,IAHzB,mBAGrBsqD,EAHqB,KAGLC,EAHK,OAIEvqD,mBAASyB,GAJX,mBAIrB+oD,EAJqB,KAIZC,EAJY,KAkB5B,OAbAlqD,qBAAU,WACkB,IAA1B+pD,EAAel2B,QACbkK,EAAca,OAAO,EAAG,KACrBlwB,MAAK,gBAAGwkB,EAAH,EAAGA,KAAH,OACJ82B,EAAkB92B,EAAKtyB,KAAI,kBAAoB,CAAEmzB,MAAtB,EAAGA,MAA0B1oB,GAA7B,EAAUA,WAEtC00B,MAAM1gC,QAAQC,KACdukD,SAAQ,kBAAMz8C,GAAW,QAC7B,IAEHpH,qBAAU,WACR6K,EAASo/C,KACR,CAACA,IAEF,oCACE,kBAAC,KAAD,CAAyBE,MAAOC,MAC9B,kBAAC,KAAD,CACElkD,MAAO,CAAEgG,MAAO,IAAK7B,aAAc,GACnCggD,gBAAc,EACdlgD,OAAO,QACPqqB,OAAO,aACPnpB,GAAG,qBACHlH,MAAM,aACNjD,MAAK,iBAAE+oD,QAAF,IAAEA,OAAF,EAAEA,EAASr4B,iBAAX,QAAwB,KAC7B/mB,SAAU,SAACmB,GAAD,OACRk+C,EAAW,2BAAKD,GAAN,IAAer4B,UAAW,IAAI/iB,KAAK7C,GAAGg8C,kBAElDsC,oBAAqB,CACnB,aAAc,iBAGlB,kBAAC,KAAD,CACEngD,OAAO,QACPjE,MAAO,CACL+lB,WAAY,GACZ/f,MAAO,IACPU,YAAa,GACbvC,aAAc,GAEhBggD,gBAAc,EACd71B,OAAO,aACPnpB,GAAG,qBACHlH,MAAM,WACNjD,MAAK,iBAAE+oD,QAAF,IAAEA,OAAF,EAAEA,EAASj4B,eAAX,QAAsB,KAC3BnnB,SAAU,SAACmB,GAAD,OACRk+C,EAAW,2BAAKD,GAAN,IAAej4B,QAAS,IAAInjB,KAAK7C,GAAGg8C,kBAEhDsC,oBAAqB,CACnB,aAAc,kBAmBpB,kBAACjgB,GAAA,EAAD,CACE9P,UAAQ,EACRgwB,UAAW,EACXl/C,GAAG,uBAIHnK,MAAK,iBAAE+oD,QAAF,IAAEA,OAAF,EAAEA,EAASO,wBAAX,QAA+B,GAEpCh1B,QAASu0B,EACT5iD,QAASA,EACT0D,SAAU,SAACo0B,EAAGjzB,GAAJ,OAAUk+C,EAAW,2BAAKD,GAAN,IAAeO,iBAAkBx+C,MAC/Dy+C,sBAAoB,EACpBC,eAAgB,qBAAG32B,OACnB42B,aAAc,SAACrc,GAAD,aACZ,kBAAC,IAAMsc,SAAP,KACE,kBAACC,GAAA,EAAD,CACEr/B,KAAMA,GACNs+B,YAAaA,GACb5jD,MAAO,CAAE0G,YAAa,GACtBs+B,QAAO,OAAE+e,QAAF,IAAEA,GAAF,UAAEA,EAASO,wBAAX,aAAE,EAA2B52B,MAClC,qBAAGvoB,MAAW,OAAKijC,QAAL,IAAKA,OAAL,EAAKA,EAAQjjC,SAG9BijC,EAAOva,QAGZ7tB,MAAO,CAAEgG,MAAO,IAAKU,YAAa,IAClC+9B,YAAa,SAACC,GAAD,OACX,kBAACngC,GAAA,EAAD,iBACMmgC,EADN,CAEEzmC,MAAM,iBACN4G,YAAY,8BAIlB,kBAACs/B,GAAA,EAAD,CACE9P,UAAQ,EACRgwB,UAAW,EACXl/C,GAAG,uBACHnK,MAAK,iBAAE+oD,QAAF,IAAEA,OAAF,EAAEA,EAASa,cAAX,QAAqB,GAC1Bt1B,QAAS,CAAC,QAAS,UAAW,UAAW,WAAW,oBAAoB,sBACxE,kBAAkB,gBAClB,qBACA,kBAAkB,oBAClB3qB,SAAU,SAACo0B,EAAGjzB,GAAJ,OAAUk+C,EAAW,2BAAKD,GAAN,IAAea,OAAQ9+C,MACrDy+C,sBAAoB,EACpBC,eAAgB,SAACxqD,GAAD,OAAOA,GACvByqD,aAAc,SAACrc,GAAD,aACZ,kBAAC,IAAMsc,SAAP,KACE,kBAACC,GAAA,EAAD,CACEr/B,KAAMA,GACNs+B,YAAaA,GACb5jD,MAAO,CAAE0G,YAAa,GACtBs+B,QAAO,OAAE+e,QAAF,IAAEA,GAAF,UAAEA,EAASa,cAAX,aAAE,EAAiB38C,SAASmgC,KAEpCA,EAAO0Q,gBAGZ94C,MAAO,CAAEgG,MAAO,IAAKU,YAAa,IAClC+9B,YAAa,SAACC,GAAD,OACX,kBAACngC,GAAA,EAAD,iBAAemgC,EAAf,CAAuBzmC,MAAM,SAAS4G,YAAY,sBA2BrDrK,OAAOwsC,KAAK+c,GAASp2B,OACpB,kBAACtnB,GAAA,EAAD,CACEI,UAAWjM,OAAOwsC,KAAK+c,GAASp2B,OAChCrpB,SAAS,eACTiC,KAAK,QACLhI,MAAM,UACNmH,QAAS,WACPs+C,EAAW,IACXr/C,EAAS,OAIb,kCAKR,SAACikC,EAAMC,GAAP,OAAgBjuC,KAAKm7B,UAAL,OAAe6S,QAAf,IAAeA,OAAf,EAAeA,EAAM5tC,SAAWJ,KAAKm7B,UAAL,OAAe8S,QAAf,IAAeA,OAAf,EAAeA,EAAM7tC,U,4CCxLxD,eAA6B,IAAD,IAAzBsiD,YAAyB,MAAlB,GAAkB,EAAd91C,EAAc,EAAdA,QACrBq9C,EAAU9sB,iBAAO,MAQvBj+B,qBAAU,YACR,OAAI+qD,QAAJ,IAAIA,OAAJ,EAAIA,EAASlsB,UAPbksB,EAAQlsB,QAAQmsB,eAAe,CAC7BC,SAAU,SACVC,MAAO,MACPC,OAAQ,cAOT,CAAC3H,EAAMuH,IAEV,IAAMjH,EAAY,CAChBC,QAAS,SACTC,KAAM,OACN/8C,MAAO,OAET,OACE,oCACE,kBAAC2G,GAAA,EAAD,CACE9C,WAAS,EACT4C,QAASA,EACTG,kBAAgB,sBAChBC,MAAM,GACN,kBAACg8B,GAAA,EAAD,CAAaz+B,GAAG,uBAAhB,QACA,kBAAC0+B,GAAA,EAAD,CACEne,IAAKm/B,EACL7kD,MAAO,CACLkG,QAAS,OACT+xB,gBAAiB,QACjB9I,cAAe,IACftrB,QAAS,GACT+mB,cAAe,WAEhB0yB,EAAK5iD,KACJ,kBACE8jD,EADF,EACEA,KACAxxB,EAFF,EAEEA,KACAyxB,EAHF,EAGEA,MAHF,IAIEC,iBAJF,OAIc,IAAI/1C,MAAO8tC,iBAJzB,SAME,kBAAC1wC,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,SACrB,0BACElG,MAAO,CACL,cAAe,WACf3C,SAAU,GACVC,WAAY,YACZG,WAAY,IACZc,MAAO,OACPwF,aAAc,GACdmiC,UAAW,QACXpX,SAAU,GACV,eAAgB,qBAVpB,UAYM0vB,IAEN,0BACEx+C,MAAO,CACL,cAAe,WACf8D,YAAa,GACbzG,SAAU,GACVC,WAAY,YACZG,WAAY,IACZc,MAAOq/C,EAAUa,KAElBC,EATH,YASgB1xB,QAThB,IASgBA,GAThB,UASgBA,EAAMwI,kBATtB,aASgB,EAAkBvzB,QAAQ,KAAM,YAMxD,kBAACkjC,GAAA,EAAD,KACE,kBAAC9+B,GAAA,EAAD,CAAQX,QAAS8B,EAASjJ,MAAM,WAAhC,aCxDK,mBAAqB,IAAD,EAAjBu6B,EAAiB,EAAjBA,WAERlB,EAAQpM,eAARoM,IACAp/B,EAAcQ,eAAdR,UAHyB,EAIGe,mBAAS,IAJZ,mBAI1B2rD,EAJ0B,KAIdC,EAJc,OAKD5rD,mBAAS,IALR,mBAK1B6rD,EAL0B,KAKhBC,EALgB,OAMS9rD,mBAAS,IANlB,mBAM1B+rD,EAN0B,KAMXC,EANW,OAODhsD,mBAAS,IAPR,mBAO1BisD,EAP0B,KAOhBC,EAPgB,KAQzBhmD,EAASD,cAATC,KARyB,EASSlG,mBAAS,MATlB,mBAS1BmsD,EAT0B,KASXC,EATW,OAULpsD,mBAAS,MAVJ,mBAU1BylD,EAV0B,KAUlBC,EAVkB,KAYjCnlD,qBAAU,WACR8rD,IACA3G,EACEU,KAAGC,QAAQpnD,GAAa4B,8BAAyC,CAC/DylD,iBAAiB,OAGpB,IACH,IAAM+F,EAAgB,yCAAG,yDAAA5rD,EAAA,sEACA49B,EAAIiuB,UAAU,oBAAqB,CAAEC,UAAU,EAAOprB,OAAQ,UAD9D,gBACf1N,EADe,EACfA,KACQ,EACZ3yB,EAAS,GACb2yB,EAAK+4B,SAAQ,SAACC,GACRA,EAAEnxB,SAASx6B,EACbA,EAAO2rD,EAAEnxB,QAAU,EAEnBx6B,EAAO2rD,EAAEnxB,OAAS,KARC,EAWYx6B,EAA3B0G,aAXe,MAWP,EAXO,IAWY1G,EAAhB4rD,eAXI,MAWM,EAXN,EAYnB1O,EAAWl9C,EAAO,oBAAsB,EACxC6rD,EAAW7rD,EAAO,oBAAsB,EACxC6+B,EAAS7+B,EAAM,WAAiB,EAChC8rD,EAAc9rD,EAAO,uBAAyB,EAC9C+rD,EAAe/rD,EAAO,wBAA0B,EAChDygD,EAAazgD,EAAO,sBAAwB,EAC5CwgD,EAAYxgD,EAAO,qBAAuB,EAC1CgsD,EAAShsD,EAAO,kBAAoB,EAExCgrD,EAAY,CAAEtkD,QAAOulD,UADT/O,EAAWuD,EAAauL,EAASH,EAAWrL,EAAY3hB,EAASktB,EAAeD,EAC5DF,YArBT,4CAAH,qDAwBtBnsD,qBAAU,WACR,IAAKklD,EACH,OAAO7lD,QAAQC,IAAI,aAEjB4lD,GACF7lD,QAAQC,IAAI4lD,GAEdA,EAAOrrB,GAAG,gBAAgB,YAA6D,IAA1DxuB,EAAyD,EAAzDA,GAAI0vB,EAAqD,EAArDA,MAAO+G,EAA8C,EAA9CA,YAAaiC,EAAiC,EAAjCA,SAAUugB,EAAuB,EAAvBA,iBACzDxiB,KAAW,OAAKn8B,QAAL,IAAKA,OAAL,EAAKA,EAAM+zB,MACxB2xB,GAAc,SAACD,GAEb,OAAe,IADDA,EAAWxqD,KAAI,qBAAGyK,MAAa41B,QAAQ51B,GAE7C,GAAN,oBAAW+/C,GAAX,CAAuB,CAAE//C,KAAI0vB,QAAOgJ,WAAUugB,sBAE9C,OAAO8G,QAAP,IAAOA,OAAP,EAAOA,EAAYxqD,KAAI,SAACsyB,GAAD,OACrBA,EAAK7nB,KAAOA,EAAK,CAAEA,KAAI0vB,QAAOgJ,WAAUugB,oBAAqBpxB,WAKvEgyB,EAAOrrB,GAAG,YAAY,YAA4C,IAAzCxuB,EAAwC,EAAxCA,GAAwC,IAApCy2B,mBAAoC,aAAtBn8B,QAAsB,IAAtBA,OAAsB,EAAtBA,EAAM+zB,IAAgB,EAAX8pB,EAAW,EAAXA,KAChD1hB,KAAW,OAAKn8B,QAAL,IAAKA,OAAL,EAAKA,EAAM+zB,MACxB+xB,GAAiB,SAACD,GAEhB,OAAe,IADDA,EAAc5qD,KAAI,qBAAGyK,MAAa41B,QAAQ51B,GAEhD,GAAN,oBAAWmgD,GAAX,CAA0B,CAAEngD,KAAIm4C,UAEhC,OAAOgI,QAAP,IAAOA,OAAP,EAAOA,EAAe5qD,KAAI,SAACtB,GAAD,OACxBA,EAAI+L,KAAOA,EAAK,CAAEA,KAAIm4C,QAASlkD,WAKzC4lD,EAAOrrB,GAAG,cAAc,SAAC3G,GACvB,IADgC,EAEGA,EAA3BjsB,aAFwB,MAEhB,EAFgB,IAEGisB,EAAhBi5B,eAFa,MAEH,EAFG,EAG5B1O,EAAWvqB,EAAK,oBAAsB,EACtCk5B,EAAWl5B,EAAK,oBAAsB,EACtCkM,EAASlM,EAAI,WAAiB,EAC9Bm5B,EAAcn5B,EAAK,uBAAyB,EAC5Co5B,EAAep5B,EAAK,wBAA0B,EAC9C8tB,EAAa9tB,EAAK,sBAAwB,EAC1C6tB,EAAY7tB,EAAK,qBAAuB,EACxCq5B,EAASr5B,EAAK,kBAAoB,EAEtCq4B,EAAY,CAAEtkD,QAAOulD,UADT/O,EAAWuD,EAAauL,EAASH,EAAWrL,EAAY3hB,EAASktB,EAAeD,EAC5DF,iBAEjC,CAACjH,IACJllD,qBAAU,WACR,IAAc,OAAVorD,QAAU,IAAVA,OAAA,EAAAA,EAAYv3B,UAAkB,OAAR63B,QAAQ,IAARA,OAAA,EAAAA,EAAU73B,WAAV,OAAqBu3B,QAArB,IAAqBA,OAArB,EAAqBA,EAAYv3B,QAAQ,CAAC,IAAD,EAE3D44B,EAAgB,UAAGrB,EAAWx3B,MAClC,SAACs4B,GAAD,OAAQR,EAAS9qD,KAAI,qBAAGyK,MAAa8C,SAA7B,OAAsC+9C,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAG7gD,cAD7B,aAAG,EAEtBA,GAECohD,IACFd,GAAY,SAACO,GAAD,6BAAWA,GAAX,CAAc,CAAE7gD,GAAIohD,QAChC3uB,EAAIX,IAAIsvB,GAAkB,GACvB/9C,MAAK,SAACk1C,GAAD,OACJ+H,GAAY,SAACO,GAEX,OAAOA,EAAEt4B,MAAK,qBAAGvoB,KAAgBohD,KAC7BP,EAAEtrD,KAAI,SAACsyB,GAAD,OACF,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM7nB,MAAOohD,EAAb,2BACS7I,GADT,IACYv4C,GAAIohD,IACZv5B,KAJD,uBAMCg5B,GAND,4BAMStI,GANT,IAMYv4C,GAAIohD,YAG1B1sB,OAAM,kBAAM4rB,GAAY,SAACO,GAAD,6BAAWA,GAAX,CAAc,CAAE7gD,GAAIohD,eAGlD,CAACrB,EAAYM,IAEhB1rD,qBAAU,WACR,IAAM0sD,EAAY,OAAGtB,QAAH,IAAGA,OAAH,EAAGA,EAAYn3B,QAC/B,oBAAG8G,MAAH,MAA4C,mBAA5C,MAAW,GAAX,GAA0B0gB,kBAId,OAAZiR,QAAY,IAAZA,OAAA,EAAAA,EAAc74B,SACdu3B,EAAWx3B,MAAK,oBAAGmH,MAAH,MAA4C,mBAA5C,MAAW,GAAX,GAA0B0gB,kBAEhCmC,YAAW,WACnByN,EAAcqB,GACdf,GAAY,SAAC/H,GAAD,cACVA,QADU,IACVA,OADU,EACVA,EAAG3vB,QAAO,gBAAG5oB,EAAH,EAAGA,GAAH,OAAYqhD,EAAa9rD,KAAI,qBAAGyK,MAAa8C,SAAS9C,WAEjE,OAEJ,CAAC+/C,IAEJ,IAAMuB,EAAe,SAAC,GAAwD,IAAD,QAArDthD,EAAqD,EAArDA,GAAI0vB,EAAiD,EAAjDA,MAAOgJ,EAA0C,EAA1CA,SAAU6oB,EAAgC,EAAhCA,QAAStI,EAAuB,EAAvBA,iBACpD,OACE,kBAAC7L,GAAA,EAAD,CAAU53C,IAAKwK,EAAIO,QAAS,kBAAMozB,EAAW3zB,KAC3C,kBAACqtC,GAAA,EAAD,CAAW5uC,UAAU,KAAK+1C,MAAM,OAC7Bx0C,GAEH,kBAACqtC,GAAA,EAAD,CAAW8C,MAAM,SACP,OAAPoR,QAAO,IAAPA,GAAA,UAAAA,EAAS3Q,qBAAT,eAAwBloB,QAAS,cAEpC,kBAAC2kB,GAAA,EAAD,MACU,OAAPkU,QAAO,IAAPA,GAAA,UAAAA,EAAS3Q,qBAAT,mBAAwBxb,gBAAxB,mBAAkC7M,MACjC,SAAC5nB,GAAD,OAAQ,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAGX,OAAH,OAAUuhD,QAAV,IAAUA,OAAV,EAAUA,EAAS3V,qBAD3B,eAEEljB,QAAS,cAEd,kBAAC2kB,GAAA,EAAD,KACGkD,KAAe,IAAI/sC,KAAJ,OAAS+9C,QAAT,IAASA,OAAT,EAASA,EAASjR,eAAiB,cAErD,kBAACjD,GAAA,EAAD,KACGkD,KAAe,IAAI/sC,KAAJ,OAAS+9C,QAAT,IAASA,OAAT,EAASA,EAASnG,eAAiB,cAErD,kBAAC/N,GAAA,EAAD,CAAW8C,MAAM,QACf,kBAACzrB,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAK,UAAK42B,GAAL,OAAagJ,EAAW,IAAMA,EAAW,IAAM,IACpD79B,MAAO,CACLvC,WAAY,IACZR,WAAYu4C,GAAkB3gB,EAAOgJ,GACrCt/B,MAAO,QACP+H,cAAe,iBAIrB,kBAACksC,GAAA,EAAD,YAAY4L,QAAZ,IAAYA,OAAZ,EAAYA,EAAkBE,MAC9B,kBAAC9L,GAAA,EAAD,CAAW8C,MAAM,QACf,kBAACjvC,GAAA,EAAD,CACEX,QAAS,SAACqzB,GACRA,EAAEyU,kBACFmY,EAAiBxgD,IAEnBoB,KAAK,QACLtG,QAAQ,YACR1B,MAAM,UACN+F,SAAS,iBAOnB,OACE,oCACE,kBAACqiD,GAAA,EAAD,CAAgBC,iBAAiB,EAAM5mD,MAAO,CAAEmE,aAAc,KAC5D,kBAAC0iD,GAAA,EAAD,CACE3I,WAAY,kBAAC7E,GAAA,EAAD,MACZ8E,gBAAc,kBACdh5C,GAAG,kBACH,yBACEnF,MAAO,CACLkG,QAAS,OACTE,eAAgB,gBAChBJ,MAAO,SAET,yBACEhG,MAAO,CAAEkG,QAAS,OAAQC,WAAY,SAAUH,MAAO,QACvD,kBAACjG,EAAA,EAAD,CAAYE,QAAQ,MAApB,uBACgBilD,QADhB,IACgBA,OADhB,EACgBA,EAAYv3B,OAD5B,UAGA,kBAACtnB,GAAA,EAAD,CACErG,MAAO,CAAE+lB,WAAY,IACrB9lB,QAAQ,YACRsG,KAAK,QACLhI,MAAM,UACN+F,SAAU,QACVoB,QAAS,SAACqzB,GACRA,EAAEyU,kBACF2X,EAAc,QAIpB,yBACEnlD,MAAO,CACLkG,QAAS,OACTC,WAAY,SACZC,eAAgB,iBAElB,kBAACyjB,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAK,iBAAYmnD,EAAQ,OAAa,GACtCplD,MAAO,CACLvC,WAAY,IACZR,WAAY,UACZsB,MAAO,QACPwnB,WAAY,GAEZzf,cAAe,gBAGnB,kBAACujB,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAK,qBAAgBmnD,EAAQ,WAAiB,GAC9CplD,MAAO,CACLvC,WAAY,IACZR,WAAY,UAEZsB,MAAO,QACPwnB,WAAY,GACZzf,cAAe,gBAGnB,kBAACujB,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAK,mBAAcmnD,EAAQ,SAAe,GAC1CplD,MAAO,CACLvC,WAAY,IACZsoB,WAAY,GACZ9oB,WAAY,OAEZsB,MAAO,QACP+H,cAAe,mBAMzB,kBAACwgD,GAAA,EAAD,CAAuB9mD,MAAO,CAAEi0B,SAAU,UAC7B,OAAVixB,QAAU,IAAVA,OAAA,EAAAA,EAAYv3B,QACX,kBAACo5B,GAAA,EAAD,KACE,kBAAC1U,GAAA,EAAD,CAAO2U,cAAY,EAACzgD,KAAK,QAAQd,aAAW,iBAC1C,kBAAC6sC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,eACA,kBAACA,GAAA,EAAD,CAAW8C,MAAM,QAAjB,kBACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,WACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,gBACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,cACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,UACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,eACA,kBAAC9C,GAAA,EAAD,CAAW8C,MAAM,QAAjB,aAGJ,kBAAC7C,GAAA,EAAD,KACGyS,EAAWxqD,KACV,gBAAGyK,EAAH,EAAGA,GAAI0vB,EAAP,EAAOA,MAAOgJ,EAAd,EAAcA,SAAUugB,EAAxB,EAAwBA,iBAAxB,OACE,kBAACqI,EAAD,CACEthD,GAAIA,EACJi5C,iBAAkBA,EAClBvpB,MAAOA,EACPgJ,SAAUA,EACV6oB,SAAiB,OAARlB,QAAQ,IAARA,OAAA,EAAAA,EAAU93B,MAAK,SAACs4B,GAAD,OAAOA,EAAE7gD,KAAOA,OAAO,WAQ3D,kBAACY,EAAA,EAAD,KACE,kBAAChG,EAAA,EAAD,0BAKW,OAAlB2lD,GACC,kBAACuB,GAAD,CACE3J,KAAI,OAAEgI,QAAF,IAAEA,GAAF,UAAEA,EAAe53B,MAAK,qBAAGvoB,KAAgBugD,YAAzC,aAAE,EAAuDpI,KAC7D91C,QAAS,kBAAMm+C,EAAiB,WAOpCnQ,GAAoB,WAA0B,IAAzB3gB,EAAwB,uDAAhB,GAAIisB,EAAY,uCACjD,OAAQjsB,EAAM0gB,eACZ,IAAK,WACH,MAAO,UACT,IAAK,QACH,MAAO,UACT,IAAK,UACH,MAAO,UACT,IAAK,YACH,MAAM,kCAAN,OAAyCuL,EAAzC,mBAA2DA,EAA3D,MACF,QACE,MAAO,SC9SE,kBAAO,IAAD,EACX34C,EAASwvB,cAATxvB,KACFtH,EAAUC,cACR+zB,EAAUkC,cAAVlC,MACA+C,EAAQpM,eAARoM,IAJW,EAKwBh3B,eAAnCD,EALW,EAKXA,gBACFyzC,GANa,EAKMK,cARlB,IAAI3d,gBAAgBC,cAAcC,SAUnCc,EAAWC,iBAAY,MAPV,EAQOx+B,mBAAuB,MAR9B,mBAQZwH,EARY,KAQLC,EARK,QASFxB,cAATC,KACsBlG,mBAAc,KAVzB,mBAUZwqD,EAVY,KAUHC,EAVG,OAWmBzqD,mBAAc,MAXjC,mBAWZ2tD,EAXY,KAWCC,EAXD,KAYbC,EAAeC,GAAqBtD,GACpCuD,EAAc,WAClBxvB,EAASa,SAAWb,EAASa,QAAQC,gBACrC53B,EAAS,OAGXlH,qBAAU,WACRwtD,MACC,CAACF,IAEJ,IAwEMG,EAAkB,yCAAG,WAAOC,GAAP,UAAAxtD,EAAA,+EAEjB49B,EAAI6vB,eAAe,CACvBC,IAAKF,EAAM9sD,KAAI,SAACV,GAAD,cAAYA,QAAZ,IAAYA,OAAZ,EAAYA,EAAGmL,QAHT,OAKvBxE,EAAgB,6BAA8B,CAC5CV,QAAS,YANY,+CASvBU,EAAgB,yBAA0B,CACxCV,QAAS,UAVY,OAazB63B,EAASa,SAAWb,EAASa,QAAQC,gBAbZ,yDAAH,sDAgBlB+uB,EAAe,yCAAG,wCAAA3tD,EAAA,6DAASmL,EAAT,EAASA,GAAI6nB,EAAb,EAAaA,KAAM6oB,EAAnB,EAAmBA,QAAS7E,EAA5B,EAA4BA,YAA5B,kBAEdpZ,EAAI3E,OAAO9tB,EAAI,CAAE6nB,OAAM6oB,UAAS7E,eAAe,CAAEkP,WAAW,IAF9C,OAGpBv/C,EAAgB,4BAA6B,CAC3CV,QAAS,YAEXknD,EAAe,MACfrvB,EAASa,SAAWb,EAASa,QAAQC,gBAPjB,gDASpBj4B,EAAgB,qBAAD,oDACQ,EAAgBN,eADxB,QACmC,wBAChD,CACEJ,QAAS,QACTsqB,aAAc,CACZC,SAAU,SACVC,WAAY,WAfE,yDAAH,sDAsBfm9B,EAAe,SAAC,GAA4C,IAA1CvH,EAAyC,EAAzCA,WAAYl7C,EAA6B,EAA7BA,GAA6B,IAAzBw7C,gBAAyB,MAAd,GAAc,IAC/BpnD,mBAAS,MADsB,mBACxD+uB,EADwD,KAC9CC,EAD8C,KAMzDs/B,EAAqB,WACzBt/B,EAAY,OAER3gB,EAAO6gB,QAAQH,GACrB,OACE,oCACE,kBAACvoB,EAAA,EAAD,CACE+nD,YAAWlgD,EAAI,4BAAwBzC,QAAOqB,EAC9CuhD,gBAAc,OACdC,aAboB,SAACvkD,GACzB8kB,EAAY9kB,EAAM4mB,gBAad49B,aAAcJ,IACG,IAAhBxH,EAAoBzN,GAAWyN,GAAc,MAEhD,kBAAC7xB,GAAA,EAAD,CACErpB,GAAE,4BAAuBA,GACzByC,KAAMA,EACN5H,MAAO,CAAEkoD,cAAe,QACxB5/B,SAAUA,EACViC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdE,gBAAiB,CACfH,SAAU,SACVC,WAAY,QAEdjjB,QAASqgD,EACTM,qBAAmB,GACnB,kBAACpG,GAAA,EAAD,CAAUzM,MAAM,aACbqL,EAAShzB,OACRgzB,EAASjmD,KAAI,WAAmCyuB,GAAnC,IAAG0L,EAAH,EAAGA,MAAOmtB,EAAV,EAAUA,SAAUC,EAApB,EAAoBA,OAApB,OACX,kBAACC,GAAA,EAAD,KACa,IAAV/4B,IAAuB,OAARw3B,QAAQ,IAARA,OAAA,EAAAA,EAAUhzB,QAAS,IAAMxE,GACvC,kBAACg5B,GAAA,EAAD,KACE,kBAACpiD,EAAA,EAAD,CAAYxB,MAAM,mBACb0jD,EAASD,GAAY,KAAM58B,QAAQ,GADxC,UAKJ,kBAACg9B,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEriD,MAAO,CACLi4B,gBACY,IAAV9O,EACI,UACAA,KAAkB,OAARw3B,QAAQ,IAARA,OAAA,EAAAA,EAAUhzB,QAAS,EAC3B,UACA,cAGH,OAARgzB,QAAQ,IAARA,OAAA,EAAAA,EAAUhzB,QAAS,IAAMxE,GAAS,kBAACm5B,GAAA,EAAD,OAErC,kBAACC,GAAA,EAAD,KACE,8BAAO1tB,QAKb,kBAAC90B,EAAA,EAAD,0BAQNqoD,EAAe,yCAAG,WAAOZ,GAAP,gBAAAxtD,EAAA,sEAEdquD,EAASb,EAAM9sD,KAAI,SAACV,GACxB,OAAOA,EAAEmL,MAHS,SAKdyyB,EAAI0wB,eAAe,CACvBZ,IAAKW,EACLxzB,MAAO,UACPssB,MAAO,CAAEC,eAAe,KARN,OAUpBzgD,EAAgB,+BAAgC,CAC9CV,QAAS,YAXS,gDAcpBU,EAAgB,0BAA2B,CACzCV,QAAS,UAfS,QAmBtB63B,EAASa,SAAWb,EAASa,QAAQC,gBAnBf,yDAAH,sDAsBrB,OACE,6BACG73B,GACC,kBAACywB,GAAD,CACEnxB,QAASU,EAAMV,QACf2wB,WAAW,EACXD,QAASu2B,KAGP,OAALzyB,QAAK,IAALA,OAAA,EAAAA,EAAOx0B,SAAU,kBAACmxB,GAAD,CAAcntB,SAAS,OAAOhE,QAAO,iBAAEw0B,QAAF,IAAEA,OAAF,EAAEA,EAAOx0B,eAAT,QAAoB,KAAS,8BACpF,kBAAC0F,EAAA,EAAD,KACE,kBAACwiD,GAAD,CAAiBzvB,WAAY,SAAC3zB,GAAD,OAAgBtE,EAAQiqB,KAAR,UAAgB3iB,GAAhB,OAAuBhD,QAEtE,kBAACgpB,GAAA,EAAD,CAAOnuB,MAAO,CAAE6D,QAAS,GAAIM,aAAc,IACzC,kBAACpE,EAAA,EAAD,CAAYE,QAAQ,MAApB,WACA,kBAAC,KAAD,CACED,MAAO,CAAE6D,QAAS,EAAGsC,WAAY,WAAYD,QAAS,SACtD,kBAACsiD,GAAD,CAEE7jD,SAAU,SAACmB,GAAD,OAAYk+C,EAAWl+C,IACjC9K,MAAO+oD,MAGb,kBAAC,KAAD,CACEjsB,SAAUA,EACVjK,MAAM,YACNyB,QAAS,CACPqK,SAAUsO,UAAmB,OAAVmM,QAAU,IAAVA,OAAA,EAAAA,EAAYnd,IAAI,SAAU,KAAO,GACpD6C,YAAa,CAAEr8B,WAAY,KAC3Bu8B,oBAAqB,EACrBtL,WAAW,EAEXunB,SAAS,GAEXnd,WAAY,SAACC,EAAD,GAA0B,IAAf5zB,EAAc,EAAdA,GAEjB,CAAC,KAAM,MAAM8C,SAAS8wB,EAAE3E,OAAOq0B,UACjCxpD,OAAO2I,KAAP,UAAeO,GAAf,OAAsBhD,KAE1B6zB,QAAS,CACP,CACEnL,MAAO,QACPoL,MAAO,MAET,CACEpL,MAAO,iBACPooB,SAAS,EACThd,MAAO,uBAET,CACEpL,MAAO,UACPooB,SAAS,EACTyS,YAAY,EACZxvB,OAAQ,sBAAG6c,EAAH,EAAGA,cAAehF,EAAlB,EAAkBA,UAAlB,OACN,+CACGgF,QADH,IACGA,GADH,UACGA,EAAexb,gBADlB,iBACG,EAAyB7M,MAAK,SAAC5nB,GAAD,OAAa,OAADA,QAAC,IAADA,OAAA,EAAAA,EAAGX,MAAO4rC,YADvD,aACG,EACGljB,aAFN,QAEe,MAInB,CACEA,MAAO,cACPoL,MAAO,aACPgd,SAAS,EACTyS,YAAY,EACZxvB,OAAQ,gBAAGmnB,EAAH,EAAGA,WAAYl7C,EAAf,EAAeA,GAAIw7C,EAAnB,EAAmBA,SAAnB,OACN,kBAACiH,EAAD,CACEvH,WAAYA,EACZl7C,GAAIA,EACJw7C,SAAUA,MAKhB,CACE+H,YAAY,EACZ76B,MAAO,eACPoL,MAAO,cACPr8B,KAAM,WACN+rD,YAAa,OACbzvB,OAAQ,gBAAGuc,EAAH,EAAGA,YAAH,OACN,8BAAOC,KAAe,IAAI/sC,KAAK8sC,OAGnC,CACEiT,YAAY,EACZ76B,MAAO,aACPoL,MAAO,cACPr8B,KAAM,WACNs8B,OAAQ,gBAAGqnB,EAAH,EAAGA,YAAH,OACN,8BAAO7K,KAAe,IAAI/sC,KAAK43C,OAGnC,CACEmI,YAAY,EACZ76B,MAAO,SACPqL,OAAQ,YAAoC,IAAD,IAAhC0vB,uBAAgC,MAAd,GAAc,EACzC,OAAO,kBAAC9gB,GAAA,EAAD,CACLwC,oBAAqB+K,KACrBxnB,MAAsC,SAA9B+6B,GAAmB,OAAmB,oBAAsB,uBACpE,kBAAC/+B,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAO2qD,GAAmB,MAC1B5oD,MAAO,CACLvC,WAAY,IACZR,WAAY4rD,GAAmBD,GAAmB,OAClDrqD,MAAO,QACP+H,cAAe,kBAMzB,CACEoiD,YAAY,EACZ76B,MAAO,QACPoL,MAAO,QACPC,OAAQ,YAAoC,IAAjCrE,EAAgC,EAAhCA,MAAO6rB,EAAyB,EAAzBA,cAChB,MAAiB,UAAV7rB,EACL,kBAACiT,GAAA,EAAD,CACEwC,oBAAqB+K,KACrBxnB,MAAO6yB,GAAgC,oBACvC,kBAAC72B,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAO42B,EACP70B,MAAO,CACLvC,WAAY,IACZR,WAAYu4C,GAAkB3gB,GAC9Bt2B,MAAO,QACP+H,cAAe,iBAKrB,kBAACujB,EAAA,EAAD,CACEtjB,KAAK,QACLtI,MAAO42B,EACP70B,MAAO,CACLvC,WAAY,IACZR,WAAYu4C,GAAkB3gB,GAC9Bt2B,MAAO,QACP+H,cAAe,kBAMzB,CACEoiD,YAAY,EACZ76B,MAAO,iBACPqL,OAAQ,YAAuB,IAApB2c,EAAmB,EAAnBA,QAAmB,EACgBA,EAApCiF,kBADoB,MACP,GADO,EACgBjF,EAAnBgF,UACzB,OACE,oCACGC,QADH,IACGA,OADH,EACGA,EAAYpgD,KAAI,YAAsB,IAAnB+/C,EAAkB,EAAlBA,OAClB,MAAe,+BAAXA,EAEA,kBAAC3S,GAAA,EAAD,CAASja,MAAM,eACb,kBAAC,KAAD,CAActvB,MAAM,cAGJ,4BAAXk8C,EAEP,kBAAC3S,GAAA,EAAD,CAASja,MAAM,aACb,kBAAC,KAAD,CAAgBtvB,MAAM,cAGN,4BAAXk8C,EAEP,kBAAC3S,GAAA,EAAD,CAASja,MAAM,oBACb,kBAAC,KAAD,CAAuBtvB,MAAM,cAGrB,oCAMxB,CACEmqD,YAAY,EACZ76B,MAAO,UACPqL,OAAQ,oBAAGknB,cAAH,MAAY,GAAZ,SAA0B,8BAAOA,EAAOzyB,WAGpDyL,aAAc,CACZ5P,KAAM,CACJ6P,uBAAwB,kBAACt5B,EAAA,EAAD,6BAG5BitB,KA1YmB,SAAC4H,GAA4B,IAAD,EAO/CA,EALF8E,YAFiD,MAE1C,EAF0C,IAO/C9E,EAJF+E,gBAHiD,MAGtC,GAHsC,IAO/C/E,EAHFoC,OAAQ8xB,OAJyC,MAI3B,KAJ2B,IAO/Cl0B,EAFFmgB,QALiD,gBAKH,GALG,GAKtC9b,MAAO8b,OAL+B,MAKrB,cALqB,IAO/CngB,EADFogB,sBANiD,MAMhC,MANgC,EAcnD,OANAn0C,EAAQiqB,KAAR,gBACW4O,EAAO,EADlB,iBAC4BC,GAD5B,OACuCmvB,EAAc,eAAiBA,EAAc,IADpF,eAGSj0B,IAGLi0B,EACM,CAAE97B,KAAM,GAAI0M,KAAM,EAAGE,WAAY,GAEpChC,EAAIc,OACTgB,EAAO,EACPC,EACAytB,GAAgB,GAChBrS,EACAC,GAGCxsC,MAAK,YAAuC,IAAD,IAAnCwkB,YAAmC,MAA5B,GAA4B,EAAjB4M,EAAiB,EAAxB9M,MAClB,OAAqB,KAAb,OAAJE,QAAI,IAAJA,OAAA,EAAAA,EAAMW,SAAgBiM,GACxB/4B,EAAQiqB,KAAR,gBACW,EADX,SACqB6O,GADrB,OACgCmvB,EAAc,eAAiBA,EAAc,IAD7E,eAIOj0B,IAEA+C,EAAIc,OACT,EACAiB,EACAytB,GAAgB,GAChBrS,EACAC,GAGCxsC,MAAK,YAAuC,IAAD,IAAnCwkB,KACP,MAAO,CAAEA,UADiC,MAA5B,GAA4B,EAC3B0M,KAAM,EAAGE,WADkB,EAAxB9M,UAGnB+M,OAAM,SAACtB,GAMN,OALAv3B,EAASu3B,GACT13B,EAAQiqB,KAAR,gBACW,EADX,SACqB6O,GADrB,OACgCmvB,EAAc,eAAiBA,EAAc,IAD7E,eAGSj0B,IACF,CACL7H,KAAM,GACN0M,KAAM,EACNE,WAAY,OAIb,CAAE5M,OAAM0M,OAAME,iBAEtBC,OAAM,SAACtB,GAMN,OALAv3B,EAASu3B,GACT13B,EAAQiqB,KAAR,gBACW,EADX,SACqB6O,GADrB,OACgCmvB,EAAc,eAAiBA,EAAc,IAD7E,eAGSj0B,IACF,CACL7H,KAAM,GACN0M,KAAM,EACNE,WAAY,OAuUdic,QAAS,CACP,CACEvwB,KAAM,UACNgL,QAAS,eACT0lB,cAAc,EACdtwC,QAAS4hD,GAEX,CACEhiC,KAAM,kBAAM,kBAAC,KAAD,OACZgL,QAAS,gBACT5qB,QAAQ,WAAD,8BAAE,WACPqzB,EADO,2BAAA/+B,EAAA,6DAEL67C,EAFK,EAELA,QAAS7oB,EAFJ,EAEIA,KAAMY,EAFV,EAEUA,gBAAiBmjB,EAF3B,EAE2BA,UAAWC,EAFtC,EAEsCA,YAFtC,kBAKCpZ,EAAIlR,OAAO,CACfmvB,UACA7oB,OACAY,kBACAmjB,YACAC,gBAVG,OAYLsW,IAZK,gDAcLtmD,EAAS,EAAD,IAdH,yDAAF,qDAAC,GAiBRuE,SAAU,OAEZ,CACE+f,KAAM,kBAAM,kBAAC,KAAD,OACZgL,QAAS,4BACT/qB,SAAU,MACVG,QAAQ,WAAD,8BAAE,WAAOqzB,EAAP,qBAAA/+B,EAAA,6DAAYmL,EAAZ,EAAYA,GAAZ,EAAgB6nB,KAAhB,EAAsB6oB,QAAtB,IAA+B7E,iBAA/B,MAA6C,GAA7C,oBAECpZ,EAAI3E,OACR9tB,EACA,CACE0vB,MAAO,UACPssB,MAAO,CACLC,eAAe,IAGnB,CAAEG,SAAU,IAVT,sDAaLvgD,EAAS,EAAD,IAbH,OAeP82B,EAASa,SAAWb,EAASa,QAAQC,gBAf9B,yDAAF,qDAAC,IAkBV,CACEtT,KAAM,SACNgL,QAAS,cACT/qB,SAAU,MACVG,QAAQ,WAAD,8BAAE,WAAOqzB,EAAP,qBAAA/+B,EAAA,6DAAYmL,EAAZ,EAAYA,GAAZ,EAAgB6nB,KAAhB,EAAsB6oB,QAAtB,IAA+B7E,iBAA/B,MAA6C,GAA7C,oBAECpZ,EAAI3E,OAAO9tB,EAAI,CACnB0vB,MAAO,UACPssB,MAAO,CACLC,eAAe,KALd,sDASLpgD,EAAS,EAAD,IATH,OAWP82B,EAASa,SAAWb,EAASa,QAAQC,gBAX9B,yDAAF,qDAAC,IAcV,CACEtT,KAAM,OACNgL,QAAS,iBACT/qB,SAAU,MACVG,QAAQ,WAAD,8BAAE,WAAOjC,EAAO81B,GAAd,UAAAv/B,EAAA,sDACPmtD,EAAe,eAAK5tB,IADb,2CAAF,qDAAC,IAIV,CACEjU,KAAM,SACNgL,QAAS,aACT/qB,SAAU,MACVG,QAAQ,WAAD,8BAAE,WAAOjC,EAAY81B,GAAnB,UAAAv/B,EAAA,yDACQiF,OAAO8pD,QAAQ,oCADvB,0EAICnxB,EAAIid,OAAOtb,EAAQp0B,IAJpB,OAKL2yB,EAASa,SAAWb,EAASa,QAAQC,gBALhC,gDAOL53B,EAAS,EAAD,IAPH,yDAAF,qDAAC,IAWV,CACEskB,KAAM,SACNgL,QAAS,4BACT/qB,SAAU,kBACVG,QAAQ,WAAD,8BAAE,WAAOqzB,EAAG/L,GAAV,UAAAhzB,EAAA,sEACDouD,EAAgBp7B,GADf,2CAAF,qDAAC,IAIV,CACE1H,KAAM,SACNgL,QAAS,2BACT/qB,SAAU,kBACVG,QAAQ,WAAD,8BAAE,WAAOqzB,EAAG/L,GAAV,UAAAhzB,EAAA,yDACQiF,OAAO8pD,QAAQ,oCADvB,iEAGDxB,EAAmBv6B,GAHlB,2CAAF,qDAAC,OAQG,OAAhBk6B,GACC,kBAAChR,GAAD,CACE37C,KAAM2sD,EACN3mD,SAAUonD,EACVngD,QAAS,kBAAM2/C,EAAe,WAMlC0B,GAAqB,SAACtgB,GAC1B,OAAQA,GACN,IAAK,MACH,MAAO,UACT,QACE,MAAO,YAGPiN,GAAoB,WAAmC,IAAlC3gB,EAAiC,uDAAzB,GAAIisB,EAAqB,uCAC1D,OAAQjsB,EAAM0gB,eACZ,IAAK,WACH,MAAO,UACT,IAAK,QACH,MAAO,UACT,IAAK,UACH,MAAO,UACT,IAAK,YACH,MAAM,kCAAN,OAAyCuL,EAAzC,mBAA2DA,EAA3D,MACF,QACE,MAAO,SAIPkI,GAA6B,SAAC/vB,EAAeyuB,GACjD,OAAOA,EACJhtD,KAAI,SAACyK,EAAIgkB,GAAL,gBAA4B,IAAVA,EAAc,GAAK,KAArC,OAA2C8P,EAA3C,cAAsD9zB,MAC1DqwB,WACAvzB,QAAQ,KAAM,KAEbolD,GAAuB,SAAChW,GAC5B,IAAKA,EAAG,OAAO,KADwB,MAEoCA,EAAnE3lB,iBAF+B,MAEnB,EAFmB,IAEoC2lB,EAApDvlB,eAFgB,MAEN,EAFM,IAEoCulB,EAAvCiT,wBAFG,MAEgB,GAFhB,IAEoCjT,EAAhBuT,cAFpB,MAE6B,GAF7B,EAIvC,MAAM,GAAN,OAAUl5B,EAAS,wBACEA,EADF,YACeI,EAAO,wBAAoBA,GAAWJ,EAA/B,KAA8C,IAEnF,IAHJ,OAIiC,IAA5B44B,EAAiB32B,OAChBq7B,GACA,kBACA1E,EAAiB5pD,KAAI,qBAAGyK,OACtB,IACF,IATN,OAUuB,IAAlBy/C,EAAOj3B,OAAeq7B,GAA2B,QAASpE,GAAU,KC/mB5D,cAAO,IACdz8C,EAASwvB,cAATxvB,KACN,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOA,KAAI,UAAKA,EAAL,KAAc+xB,OAAK,EAC5BhB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWqlD,GAAWp7B,MAAM,YAEpD,kBAAC,IAAD,CAAO1lB,KAAI,UAAKA,EAAL,QACT+wB,OAAQ,SAAA5/B,GAAK,OACX,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWslD,GAAYr7B,MAAM,qBCQrD5H,GAAYC,aAAW,SAACvnB,GAAD,OACzBwnB,YAAa,CACTpoB,KAAM,CACFmI,QAAS,OACTF,MAAO,OAAQ4f,OAAQ,QAE3B+B,QAAQ,aACJzhB,QAAS,QACNvH,EAAMipB,OAAOD,SAEpBE,QAAS,CACL7hB,MAAO,OAAQ4f,OAAQ,OACvB/hB,QAASlF,EAAMyoB,QAAQ,SAKpB,cAAO,IAAD,EACGuQ,cAAdxvB,EADW,EACXA,KAAM+tB,EADK,EACLA,IAEN/N,EAAUlC,KACVkjC,EAAQ,CACV,CACI9/B,KAAM,YACN/D,KAAM,kBAAC,IAAD,MACNzlB,GAAG,GAAD,OAAKq2B,GACPpuB,aAAc,KAElB,CACIuhB,KAAM,kBACN/D,KAAM,kBAAC8jC,EAAA,EAAD,MACNvpD,GAAG,GAAD,OAAKq2B,EAAL,mBACFpuB,aAAc,KAElB,CACIuhB,KAAM,OACN/D,KAAM,kBAAC+jC,EAAA,EAAD,MACNxpD,GAAG,GAAD,OAAKq2B,EAAL,SACFpuB,aAAc,KAGlB,CACIuhB,KAAM,WACN/D,KAAM,kBAACgkC,EAAA,EAAD,MACNzpD,GAAG,GAAD,OAAKq2B,EAAL,aACFpuB,aAAc,KAQlB,CACIuhB,KAAM,QACN/D,KAAM,kBAACikC,EAAA,EAAD,MACN1pD,GAAG,GAAD,OAAKq2B,EAAL,UACFpuB,aAAc,CAAC,WAUvB,OACI,yBAAK4gB,UAAWP,EAAQpqB,MACpB,kBAAC,GAAD,CAAQmqB,MAAOihC,IACf,0BAAMzgC,UAAWP,EAAQN,SACrB,yBAAKa,UAAWP,EAAQR,UACxB,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOxf,KAAI,UAAKA,EAAL,KAAc+xB,OAAK,EAC1BhB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW6tB,GAAM5D,MAAM,QAGnD,kBAAC27B,GAAD,CAAgBrhD,KAAI,UAAKA,EAAL,aAChBL,aAAc,IACdoxB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW6lD,GAAS57B,MAAM,gBAEtD,kBAAC27B,GAAD,CAAgBrhD,KAAI,UAAKA,EAAL,mBAChBL,aAAc,IACdoxB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW8lD,GAAgB77B,MAAM,uBAO7D,kBAAC27B,GAAD,CAAgBrhD,KAAI,UAAKA,EAAL,SAChBL,aAAc,IACdoxB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW+lD,GAAM97B,MAAM,YAEnD,kBAAC27B,GAAD,CAAgBrhD,KAAI,UAAKA,EAAL,UAChBL,aAAc,CAAC,SACfoxB,OAAQ,SAAA5/B,GAAK,OACT,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWgmD,GAAO/7B,MAAM,aAOpD,kBAAC,IAAD,CAAUhuB,GAAI,kB,0CC9HnB,eAA8B,IAA3B+gC,EAA0B,EAA1BA,GAA0B,EAC1BniC,IAATE,EADmC,oBAE1C,OACE,kBAACoH,EAAA,EAAD,CACE/F,MAAO,CACLiG,UAAW26B,GAAU,GACrBsF,UAAW,SAEXhX,WAAY,GACZC,cAAe,GACfuW,OAAQ,GACR1/B,MAAO,SAET,yBACEhG,MAAO,CAAE4lB,OAAQ,IACjBuE,IAAe,UAAVxrB,EAAoBkrD,KAAgBC,OAE3C,kBAAC/pD,EAAA,EAAD,CACEC,MAAO,CACL3C,SAAU,GACVI,WAAY,MAHhB,8C,gCCNAwoB,GAAYC,YAAW,CACzB6jC,eAAgB,CACZC,gBACI,4DACJC,eAAgB,EAChBC,iBAAkB,YAClBhkD,QAAS,SACTsgB,WAAY,YACZ,qBAAsB,YAEtB,UAAW,CACPjoB,MAAO,QACP0rD,eAAgB,SAGxBE,WAAY,CAAElkD,UAAW,IACzBmkD,eAAgB,CACZJ,gBACI,6DACJC,eAAgB,EAChBC,iBAAkB,YAClBhkD,QAAS,SACTsgB,WAAY,YACZ,qBAAsB,YAEtB,UAAW,CACPyjC,eAAgB,WAKb,cACGI,eAANC,EADU,IAAD,EAE2B9qD,cAApCC,EAFS,EAETA,KAAMyH,EAFG,EAEHA,0BACE+e,KACAnlB,cAChB,OAAIrB,IAASyH,EACF,kBAAC,IAAD,CAAUrH,GAAG,UAEhB,kBAAC,IAAD,CAAUA,GAAG,Y,0CCvCnBomB,GAAYC,YAAW,CAC3B6jC,eAAgB,CACdC,gBACE,4DACFC,eAAgB,EAChBC,iBAAkB,YAClBhkD,QAAS,SACTsgB,WAAY,YACZ,qBAAsB,YAEtB,UAAW,CACTjoB,MAAO,QACP0rD,eAAgB,SAGpBG,eAAgB,CACdJ,gBACE,6DACFC,eAAgB,EAChBC,iBAAkB,YAClBhkD,QAAS,SACTsgB,WAAY,YACZ,qBAAsB,YAEtB,UAAW,CACTyjC,eAAgB,SAGpBM,KAAM,CACJpmD,aAAc,GACd1G,WAAY,IACZH,WAAY,WAEdktD,cAAe,CACb5kC,OAAQ,WAEV6kC,eAAgB,CACd7kC,OAAQ,QAEV3oB,WAAY,CACV2oB,OAAQ,OACR5f,MAAO,OACPT,SAAU,WACVs9B,IAAK,EACLC,KAAM,OACNxc,QAAS,KAEXokC,UAAW,CACTnsD,MAAO,SAETosD,QAAS,CACP1yB,gBAAiB,WA+FN2yB,OA3Ff,WAAoB,IACVnrD,EAASD,cAATC,KAEA6qD,EAAMD,eAANC,EACFniC,EAAUlC,KAChB,OAAIxmB,EAAa,kBAAC,IAAD,CAAUI,GAAG,UAG5B,kBAAC,KAAD,CAAW6oB,UAAWP,EAAQqiC,cAAexmD,SAAS,MACpD,kBAAC49C,GAAA,EAAD,CACEt4B,WAAS,EACTP,UAAU,MACV8hC,QAAQ,SACR1kD,WAAW,SACXuiB,UAAWP,EAAQsiC,gBACnB,kBAAC7I,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,EAAClpB,MAAO,CAAE2oB,KAAM,EAAG9kB,QAAS,OAClD,yBAAKsmB,IAAK6gC,QAEZ,kBAACpJ,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,GACtB,kBAACnjB,EAAA,EAAD,CAAKklD,GAAI,EAAG/lC,EAAG,GACb,kBAACnlB,EAAA,EAAD,CAAYE,QAAQ,KAAKyoB,UAAWP,EAAQoiC,MAC1C,0BAAM7hC,UAAWP,EAAQ4hC,gBAAzB,YAEF,kBAAChkD,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC7gC,EAAA,EAAD,KACE,0BAAM2oB,UAAWP,EAAQiiC,gBAAiBE,EAAE,WAA5C,kBAGJ,kBAACvkD,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC76B,EAAA,EAAD,CAAKG,QAAQ,eAAeg5B,EAAG,GAC7B,kBAAC74B,GAAA,EAAD,CACEzC,UAAWsnD,KACXrrD,GAAG,SACHtB,MAAM,UACN0B,QAAQ,aAJV,oBAYV,kBAAC2hD,GAAA,EAAD,CACEt4B,WAAS,EACTP,UAAU,MACV8hC,QAAQ,SACR1kD,WAAW,SACXnG,MAAO,CAAEuF,SAAU,aACnB,kBAACQ,EAAA,EAAD,CAAKolD,QAAQ,eAAeziC,UAAWP,EAAQlrB,aAC/C,kBAAC2kD,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,GACtB,kBAACnjB,EAAA,EAAD,CAAKklD,GAAI,EAAG/lC,EAAG,GACb,kBAACnf,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC7gC,EAAA,EAAD,CAAY2oB,UAAWP,EAAQuiC,WAC7B,0BAAMhiC,UAAWP,EAAQiiC,gBAAiBE,EAAE,cAGhD,kBAACvkD,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC76B,EAAA,EAAD,CAAKG,QAAQ,eAAeg5B,EAAG,GAC7B,kBAAC74B,GAAA,EAAD,CACEzC,UAAWsnD,KACXrrD,GAAG,SACH6oB,UAAWP,EAAQwiC,QACnB1qD,QAAQ,aAJV,mBAWR,kBAAC2hD,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,EAAClpB,MAAO,CAAE2oB,KAAM,EAAG9kB,QAAS,OAClD,yBAAKsmB,IAAKihC,SAGd,kBAACxJ,GAAA,EAAD,CAAMt4B,WAAS,EAACP,UAAU,MAAM8hC,QAAQ,SAAS1kD,WAAW,UAC1D,kBAACy7C,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,EAAClpB,MAAO,CAAE2oB,KAAM,EAAG9kB,QAAS,OAClD,yBAAKsmB,IAAKkhC,QAEZ,kBAACzJ,GAAA,EAAD,CAAMkJ,GAAI,EAAGC,GAAI,EAAG7hC,MAAI,GACtB,kBAACnjB,EAAA,EAAD,CAAKklD,GAAI,EAAG/lC,EAAG,GACb,kBAACnf,EAAA,EAAD,CAAK66B,GAAI,GACP,kBAAC7gC,EAAA,EAAD,KACE,0BAAM2oB,UAAWP,EAAQiiC,gBAAiBE,EAAE,WAA5C,qBAMV,kBAACgB,GAAD,QCzJS,eAAoC,IAAD,MAAhCxa,eAAgC,MAAtB,GAAsB,EAAlBya,EAAkB,EAAlBA,YACxBC,EAAY,yCAAG,WAAOx+B,GAAP,UAAAhzB,EAAA,sDACnBb,QAAQC,IAAI,mBAAoB4zB,GAChCu+B,EAAYv+B,GAFO,2CAAH,sDAIZ0N,EAAM,iBAAGoW,QAAH,IAAGA,OAAH,EAAGA,EAASpW,cAAZ,QAAsB,GAE5B+wB,EAAK,GACX/wB,EAAOhgC,KACL,SAAC22C,GAAD,OAAQoa,EAAGpa,EAAE12C,KA2Ff,SAA0BiC,EAAMg+B,EAAa38B,GAC3C,IACE,IAOIsyB,EAPa,CACfm7B,OAAQ3oD,OAAaxD,QACnB,8BACA,8BAEFslC,MAAO9hC,QAEQnG,GAWjB,OATApC,OAAOwsC,KAAKpM,GAAalgC,KAAI,SAACswC,GAC5B,OAAQA,GACN,IAAK,WACHza,EAAIA,EAAEvtB,SAAF,UAAc/E,EAAd,iBACJ,MACF,IAAK,YACHsyB,EAAIA,EAAE6Y,IAAInB,SAASrN,EAAYoQ,GAAI,SAGlCza,EACP,MAAOwI,GACP5/B,QAAQ4H,MAAMg4B,IAjHI4yB,CAAiBta,EAAEz0C,KAAMy0C,EAAEzW,YAAayW,EAAEpzC,UAGhE,IAAM2tD,EAAkB,CACtBF,OAAQ,SAACpyD,GACP,OACE,kBAACiL,GAAA,EAAD,CACEvE,MAAO,CAAE2oB,KAAM,GACfhkB,SAAQ,OAAErL,QAAF,IAAEA,OAAF,EAAEA,EAAO2J,aACjBjI,MAAK,OAAE1B,QAAF,IAAEA,OAAF,EAAEA,EAAO0B,MACd6J,YAAW,OAAEvL,QAAF,IAAEA,OAAF,EAAEA,EAAOuL,YACpBw+B,UAAS,OAAE/pC,QAAF,IAAEA,OAAF,EAAEA,EAAO+pC,UAClB5+B,SAAQ,OAAEnL,QAAF,IAAEA,OAAF,EAAEA,EAAOuyD,SACjB9qD,OAAY,OAALzH,QAAK,IAALA,OAAA,EAAAA,EAAOgK,UAAWmlB,QAAO,OAACnvB,QAAD,IAACA,OAAD,EAACA,EAAOyH,OACxC+D,YAAiB,OAALxL,QAAK,IAALA,OAAA,EAAAA,EAAOgK,UAAWhK,EAAMyH,SAI1C8jC,MAAO,SAACvrC,GACN,OACE,kBAACgoC,GAAA,EAAD,CACEtmC,MAAK,OAAE1B,QAAF,IAAEA,OAAF,EAAEA,EAAO0B,MACdkiD,aAAa,EACbt3B,OAAM,OAAEtsB,QAAF,IAAEA,OAAF,EAAEA,EAAOssB,OACf5f,MAAK,OAAE1M,QAAF,IAAEA,OAAF,EAAEA,EAAO0M,MACdrB,SAAU,SAACmB,GAAD,cAAOxM,QAAP,IAAOA,OAAP,EAAOA,EAAO06B,cAAP,OAAqB16B,QAArB,IAAqBA,OAArB,EAAqBA,EAAOqB,IAAKmL,IAClD47B,gBAAiB,YACjB0D,QAAS,KACTrjC,MAAW,OAALzI,QAAK,IAALA,OAAA,EAAAA,EAAOqB,KAAMm2C,EAAQ3rC,OAM7B2mD,EAAS/oD,OAAaigC,MAAMyoB,GA3Cc,EAqD5C7oD,aAAU,CACZC,cAAerI,OAAOC,OAAP,MAAAD,OAAM,CAAQ,IAAR,oBAAekgC,EAAOhgC,KAAI,SAAC22C,GAAD,sBAAWA,EAAE12C,IAAM,UAClE4F,SAAUirD,EACV1oD,iBAAkBgpD,IAVlB3oD,EA9C8C,EA8C9CA,aACAF,EA/C8C,EA+C9CA,aACAG,EAhD8C,EAgD9CA,OACAE,EAjD8C,EAiD9CA,QACAD,EAlD8C,EAkD9CA,OACA2rC,EAnD8C,EAmD9CA,gBACAhb,EApD8C,EAoD9CA,cAMF,OACE,6BACE,0BAAMzzB,SAAU4C,GACbu3B,EAAOhgC,KAAI,SAAC22C,GAAD,aACV,kBAACtrC,EAAA,EAAD,CAAKpL,IAAK02C,EAAE12C,KACV,kBAACoF,EAAA,EAAD,CAAYC,MAAO,CAAE2oB,KAAM,GAAKziB,QAAQ,SACrCmrC,EAAEpzC,OAEL,yBACE+B,MAAO,CACLkG,QAAS,OACT0kB,cAAe,MACfjC,KAAM,IAEPijC,EAAgBva,EAAEz0C,MAAlB,aACCmF,KAAI,OAAEsvC,QAAF,IAAEA,OAAF,EAAEA,EAAG12C,IACTsjC,UAAS,OAAEoT,QAAF,IAAEA,GAAF,UAAEA,EAAG1W,oBAAL,aAAE,EAAiBsD,UAC5BtjC,IAAG,OAAE02C,QAAF,IAAEA,OAAF,EAAEA,EAAG12C,IACRK,MAAOoI,EAAM,OAACiuC,QAAD,IAACA,OAAD,EAACA,EAAG12C,KACjBsI,aAAcA,EAAY,OAACouC,QAAD,IAACA,OAAD,EAACA,EAAG12C,KAC9Bq5B,cAAeA,EACfgb,gBAAiBA,EACjB1rC,QAASA,EAAO,OAAC+tC,QAAD,IAACA,OAAD,EAACA,EAAG12C,KACpBsD,MAAK,OAAEozC,QAAF,IAAEA,OAAF,EAAEA,EAAGpzC,MACV4G,YAAW,OAAEwsC,QAAF,IAAEA,OAAF,EAAEA,EAAGxsC,YAChB+gB,OAAM,OAAEyrB,QAAF,IAAEA,OAAF,EAAEA,EAAGzW,YAAYhV,OACvBmmC,UAAWjb,EAAQ3rC,GACnBpE,MAAOsC,EAAM,OAACguC,QAAD,IAACA,OAAD,EAACA,EAAG12C,KACjBqL,MAAK,OAAEqrC,QAAF,IAAEA,OAAF,EAAEA,EAAGzW,YAAY50B,OAdvB,OAeIqrC,QAfJ,IAeIA,OAfJ,EAeIA,EAAGzW,mBAKd,kBAACv0B,GAAA,EAAD,CAAQpG,QAAQ,YAAYD,MAAO,CAAEmE,aAAc,IAAMvH,KAAK,UAA9D,QAGA,gC,UCpEFkG,GAAmBC,OAAaigC,MAAM,CAC1CzI,SAAUx3B,OACPC,SAAS,6CACTmmC,IAAI,KAGM,YAAC7vC,GAAmB,IAAD,EACoBy9B,cAA5ClC,MAASkhB,GADe,aACa,GADb,GACfA,cAAexb,EADA,EACAA,SAC1B15B,EAAUC,cACR82B,EAAQpM,eAARoM,IACAj3B,EAAoBC,eAApBD,gBAJwB,EAKEpH,mBAAc,IALhB,mBAKzByyD,EALyB,KAKdC,EALc,OAgB5BrpD,aAAU,CACZC,cAAe,CACb03B,SAAU,GACV6W,aAAc,YACdF,eAAgB,EAChBgb,eAAgB,OAChBjb,iBAAkB,QAEpBnuC,oBACAvC,SAAS,WAAD,8BAAE,WAAO+uB,GAAP,gCAAAt1B,EAAA,kEAQEi3C,EAA+F3hB,EAA/F2hB,iBAAkBib,EAA6E58B,EAA7E48B,eARpB,EAQiG58B,EAA7D4hB,sBARpC,MAQqD,EARrD,EAQwD3W,EAAyCjL,EAAzCiL,SARxD,EAQiGjL,EAA/B8hB,oBARlE,MAQiF,YARjF,GASF4a,EAAUr+B,OATR,uBAUJx0B,QAAQC,IAAI,mBAAoB4yD,EAAWjW,GAVvC,SAWE1uC,QAAQ0B,IACZijD,EAAUtxD,IAAV,yCAAc,WAAOwkC,GAAP,kBAAAllC,EAAA,6DACN+2C,EAAYv2C,OAAOwsC,KAAK9H,GAAG,GADrB,SAENtH,EAAIlR,OAAO,CACfkH,gBAAe,iBAAEmoB,QAAF,IAAEA,OAAF,EAAEA,EAAe5wC,UAAjB,QAAuB,GACtC4rC,UAAWA,EACXC,YAAa,CACXC,mBACAC,iBACAgb,kBAEFl/B,KAAMkS,EAAE6R,KAVE,2CAAd,wDAZE,gCA0BGlwC,EAAQiqB,KAAK,eA1BhB,cA6BAonB,EAAOC,IAA4B,OAAb4D,QAAa,IAAbA,OAAA,EAAAA,EAAe5wC,KAAM,GAAtB,OAA0Bo1B,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAU7/B,KAAI,SAACqxD,GAAD,cAAgB,CACjF9a,mBACAC,iBACAxW,QAAqB,OAAbqb,QAAa,IAAbA,GAAA,UAAAA,EAAexb,gBAAf,mBAAyB7M,MAAK,oBAAGvoB,GAAH,OAAiB4mD,UAAjB,MAAQ,GAAR,aAA9B,eAAkErxB,SAAU,GACpFv1B,GAAI4mD,EACJ3a,oBAlCI,UAoCA/pC,QAAQ0B,IAAR,OAAYmpC,QAAZ,IAAYA,OAAZ,EAAYA,EAAMx3C,IAAN,yCAAU,WAAOsyB,GAAP,UAAAhzB,EAAA,sEAAsB49B,EAAIlR,OAAO,CAC3DsG,KAAI,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAMA,KACZ+jB,UAAS,OAAE/jB,QAAF,IAAEA,OAAF,EAAEA,EAAM+jB,UACjBnjB,gBAAe,OAAEZ,QAAF,IAAEA,OAAF,EAAEA,EAAMY,gBACvBojB,YAAW,OAAEhkB,QAAF,IAAEA,OAAF,EAAEA,EAAMgkB,cAJO,mFAAV,wDApCZ,QA0CNnwC,EAAQiqB,KAAK,aAAc,CACzBzqB,QAAS,wGAEXQ,EAAQiqB,KAAK,cA7CP,kDA+CNnqB,EAAe,QAAE,EAAF,yBAAC,EAAcN,QAAS,CAAEJ,QAAS,UA/C5C,0DAAF,mDAAC,KAlBTgD,EAP8B,EAO9BA,aACAC,EAR8B,EAQ9BA,WACAC,EAT8B,EAS9BA,aACAC,EAV8B,EAU9BA,OACAC,EAX8B,EAW9BA,OACAC,EAZ8B,EAY9BA,QACA0wB,EAb8B,EAa9BA,cACAgb,EAd8B,EAc9BA,gBACAhP,EAf8B,EAe9BA,aAqFF,OACE,6BACE,kBAACj6B,EAAA,EAAD,CAAKomD,GAAG,OAEN5rD,SAAU4C,EACV+hB,EAAG,EAAG+lC,GAAI,GACV,kBAAClmD,GAAA,EAAD,CACE/B,UAAQ,EACRjC,SAAUuC,EAAQi3B,WAAYl3B,EAAOk3B,UACrC32B,UAAU,YACV,kBAAC+8B,GAAA,EAAD,CAAW/8B,UAAU,UAArB,mBACA,kBAACwoD,GAAA,EAAD,CAAWttB,KAAG,GAAd,OACGvE,QADH,IACGA,OADH,EACGA,EAAU7/B,KAAI,SAACwuB,EAAMC,GAAP,iBACb,kBAAC4V,GAAA,EAAD,CACEpkC,IAAKwuB,EACL6V,QACE,kBAAC2lB,GAAA,EAAD,CACE3f,QAASvc,QAAO,oBACdrlB,EAAOm3B,gBADO,iBACd,EAAiBxM,QAAO,SAACgjB,GAAD,aAAe,iBAAC7nB,QAAD,IAACA,OAAD,EAACA,EAAM/jB,UAAP,QAAa,MAAQ4rC,YAD9C,aACd,EACIpjB,cAFU,UAIhBhpB,SAAU,cAAGyvB,OAAU4Q,QAAb,OA5CA,SAAC+mB,EAAmB/mB,GAAsB,IAAD,IAW5D,GAVPgK,EAAgB,YAAY,GACVvmB,QAAO,oBACvBrlB,EAAOm3B,SAASxM,QAAO,SAAC5oB,GAAD,OAAQA,IAAO4mD,YADf,aACvB,EAAkDp+B,cAD3B,WAKvBqG,EACE,WACA5wB,EAAOm3B,SAASxM,QAAO,SAAC5oB,GAAD,OAAQA,IAAO4mD,MAIxC/3B,EAAc,WAAD,uBACR5wB,EAAOm3B,UADC,QAEXA,QAFW,IAEXA,GAFW,UAEXA,EAAU7M,MAAK,qBAAGvoB,KAAgB4mD,YAFvB,aAEX,EAA8C5mD,MA8BhCknD,CAAmB,OAACnjC,QAAD,IAACA,OAAD,EAACA,EAAM/jB,OAIhClH,MAAK,OAAEirB,QAAF,IAAEA,OAAF,EAAEA,EAAM2E,YAInB,kBAAChoB,GAAA,EAAD,CAAgB9E,SAAUuC,EAAQi3B,WAAYl3B,EAAOk3B,WAClDl3B,EAAOk3B,WAGZ,6BACA,kBAACx1B,GAAA,EAAD,CAAanB,UAAU,YACrB,kBAAC+8B,GAAA,EAAD,CAAW/8B,UAAU,UAArB,kBACA,kBAACi7B,GAAA,EAAD,CACEp5B,aAAW,eACX1D,KAAK,eACL/G,MAAOoI,EAAOguC,aACdzsC,SAAU1B,GACV,kBAAC87B,GAAA,EAAD,CACE/jC,MAAM,YACNgkC,QAAS,kBAACC,GAAA,EAAD,MACThhC,MAAM,eAER,kBAAC8gC,GAAA,EAAD,CACE/jC,MAAM,SACNgkC,QAAS,kBAACC,GAAA,EAAD,MACThhC,MAAM,aAIa,WAAxBmF,EAAOguC,mBAA+C5qC,IAAlBuvC,EACnC3yC,EAAOm3B,SAAS7/B,KAAI,SAACo2C,GAAD,aAClB,kBAAC,GAAD,CAEEnE,MAAM,EACNmE,QAAO,OAAEiF,QAAF,IAAEA,GAAF,UAAEA,EAAexb,gBAAjB,aAAE,EAAyB7M,MAAK,qBAAGvoB,KAAgB2rC,KAC1Dya,YAAa,SAAC7N,GAAD,OA/DJ1wB,EA+D4B0wB,EA/DjBqO,EA+DoBjb,OA9DlDmb,EAAa,GAAD,oBAAKD,GAAL,gBAAmBD,EAAY/+B,MADzB,IAACA,EAAW++B,QAkExB,8BAGF,kBAAChnD,GAAA,EAAD,CAAaH,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC5C,kBAAC+E,GAAA,EAAD,CAAYC,QAAQ,oBAApB,iBACA,kBAAC8+B,GAAA,EAAD,CACEhiC,KAAM,mBACN/G,MAAOoI,EAAO6tC,iBACdhtC,OAAO,QACPS,OAAQxB,EACRyB,SAAU1B,EACVlC,MAAOuC,EAAQ2tC,oBAAsB5tC,EAAO4tC,iBAC5CrsC,WAAS,EACTC,YAAa,oBACb5G,MAAM,gBACNgC,QAAS,WACTulC,WAAY,CACVzjC,KAAM,mBACNoD,GAAI,qBAEN,kBAAC0lB,EAAA,EAAD,CAAUplB,aAAW,OAAOzK,MAAM,KAClC,kBAAC6vB,EAAA,EAAD,CAAU7vB,MAAO,QAAjB,QACA,kBAAC6vB,EAAA,EAAD,CAAU7vB,MAAO,QAAjB,UA0BJ,kBAACuJ,GAAA,EAAD,CACExC,KAAM,iBACNkC,OAAO,QACPjJ,MAAOoI,EAAO8tC,eACdjzC,MAAM,kBACNyG,OAAQxB,EACRyB,SAAU1B,EACVlC,MAAOuC,EAAQ4tC,kBAAoB7tC,EAAO6tC,eAC1CtsC,WAAS,EACThI,KAAM,SACNqD,QAAS,WACT4E,YAAY,oBA4Bd,kBAACkB,EAAA,EAAD,CAAKklD,GAAI,GACP,kBAAC5kD,GAAA,EAAD,CACEI,WAAYu5B,EACZzhC,MAAM,UACN0B,QAAQ,YAERyF,QAAS,kBAAIvC,KACbmB,SAAS,eC7PN,kBACb,IAAMgoD,EALC,IAAIx1B,gBAAgBC,cAAcC,QAItB,EAEKD,cAAhBlC,aAFW,MAEH,GAFG,IAG0Br1B,cAArCC,EAHW,EAGXA,KAAMyH,EAHK,EAGLA,0BACR5G,GAAS,OAACu0B,QAAD,IAACA,OAAD,EAACA,EAAQv0B,QAASgsD,EAAMr1B,IAAI,UAAY,GACjD52B,GAAW,OAACw0B,QAAD,IAACA,OAAD,EAACA,EAAQx0B,UAAWisD,EAAMr1B,IAAI,YAAc,GAE7D,OAAIx3B,IAASyH,EACJ,kBAAC,IAAD,CAAUrH,GAAG,UAGpB,kBAACkG,EAAA,EAAD,CAAK/F,MAAO,CACVkG,QAAS,OAAQ0f,OAAQ,OACzBxf,eAAgB,SAChBD,WAAY,SACZykB,cAAe,WAEf,kBAAC7qB,EAAA,EAAD,CACEE,QAAQ,KACRD,MAAO,CACLkmC,UAAW,SACX/hC,aAAc,GACd1G,WAAY,IACZJ,SAAU,SACVC,WAAY,YAPhB,WAWA,kBAAC6wB,GAAA,EAAD,CAAOnuB,MAAO,CAAE+lB,WAAY,GAAIrf,YAAa,KAC3C,kBAACmB,GAAD,CAAgBxH,QAASA,EAASC,MAAOA,KAE3C,kBAACgrD,GAAD,CAAU1qB,GAAI,M,WCrDd2rB,GAAW,WAAO,IAAD,EACa9tD,IADb,mBACdE,EADc,KACPE,EADO,OAEuBW,cAApC0H,EAFa,EAEbA,0BACFslD,GAHe,EAEc/sD,KAClBxE,mBAAQ,iBAAe,SAAT0D,EAAmBP,EAAa3B,IAAW,CAACkC,KAC3E,OAAKE,GAAoBqI,EAChB,kBAACnB,EAAA,EAAD,CAAK/F,MAAO,CAAE4lB,OAAQ,OAAQ3hB,OAAQ,EAAGiC,QAAS,OAAQE,eAAgB,SAAUD,WAAY,WACrG,kBAACQ,GAAA,EAAD,CAAkBpI,MAAM,aAI1B,kBAACwH,EAAA,EAAD,CAAK/F,MAAO,CAAE4lB,OAAQ,OAAQ3hB,OAAQ,IACpC,kBAACwoD,GAAA,EAAD,CAAe9tD,MAAO6tD,GACpB,kBAAC,KAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOtyB,OAAK,EAAC/xB,KAAK,IAChB+wB,OAAQ,SAAC5/B,GAAD,OACN,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWgnD,GAAS/8B,MAAM,QAElD,kBAAC,IAAD,CAAO1lB,KAAK,SAAS+xB,OAAK,EACxBhB,OAAQ,SAAC5/B,GAAD,OACN,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW8oD,GAAM7+B,MAAM,aAG/C,kBAAC,IAAD,CAAO1lB,KAAK,WAAW+xB,OAAK,EAC1BhB,OAAQ,SAAC5/B,GAAD,OACN,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAW+oD,GAAS9+B,MAAM,gBAGlD,kBAAC++B,EAAD,CAAczkD,KAAK,QACjB+wB,OAAQ,SAAC5/B,GAAD,OACN,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWipD,GAASh/B,MAAM,YAGlD,kBAAC,IAAD,CAAO1lB,KAAK,IACV+wB,OAAQ,SAAC5/B,GAAD,OACN,kBAAC6gC,GAAD,CAAM7gC,MAAOA,EAAOsK,UAAWkpD,GAAUj/B,MAAM,4BAUhD,cACb,OACE,kBAACnvB,EAAD,KACE,kBAAC,KAAD,KACE,kBAAC,KAAD,CAAkBquD,SAAU,EAAGxiC,aAAc,CAC3CC,SAAU,SACVC,WAAY,UAGZ,kBAAC,KAAD,KACE,kBAAC,IAAD,KACE,kBAACzjB,GAAD,KACE,kBAAC,GAAD,aClEIyhB,QACW,cAA7BxpB,OAAOm5B,SAAS40B,UAEe,UAA7B/tD,OAAOm5B,SAAS40B,UAEhB/tD,OAAOm5B,SAAS40B,SAASC,MACvB,2D,4CCVNC,KAGKC,IAAIC,MAGJD,IAAIE,MAEJF,IAAIG,MAGJvzD,KAAK,CACFwzD,YAAa,KACbC,OAAO,EACPC,UAfU,CAAC,MAiBXC,cAAc,EACdC,cAAe,CACXC,aAAa,KAGVV,GAAf,ECZAW,IAAS30B,OACP,kBAAC,WAAD,CAAU40B,SAAU,kBAAC/nD,EAAA,EAAD,CAAK/F,MAAO,CAAEkG,QAAS,OAAQ0f,OAAQ,OAAQ5f,MAAO,OAAQG,WAAY,SAAUC,eAAgB,WAAY,kBAACO,GAAA,EAAD,CAAkBpI,MAAM,UAAUgI,KAAM,OAC1K,kBAAC,IAAMwnD,WAAP,KACE,kBAACvpC,GAAD,KACE,kBAACwpC,GAAD,SAINzkC,SAAS0kC,eAAe,SF0GpB,kBAAmBv5B,WACrBA,UAAUw5B,cAAcC,MACrB3lD,MAAK,SAAA4lD,GACJA,EAAaC,gBAEdx0B,OAAM,SAAA94B,GACL5H,QAAQ4H,MAAMA,EAAMV,a,wQGzIfiuD,EAAc,SAAAp4B,GAAG,OAC1B,IAAI7uB,SAAQ,SAACC,EAASC,GAClB,IAAMs9B,EAAQ,IAAIlG,MAClBkG,EAAM2S,iBAAiB,QAAQ,kBAAMlwC,EAAQu9B,MAC7CA,EAAM2S,iBAAiB,SAAS,SAAAz2C,GAAK,OAAIwG,EAAOxG,MAChD8jC,EAAM1a,IAAM+L,MAGpB,SAASq4B,EAAeC,GACpB,OAAQA,EAAc9hC,KAAK+hC,GAAM,IAE9B,IAAMC,EAA+B,SAAC,GAAuB,IAArB1oD,EAAoB,EAApBA,MAAO4f,EAAa,EAAbA,OAClD,OAAQ8G,KAAKiiC,KAAK3oD,EAAQA,EAAQ4f,EAASA,IAQxC,SAAegpC,EAAtB,oC,4CAAO,WAA6BC,EAAUC,GAAvC,mDAAA90D,EAAA,6DAAkD+0D,EAAlD,+BAA6D,EAA7D,6BAAkE/oD,aAAlE,MAA0E,EAA1E,MAA6E4f,cAA7E,MAAsF,EAAtF,WACiB0oC,EAAYO,GAD7B,cACGhqB,EADH,OAEGmqB,EAASzlC,SAAS8tB,cAAc,UAChC4X,EAAMD,EAAOE,WAAW,MAC9BlpD,EAAQiiC,SAAS,GAAD,OAAIjiC,GAAS,IAC7B4f,EAASqiB,SAAS,GAAD,OAAIriB,GAAU,IACzBupC,EAAiD,EAAtCziC,KAAK0c,IAAIvE,EAAM7+B,MAAO6+B,EAAMjf,QAG7CopC,EAAOhpD,MAAQmpD,EACfH,EAAOppC,OAASupC,EAChBF,EAAIG,YACJH,EAAII,KAAK,EAAG,EAAGL,EAAOhpD,MAAOgpD,EAAOppC,QACpCqpC,EAAIK,UAAY,QAChBL,EAAIv+B,OAEJu+B,EAAIM,UAAUJ,EAAW,EAAGA,EAAW,GACvCF,EAAIO,OAAOjB,EAAeQ,IAC1BE,EAAIM,WAAWJ,EAAW,GAAIA,EAAW,GAGzCF,EAAIQ,UACA5qB,EACAsqB,EAAW,EAAkB,GAAdtqB,EAAM7+B,MACrBmpD,EAAW,EAAmB,GAAftqB,EAAMjf,QAEnBoH,EAAOiiC,EAAIS,aAAa,EAAG,EAAGP,EAAUA,GAG9CH,EAAOhpD,MAAQ8oD,EAAU9oD,MACzBgpD,EAAOppC,OAASkpC,EAAUlpC,OAC1BqpC,EAAIG,YACJH,EAAII,KAAK,EAAG,EAAGL,EAAOhpD,MAAOgpD,EAAOppC,QACpCqpC,EAAIK,UAAY,QAChBL,EAAIv+B,OAEJu+B,EAAIU,aACA3iC,EACA,EAAImiC,EAAW,EAAkB,GAAdtqB,EAAM7+B,MAAc8oD,EAAUt+B,EACjD,EAAI2+B,EAAW,EAAmB,GAAftqB,EAAMjf,OAAekpC,EAAUv+B,GAGlDq/B,EAAarmC,SAAS8tB,cAAc,UACpCwY,EAAOD,EAAWV,WAAW,MACjCU,EAAW5pD,MAAQA,EACnB4pD,EAAWhqC,OAASA,EACpBiqC,EAAKT,YACLS,EAAKR,KAAK,EAAG,EAAGrpD,EAAO4f,GACvBiqC,EAAKP,UAAY,QACjBO,EAAKn/B,OACLm/B,EAAKJ,UAAUT,EAAQ,EAAG,EAAGhpD,EAAO4f,GAlDjC,kBAmDIgqC,EAAWE,UAAU,YAAa,IAnDtC,6C,sBA6DA,SAASC,EAASz8B,GACrB,OAAO,IAAIjsB,SAAQ,SAAAC,GACf,IAAM0oD,EAAS,IAAIC,WACnBD,EAAOxY,iBAAiB,QAAQ,kBAAMlwC,EAAQ0oD,EAAO31D,WAAS,GAC9D21D,EAAOE,cAAc58B,MAGtB,IAAM68B,EAAuB,CAChC,EAAK,IACL,EAAK,GACL,GAAM,IAEH,SAAeC,EAAtB,kC,4CAAO,WAA+BvB,GAA/B,iCAAA70D,EAAA,6DAAyC+0D,EAAzC,+BAAoD,EAApD,SACiBT,EAAYO,GAD7B,cACGhqB,EADH,OAEGmqB,EAASzlC,SAAS8tB,cAAc,UAChC4X,EAAMD,EAAOE,WAAW,MAGb,KAAbH,IAAiC,KAAdA,GAAiC,MAAbA,IAAkC,MAAdA,GAE3DC,EAAOhpD,MAAQ6+B,EAAMjf,OACrBopC,EAAOppC,OAASif,EAAM7+B,QAEtBgpD,EAAOhpD,MAAQ6+B,EAAM7+B,MACrBgpD,EAAOppC,OAASif,EAAMjf,QAG1BqpC,EAAIM,UAAUP,EAAOhpD,MAAQ,EAAGgpD,EAAOppC,OAAS,GAChDqpC,EAAIO,OAAQT,EAAWriC,KAAK+hC,GAAM,KAClCQ,EAAIQ,UAAU5qB,GAAQA,EAAM7+B,MAAQ,GAAI6+B,EAAMjf,OAAS,GAjBpD,kBAmBI,IAAIve,SAAQ,SAAAC,GACf0nD,EAAOqB,QAAO,SAAA/8B,GACVhsB,EAAQy+B,IAAIC,gBAAgB1S,MAC7B,kBAtBJ,6C,uOCtEDg9B,GAJW,IAAInuD,IAASC,KAAKmuD,mBAIJ,CAC7BjvD,mBAAmB,WAAD,4BAAE,sBAAAtH,EAAA,+EAAYb,QAAQC,IAAI,4BAAxB,2CAAF,kDAAC,GACnBgI,eAAgB,kBAAMjI,QAAQC,IAAI,6BAClC+H,wBAAwB,WAAD,4BAAE,sBAAAnH,EAAA,+EAAYb,QAAQC,IAAI,qBAAxB,2CAAF,kDAAC,GACxBu5B,YAAY,WAAD,4BAAE,sBAAA34B,EAAA,+EAAYb,QAAQC,IAAI,6BAAxB,2CAAF,kDAAC,GACZovB,QAAS,kBAAMrvB,QAAQC,IAAI,cAC3BiI,eAAe,WAAD,4BAAE,sBAAArH,EAAA,gFAAY,GAAZ,2CAAF,kDAAC,GACfm3B,YAAa,kBAAMh4B,QAAQC,IAAI,4BAC/BqG,KAAM,KACN+wD,cAAc,EACd9wD,eAAe,EACf+rB,MAAO,GACPzjB,SAAS,EACTd,2BAA2B,IAEvBupD,EAAc13D,wBAAoBu3D,GAExC,SAAS9wD,IACP,IAAMvG,EAAUC,qBAAWu3D,GAI3B,OAHKx3D,GACHE,QAAQC,IAAI,8CAEPH,EAGT,SAASy3D,EAAap3D,GAAgB,IAAD,EACTC,mBAAiB,IADR,mBAC5BkyB,EAD4B,KACrBklC,EADqB,KAE7B9vD,EAAUC,cACRH,EAAoBC,cAApBD,gBAH2B,EAIqC6qB,cAAhEoH,EAJ2B,EAI3BA,KAAMg+B,EAJqB,EAIrBA,WAAmBC,EAJE,EAITplC,MAA2BqlC,EAJlB,EAIQH,SAJR,EAKXp3D,mBAAqB,MALV,mBAK5BkG,EAL4B,KAKtBsxD,EALsB,OAM+Bx3D,oBAAkB,GANjD,mBAM5B2N,EAN4B,KAMD8pD,EANC,OAOOz3D,oBAAkB,GAPzB,mBAO5BmG,EAP4B,KAObuxD,EAPa,OAQK13D,oBAAS,GARd,mBAQ5Bi3D,EAR4B,KAQdU,EARc,OAST33D,mBAAuB,MATd,mBASrByH,GATqB,aAUazH,oBAAkB,GAV/B,mBAU5B43D,EAV4B,KAUVC,EAVU,OAWX73D,mBAAiB,IAXN,mBAW5BwI,EAX4B,KAWtBm4C,EAXsB,KAY7BmX,EAAqB,SAACC,GAC1BL,GAAiB,GACbK,EACFA,EAAEC,YAAW,GAAM/oD,MAAK,SAACxN,GACvB21D,EAAS31D,GACT+1D,EAAQO,GACRJ,GAAgB,GAChBF,GAA6B,MAC5Bn3B,SAGH82B,EAAS,IACTI,EAAQ,MACRE,GAAiB,GACjBD,GAA6B,KAIjCl3D,qBAAU,WACJ+2D,IAAaplC,GACfqlC,EAAerlC,KAEhB,CAACA,EAAOolC,IAEX/2D,qBAAU,WAaE,IAAD,EAZL82D,GAAcnxD,GAAQC,IACpByxD,EAEFv+B,EAAKqE,IAAL,OAASx3B,QAAT,IAASA,OAAT,EAASA,EAAM+zB,KAAKhrB,MAAK,SAACwkB,GACxBikC,GAAiB,GACjBF,EAAQzuD,IAAaC,YAAb,2BAAgC9C,GAASutB,GAAS,SACzD6M,OAAM,SAACtB,GACR04B,GAAiB,GACjBjwD,EAASu3B,GACT53B,EAAgB,sBAAuB,CAAEV,QAAS,aAKpD2yB,EAAKlM,OAAO,CAAE3kB,MAAM,UAAAO,IAAaC,mBAAb,eAA0B6wB,cAAerxB,IAAQyG,MAAK,YAAe,IAAZwkB,EAAW,EAAXA,KAC3EikC,GAAiB,GACjBG,GAAoB,GACpBL,EAAQzuD,IAAaC,YAAb,2BAAgC9C,GAASutB,GAAS,SACzD6M,OAAM,SAACtB,GACR04B,GAAiB,GACjBtwD,EAAgB,wBAAyB,CAAEV,QAAS,UACpDe,EAASu3B,SAId,CAAC44B,EAAkBzxD,EAAeD,EAAMmzB,EAAMg+B,EAAY7uD,IAG7DjI,qBAAU,WAER,OADmBwI,IAAa+uD,mBAAmBA,KAElD,IAEH,IAAMr2D,EAAcC,mBAAQ,WAE1B,IAAMqG,EAAkB,uCAAG,WACzBhB,EACAwB,GAFyB,eAAA9H,EAAA,sEAKvBk3D,GAAgB,GALO,SAMjB5uD,IAAakvD,2BAA2BlxD,EAAOwB,GAN9B,6DAQvBovD,GAAgB,GACV,IAAIvuD,MAAJ,mCAAU,EAAkBtC,SATX,yDAAH,wDAYlBmoB,EAAO,uCAAG,sBAAAxuB,EAAA,+EAENsI,IAAakmB,UAFP,OAGZ3nB,EAAQiqB,KAAK,UACbimC,EAAQ,MACRJ,EAAS,IALG,iEAONruD,IAAakmB,UAPP,QAQZuoC,EAAQ,MACRJ,EAAS,IATG,yDAAH,qDAaPh+B,EAAW,uCAAG,WAAO8+B,GAAP,eAAAz3D,EAAA,oEAER,OAAJyF,QAAI,IAAJA,OAAA,EAAAA,EAAM+zB,MAAQi+B,EAFF,wBAGdR,GAAiB,GAHH,SAIKr+B,EAAKqE,IAAL,OAASx3B,QAAT,IAASA,OAAT,EAASA,EAAM+zB,KAJpB,OAIRxG,EAJQ,OAKdikC,GAAiB,GACjBF,EAAQzuD,IAAaC,YAAb,2BAAiCD,IAAaC,aAAe,IAAQyqB,GAAS,MANxE,wBASd+jC,EAAQzuD,IAAaC,YAAb,2BAAiCD,IAAaC,aAAe,IAAQkvD,GAAgB,MAT/E,0DAYhB9wD,EAAgB,oBAAqB,CACnCV,QAAS,UAEXgxD,GAAiB,GAfD,0DAAH,sDAkBX5vD,EAAc,uCAAG,WAAOf,GAAP,SAAAtG,EAAA,+EAEb44B,EAAKqE,IAAI32B,GAAS,IAFL,cAGnB8wD,GAAoB,GAHD,mBAIZ,GAJY,uCAOnBA,GAAoB,GAPD,mBAQZ,GARY,yDAAH,sDAWdhwD,EAAc,uCAAG,WAAOd,GAAP,SAAAtG,EAAA,sEACfsI,IAAaovD,uBAAuBpxD,EAAO,CAAE41B,IAAI,GAAD,OAAKj3B,OAAOm5B,SAASu5B,OAArB,wBAA2CrxD,KAD5E,2CAAH,sDAGd6wB,EAAW,uCAAG,WAAO7wB,GAAP,eAAAtG,EAAA,gFACZsI,IAAaC,mBADD,aACZ,EAA0BqvD,sBAAsB,CAAE17B,IAAI,GAAD,OAAKj3B,OAAOm5B,SAASu5B,OAArB,YADzC,2CAAH,sDAQjB,MAAO,CACLrwD,qBACAknB,UACA9oB,gBACAizB,cACAvxB,iBACAD,wBAX2B,uCAAG,WAAOb,EAAewB,EAAkBC,GAAxC,iBAAA/H,EAAA,sEACPsI,IAAauvD,+BAA+BvxD,EAAOwB,GAD5C,uBACtBrC,EADsB,EACtBA,KACRy6C,EAAQn4C,GAFsB,gBAGxBtC,QAHwB,IAGxBA,OAHwB,EAGxBA,EAAM0zB,cAAc,CAAEC,YAAarxB,IAHX,2CAAH,0DAY3BtC,OACA+wD,eACAnvD,iBACA6F,4BACAukB,QACA0F,cACAnpB,QAAyB,WAAX,OAAJvI,QAAI,IAAJA,OAAA,EAAAA,EAAM6rB,SAEjB,CAAC7rB,EAAMgsB,EAAO/rB,EAAewH,EAA2BspD,IAC3D,OAAO,kBAACC,EAAYv1D,SAAb,eAAsBF,MAAOA,GAAW1B,M,6JCzMpCw4D,EAAU,uCAAE,WAAO1pD,EAAYknB,GAAnB,eAAAt1B,EAAA,sEACAG,MAAMiO,EAAKknB,GADX,WACjB/mB,EADiB,QAETjO,GAFS,4BAEKqI,MAFL,SAEkB4F,EAAShO,OAF3B,yBAEmC8F,QAFnC,uCAGVkI,EAAShO,OAHC,qFAAF,wDCAR,WAAUohD,GACvB,IAAIoW,EAAM,GACV,IAAK,IAAI7sC,KAAKy2B,EACRA,EAAI92B,eAAeK,IACrB6sC,EAAIjnC,KAAKknC,mBAAmB9sC,GAAK,IAAM8sC,mBAAmBrW,EAAIz2B,KAElE,OAAO6sC,EAAIlhB,KAAK,MCFH,SAASjZ,EAAIq6B,EAAiB3pD,GAC3C,MAAO,CACLowB,OAAO,WAAD,4BAAE,WACNgB,EACAnzB,EACAquB,EACAs9B,EACAnd,EACAod,GANM,SAAAn4D,EAAA,+EAQC83D,EAAW,GAAD,OACZG,EADY,sBACSv4B,EADT,iBACsBnzB,EADtB,mBACqC2rD,GAAU,cAD/C,oBACwEnd,GAAW,OADnF,YAC6FngB,EAD7F,YACsGw9B,EACnHD,GAAe,KAEjB,CAAEtpD,OAAQ,MAAOP,aAZb,2CAAF,6DAAC,GAiBP2uB,IAAI,WAAD,4BAAE,WAAO9xB,EACVyvB,EACAu9B,GAFG,SAAAn4D,EAAA,+EAII83D,EAAW,GAAD,OACZG,EADY,iBACI9sD,EADJ,aACWyvB,EADX,YACoBw9B,EAAoBD,GAAe,KACtE,CAAEtpD,OAAQ,MAAOP,aANhB,2CAAF,uDAAC,GASJoe,OAAO,WAAD,4BAAE,yCAAA1sB,EAAA,6DACN67C,EADM,EACNA,QACA7oB,EAFM,EAENA,KACAY,EAHM,EAGNA,gBACAmjB,EAJM,EAINA,UACAC,EALM,EAKNA,YACAmQ,EANM,EAMNA,MACAgR,EAPM,EAONA,YAPM,kBAUCL,EAAW,GAAD,OAAIG,EAAJ,gBAAmBE,EAAW,WAAOC,EAAoBD,GAAe,KAAQ,IAAM,CACrGtpD,OAAQ,OACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAL,aACJ8f,UACA7oB,OACAY,kBACAmjB,YACAC,eACImQ,EAAQ,CAAEA,SAAU,QAnBtB,2CAAF,mDAAC,GAwBPluB,OAAO,WAAD,4BAAE,WAAO9tB,EAAY6nB,EAA2BmlC,GAA9C,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OACZG,EADY,iBACI9sD,EADJ,YACUitD,EAAoBD,IAC7C,CACEtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANnB,2CAAF,uDAAC,GAWPs7B,eAAe,WAAD,4BAAE,WAAOt7B,EAA2BmlC,GAAlC,SAAAn4D,EAAA,+EACP83D,EAAW,GAAD,OAAIG,EAAJ,iBAAoBG,EAAoBD,IAAgB,CACvEtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MAJT,2CAAF,qDAAC,GAQf6nB,OAAO,WAAD,4BAAE,WAAO1vC,EAAYgtD,GAAnB,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OACZG,EADY,iBACI9sD,EADJ,YACUitD,EAAoBD,GAAe,KAC5D,CACEtpD,OAAQ,SACRP,aALE,2CAAF,qDAAC,GASPm/C,eAAe,WAAD,4BAAE,WAAOz6B,EAA2BmlC,GAAlC,SAAAn4D,EAAA,+EACP83D,EAAW,GAAD,OAAIG,EAAJ,iBAAoBG,EAAoBD,IAAgB,CACvEtpD,OAAQ,SACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MAJT,2CAAF,qDAAC,GAOf64B,UAAU,WAAD,4BAAE,WACTjxB,EACAu9B,GAFS,SAAAn4D,EAAA,+EAGF83D,EAAW,GAAD,OAAIG,EAAJ,iBAAoBr9B,EAApB,YAA6Bw9B,EAAoBD,IAAgB,CAChFtpD,OAAQ,MACRP,aALO,2CAAF,qDAAC,ICvFC,SAASsqB,EACtBq/B,EACA3pD,GAEA,MAAO,CACLowB,OAAO,WAAD,4BAAE,WAAOgB,EACbnzB,EACA4rD,GAFM,SAAAn4D,EAAA,+EAIC83D,EAAW,GAAD,OACZG,EADY,uBACUv4B,EADV,iBACuBnzB,EADvB,YAC+B6rD,EAC5CD,GAAe,KAEjB,CACEtpD,OAAQ,MACRP,aAVE,2CAAF,uDAAC,GAcP2uB,IAAI,WAAD,4BAAE,WAAO9xB,EAAYgtD,GAAnB,SAAAn4D,EAAA,+EACI83D,EAAW,GAAD,OAAIG,EAAJ,kBAAqB9sD,EAArB,YAA2BitD,EAC1CD,GAAe,KACZ,CACHtpD,OAAQ,MACRP,aALC,2CAAF,qDAAC,GASJusC,OAAO,WAAD,4BAAE,WAAO1vC,EAAY6nB,EAA2BmlC,GAA9C,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OAAIG,EAAJ,kBAAqB9sD,EAArB,YAA2BitD,EAC1CD,IACG,CACHtpD,OAAQ,SACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANjB,2CAAF,uDAAC,GAUPtG,OAAO,WAAD,4BAAE,WAAOsG,EAAyBmlC,GAAhC,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OAAIG,EAAJ,kBAAqBG,EACpCD,IACG,CACHtpD,OAAQ,OACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANjB,2CAAF,qDAAC,GASPiG,OAAO,WAAD,4BAAE,WAAOjG,EAA0BmlC,GAAjC,SAAAn4D,EAAA,+EAKC83D,EAAW,GAAD,OAAIG,EAAJ,kBAAqBG,EACpCD,GAAe,KACZ,CACHtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,GAAQ,OAVzB,2CAAF,qDAAC,GAaP2nB,YAAa,SAACmB,EAAkCqc,GAG9C,OAAOL,EAAW,GAAD,OAAIG,EAAJ,kBAAqBG,EACpCD,GAAe,KACZ,CACHtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU,CAAE+f,yBAG3Buc,eAAgB,SAACC,EAA6CH,GAG5D,OAAOL,EAAW,GAAD,OAAIG,EAAJ,kBAAqBG,EACpCD,GAAe,KACZ,CACHtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU,CAAEu8B,qCC/EhB,SAAS/mC,EACpB0mC,EACA3pD,GAEA,MAAO,CACHglB,gBAAgB,WAAD,4BAAE,WAAOrI,EACpBplB,EACAb,EACAmzD,GAHa,SAAAn4D,EAAA,+EAcN83D,EAAW,GAAD,OACVG,EADU,2BACgBjzD,EADhB,0BACsCimB,EAAK68B,cAD3C,YAC4DjiD,EAAE,wBAAoBA,EAAGiiD,eAAiB78B,EAAK68B,eAAkB,GAD7H,YACmIsQ,EAC5ID,GAAe,KAEnB,CACItpD,OAAQ,MACRP,aApBK,2CAAF,yDAAC,ICLT,SAASuvB,EACpBo6B,EACA3pD,GAEA,MAAO,CACH40B,MAAM,WAAD,4BAAE,WAAO/3B,EAAYyvB,EAAgBu9B,GAAnC,SAAAn4D,EAAA,+EAII83D,EAAW,GAAD,OAAIG,EAAJ,uBAA0B9sD,EAA1B,YAAgCyvB,EAAhC,YAAyCw9B,EACtDD,GAAe,KACd,CACDtpD,OAAQ,MACRP,aARD,2CAAF,uDAAC,GAWNiqD,SAAS,WAAD,4BAAE,sBAAAv4D,EAAA,+EACC83D,EAAW,GAAD,OAAIG,EAAJ,qBAAgC,CAC7CppD,OAAQ,MACRP,aAHE,2CAAF,kDAAC,IChBF,SAASuvB,EACtBo6B,EACA3pD,GAEA,MAAO,CACLowB,OAAO,WAAD,4BAAE,WACNgB,EACAnzB,EACAquB,EACAs9B,EACAnd,EACAod,GANM,SAAAn4D,EAAA,+EAQC83D,EAAW,GAAD,OACZG,EADY,gCACmBv4B,EADnB,iBACgCnzB,EADhC,mBAC+C2rD,EAD/C,oBACiEnd,EADjE,YAC4EngB,EAD5E,YACqFw9B,EAClGD,IAEF,CACEtpD,OAAQ,MACRP,aAdE,2CAAF,6DAAC,GAkBP2uB,IAAI,WAAD,4BAAE,WAAO9xB,EAAYyvB,EAAgBu9B,GAAnC,SAAAn4D,EAAA,+EACI83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8B9sD,EAA9B,YAAoCyvB,EAApC,YAA6Cw9B,EAC5DD,IACG,CACHtpD,OAAQ,MACRP,aALC,2CAAF,uDAAC,GASJoe,OAAO,WAAD,4BAAE,WAAOsG,EAAkCmlC,GAAzC,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8BG,EAC7CD,IACG,CACHtpD,OAAQ,OACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANjB,2CAAF,qDAAC,GAUPiG,OAAO,WAAD,4BAAE,WAAO9tB,EAAY6nB,EAAkCmlC,GAArD,SAAAn4D,EAAA,+EAIC83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8B9sD,EAA9B,YAAoCitD,EACnDD,IACG,CACHtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MATjB,2CAAF,uDAAC,GAYPwlC,WAAW,WAAD,4BAAE,WAAOxlC,EAAkCmlC,GAAzC,SAAAn4D,EAAA,+EACH83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8BG,EAC7CD,IACG,CACHtpD,OAAQ,MACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANb,2CAAF,qDAAC,GAUX6nB,OAAO,WAAD,4BAAE,WAAO1vC,EAAYgtD,GAAnB,SAAAn4D,EAAA,+EACC83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8B9sD,EAA9B,YAAoCitD,EACnDD,IACG,CACHtpD,OAAQ,SACRP,aALI,2CAAF,qDAAC,GAQPmqD,WAAW,WAAD,4BAAE,WAAOzlC,EAAWmlC,GAAlB,SAAAn4D,EAAA,+EACH83D,EAAW,GAAD,OAAIG,EAAJ,2BAA8BG,EAC7CD,IACG,CACHtpD,OAAQ,SACRP,UACAkhB,KAAM5uB,KAAKm7B,UAAU/I,MANb,2CAAF,qDAAC,I,YC3EA0lC,ECOA,SAAChuB,GAAsB,IAAD,EAC3ButB,EAAuBvtB,EAAvButB,QAASU,EAAcjuB,EAAdiuB,UACXrqD,EAAU,CACdwtB,OAAQ,mBACR,eAAgB,mBAChB88B,cAAc,UAAD,OAAYD,IAAS,UAAIrwD,IAAaC,mBAAjB,aAAI,EAA0BgvD,YAAW,MAG7E,MAAO,CACL35B,IAAKA,EAAIq6B,EAAS3pD,GAClBqrC,QAASA,EAAQse,EAAS3pD,GAC1BijB,UAAWA,EAAU0mC,EAAS3pD,GAC9BsqB,KAAMA,EAAKq/B,EAAS3pD,GACpBuvB,cAAeA,EAAco6B,EAAS3pD,K,SCPpCuqD,EAAa95D,wBAAc,2BAEtB25D,EAAI,CACHT,QAAS73D,0BACTu4D,UAAW,MAJS,IAMxB/B,YAAY,EACZnlC,MAAO,GACPklC,SAAU,kBAAMx3D,QAAQC,IAAI,0BASpC,SAASoyB,IAKL,IAAMvyB,EAAUC,qBAAW25D,GAI3B,OAHK55D,GACDE,QAAQC,IAAI,4CAETH,EAGX,SAAS65D,EAAYx5D,GAAgB,IAAD,EACNC,mBAAiB,IADX,mBACzBkyB,EADyB,KAClBklC,EADkB,KAExBp4D,EAAWS,cAAXT,OAFwB,EAGIgB,qBAAoBkyB,GAHxB,mBAGzBmlC,EAHyB,KAGbmC,EAHa,OAIFx5D,mBAC1Bm5D,EAAI,CACAT,QAAS15D,GAAU6B,0BACnBu4D,UAAWlnC,KAPa,mBAIzBunC,EAJyB,KAIhBC,EAJgB,KAWhCn5D,qBAAU,WACF2xB,IACAwnC,EACIP,EAAI,CACAT,QAAS15D,GAAU6B,0BACnBu4D,UAAWlnC,KAEnBsnC,IAAgBtnC,MAErB,CAACA,EAAOlzB,IACX,IAAMyC,EAAQC,mBAAQ,WAClB,OAAO,2BAAK+3D,GAAZ,IAAqBpC,aAAYD,WAAUllC,YAC5C,CAACunC,EAASpC,EAAYnlC,IACzB,OAAO,kBAAConC,EAAW33D,SAAZ,eAAqBF,MAAOA,GAAW1B,M,gCCnElD,iFAsBagJ,GAtBb,uBAqBeH,IAAS+wD,cATD,CACrBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAGWtxD,IAASC,QACxBnI,EAAekI,IAASlI,eACrCA,EAAay5D,SAAW,CACtBC,2BAA4B,EAC5BC,mBAAoB,KAEtB,IAAIC,EAAiD,KACjD1xD,IAAS0xD,UAAUC,iBACrBD,EAAY1xD,IAAS0xD,aACXE,kBACR,2FAGFF,EAAUG,WAAU,SAAUx5B,GAC5BrhC,QAAQC,IAAI,UAAWohC,Q,wCCpC3BigB,EAAOwZ,QAAU,IAA0B,iC,4NCoBrCjqB,EAAapoC,IAAM4jB,YAAW,SAAoBlsB,EAAOosB,GAC7D,OAAO,kBAAC,IAAD,eAAOqD,UAAU,KAAKrD,IAAKA,GAASpsB,OAGvC2sB,EAAYC,aAAW,SAACvnB,GAAD,MAAY,CACvC0nB,OAAQ,CACN9gB,SAAU,WACVqgB,OAAQ,IAEVC,OAAQ,CACNtgB,SAAU,WACVogC,MAAO,QAGLuuB,EAAiBj1D,OAAOk1D,YAAc,IAC7B,gBAAgE,IAAD,IAA5DtvB,EAA4D,EAA5DA,MAAOuvB,EAAqD,EAArDA,SAAUC,EAA2C,EAA3CA,iBAAkBC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACvDpsC,EAAUlC,IAD4D,EAEpD1sB,mBAAS,CAAEi3B,EAAG,EAAGD,EAAG,IAFgC,mBAErEikC,EAFqE,KAE/DC,EAF+D,OAGpDl7D,mBAAS,GAH2C,mBAGrEk2B,EAHqE,KAG/DilC,EAH+D,OAI5Cn7D,mBAAS,GAJmC,mBAIrEw1D,EAJqE,KAI3D4F,EAJ2D,OAK9Cp7D,mBAAS,IALqC,mBAKrEq7D,EALqE,aAM1Br7D,mBAAS,OANiB,mBAMrEs7D,EANqE,KAMlDC,EANkD,KAUtEC,EAAU,uCAAG,sBAAA/6D,EAAA,kEACjBs6D,EADiB,SACF1F,YAAc/pB,EAAOgwB,EAAmB9F,EAAUqF,GADhD,6EAAH,qDAIVY,EAAQ/sB,SAAS,GAAD,wBAAImsB,QAAJ,IAAIA,OAAJ,EAAIA,EAAUpuD,aAAd,QAAuB,KAAO,IAAMiiC,SAAS,GAAD,wBAAImsB,QAAJ,IAAIA,OAAJ,EAAIA,EAAUxuC,cAAd,QAAwB,MACtFqvC,EAAgBf,EAChBgB,EAAeF,EAAQC,EAI3BA,GAFAC,EAAgBj2D,OAAOk2D,WAAa,GAAMD,EAAgBj2D,OAAOk2D,WAAa,GAAMD,GAErDF,EAC/Bl7D,qBAAU,cAEP,IAgBH,OACE,kBAAC,IAAD,CACE8N,MAAI,EACJyiC,YAAU,EACVC,oBAAqBN,EACrBxiC,QAAS,kBAAM6sD,GAAiB,IAChC1sD,kBAAgB,qBAEhB,kBAAC,IAAD,CAAQ+gB,UAAWP,EAAQ9B,QACzB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEzgB,KAAK,QACLrH,MAAM,UACNmH,QAAS6uD,EACT9uD,aAAW,SACX,kBAAC,IAAD,OAEF,yBACEzF,MAAO,CACLkG,QAAS,OACTE,eAAgB,SAChBD,WAAY,SACZwiB,KAAM,SAEP,IACD,yBACE3oB,MAAO,CACLkG,QAAS,OACTE,eAAgB,SAChBD,WAAY,SACZykB,cAAe,MACf5kB,MAAO,IACPC,UAAW,EACX9B,aAAc,EACdF,OAAQ,KAEV,kBAAC,IAAD,CAAYkB,GAAG,OAAOiwD,cAAY,GAAlC,QAIA,kBAAC,IAAD,CACEp1D,MAAO,CACLzB,MAAO,QACPlB,SAAU,GACVwG,QAAS,EACTsrB,cAAe,EACfD,WAAY,KAGhB,kBAAC,IAAD,CACElvB,MAAO,CAAE+lB,WAAY,EAAGxnB,MAAO,SAC/BvD,MAAOy0B,EACP0Z,IAAKyrB,EACLxrB,IAAK,EACLisB,KAAM,GACN1tD,kBAAgB,OAChBhD,SAAU,SAACo0B,EAAGtJ,GAAJ,OAAailC,EAAQjlC,MAEjC,kBAAC,IAAD,CACElxB,MAAM,UACNyB,MAAO,CACL3C,SAAU,GACVwG,QAAS,EACTsrB,cAAe,EACfD,WAAY,MAIlB,yBACElvB,MAAO,CACLkG,QAAS,OACTE,eAAgB,SAChBD,WAAY,SACZykB,cAAe,MACf5kB,MAAO,IACPC,UAAW,EACX9B,aAAc,EACdF,OAAQ,KAEV,kBAAC,IAAD,CAAYkB,GAAG,OAAOiwD,cAAY,GAAlC,UAGA,kBAAC,IAAD,CACE72D,MAAM,UACNyB,MAAO,CACL3C,SAAU,GACVwG,QAAS,EACTsrB,cAAe,EACfD,WAAY,KAGhB,kBAAC,IAAD,CACElvB,MAAO,CAAE+lB,WAAY,EAAGxnB,MAAO,SAC/BvD,MAAO+zD,EACP5lB,IAAK,EACLC,IAAK,IACLisB,KAAM,EACN1tD,kBAAgB,OAChBhD,SAAU,SAACo0B,EAAGu8B,GAAJ,OAAeX,EAAYW,MAEvC,kBAAC,IAAD,CACE/2D,MAAM,UACNyB,MAAO,CACL3C,SAAU,GACVwG,QAAS,EACTsrB,cAAe,EACfD,WAAY,OAKpB,kBAAC,IAAD,CACExG,UAAWP,EAAQtC,OACnB0vC,WAAS,EACTh3D,MAAM,UACNmH,QAASqvD,EACTzwD,SAAS,aAIf,kBAAC,IAAD,CAAKtE,MAAO,CAAEuF,SAAU,WAAYtI,WAAY,OAAQ2oB,OAAQ3mB,OAAOk1D,YAAc,KACnF,kBAAC,IAAD,CACEtvB,MAAOA,EACP2vB,KAAMA,EACN/kC,KAAMA,EACNmlC,QAASA,EACTY,QAAS,EACTC,iBAAkBd,EAClB5F,SAAUA,EACV2G,kBAAkB,EAClBC,OAAQX,EACRZ,SAAU,CAAEpuD,MAAOkvD,EAActvC,OAAQqvC,GACzCW,aAAcnB,EACdoB,eArKe,SAACC,EAAajB,GACnCC,EAAqBD,IAqKfkB,aAAcrB,Q,i4CCrMT,qCAA6C,IAA1CnxB,aAAyC,KAAzCA,aAAchjC,SAA2B,KAA3BA,SAAUurC,WAAiB,KAAjBA,WAEhCwO,WAAa9/C,OAAOwsC,KAAKzD,cAAc,GACvCgX,YAAchX,aAAa+W,YAHsB,UAIvB/gD,oDACb,aAAf+gD,WACMC,YACA,CACEE,OAAQ,0BACRub,OAAQ,KACR5V,OAAQ,gBAVmC,gMAIhD8C,SAJgD,cAItC+S,YAJsC,yBAaf18D,oDACrB,iBAAf+gD,WACMC,YACA,CACEE,OAAQ,oCAjBmC,iMAahD8I,aAbgD,cAalC2S,gBAbkC,yBAoBf38D,oDACrB,iBAAf+gD,WACMC,YACA,CACEE,OAAQ,0BACR0b,UAAW,OAzBgC,iMAoBhDhT,aApBgD,cAoBlCiT,gBApBkC,yBA4Bf78D,oDACrB,iBAAf+gD,WACMC,YACA,CACEE,OAAQ,8BACRze,UAAW,KACXq6B,kBAAmB,IAlCwB,iMA4BhDjT,aA5BgD,cA4BlCkT,gBA5BkC,yBAqC3B/8D,oDACT,WAAf+gD,WACMC,YACA,CACEE,OAAQ,uBACRnV,MAAO,cACPixB,SAAU,KACV7xB,OAAQ,CACJ7oC,OAAQ,YACR26D,OAAQ,iBACR77D,IAAI,WAAD,OAAagO,KAAK21B,MAAlB,QAEHm4B,IAAK,iBAjDkC,kMAqChDx6D,OArCgD,eAqCxCy6D,UArCwC,2BAqDjBn9D,oDACnB,gBAAf+gD,WACMC,YACA,CACEE,OAAQ,6BACRkc,OAAQ,KA1DmC,mMAqDhDrT,YArDgD,eAqDnCsT,eArDmC,2BA8DvBr9D,oDACb,aAAf+gD,WACMC,YACA,CACEE,OAAQ,0BACRoc,MAAO,KAnEoC,mMA8DhDxT,SA9DgD,eA8DtCyT,YA9DsC,2BAuErBv9D,oDAAS,MAvEY,mMAuEhDw9D,UAvEgD,eAuErCC,aAvEqC,2BAwE3Bz9D,oDAAS+gD,YAxEkB,mMAwEhDrsB,OAxEgD,eAwExCusB,UAxEwC,eAyEvD1gD,sDAAU,WACFm0B,QACA6d,WAAW,4KACN7d,OAASgpC,KAAKhpC,YAGxB,CAACA,SACJ,IAAMipC,eAAiB,WACnB,OACI,sHACI,2DAAC,iDAAD,CAAatyD,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC1C,2DAAC,iDAAD,CAAYkF,GAAG,mBAAf,UAEA,2DAAC,iDAAD,CACI6+B,QAAQ,kBACR7+B,GAAG,kBACHR,SAAU,SAACo0B,GAAO,IAAD,IACbk9B,YAAY,mVAAK/S,UAAN,IAAgB8S,OAAM,OAAEj9B,QAAF,IAAEA,GAAF,UAAEA,EAAG3E,cAAL,aAAE,EAAWp5B,SAC9C8wC,WAAW,CACPoX,SAAS,mVAAMA,UAAP,IAAiB8S,OAAM,OAAEj9B,QAAF,IAAEA,GAAF,UAAEA,EAAG3E,cAAL,aAAE,EAAWp5B,WAGpD+G,KAAK,WACL/G,MAAOkoD,SAAS8S,OAChBnxD,YAAY,gBACZ5G,MAAM,UACLk5D,QAAQz8D,KAAI,SAACwuB,EAAMC,GAAP,OACT,2DAAC,iDAAD,CACIxuB,IAAKwuB,EACLhkB,GAAIgkB,EACJnuB,MAAOkuB,EACP5kB,SAAU4kB,EACVgb,SAAUgf,SAAS8S,SAAW9sC,SAK9C,2DAAC,iDAAD,CACItkB,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAOkoD,SAAS9C,OAChBz7C,SAAU,SAACo0B,GAAO,IAAD,EACbk9B,YAAY,mVAAK/S,UAAN,IAAgB9C,OAAQrnB,EAAE3E,OAAOp5B,SAC5C8wC,WAAW,CAAEoX,SAAS,mVAAMA,UAAP,IAAiB9C,OAAM,OAAErnB,QAAF,IAAEA,GAAF,UAAEA,EAAG3E,cAAL,aAAE,EAAWp5B,WAE7D4B,KAAK,OACLqB,MAAO,SACP4G,YAAa,4BAKvBuyD,aAAe,WACjB,OACI,sHACI,2DAAC,iDAAD,CACIxyD,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAOiB,OAAOqpC,MACd3gC,SAAU,SAACo0B,GAAO,IAAD,EACb29B,UAAU,mVAAKz6D,QAAN,IAAcqpC,MAAOvM,EAAE3E,OAAOp5B,SACvC8wC,WAAW,CAAE7vC,OAAO,mVAAMA,QAAP,IAAeqpC,MAAK,OAAEvM,QAAF,IAAEA,GAAF,UAAEA,EAAG3E,cAAL,aAAE,EAAWp5B,WAExD4B,KAAK,OACLqB,MAAO,QACP4G,YAAa,yBAEjB,2DAAC,iDAAD,CACID,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAOiB,OAAOyoC,OAAO/pC,IACrBgK,SAAU,SAACo0B,GACP29B,UAAU,mVACHz6D,QADE,IAELyoC,OAAO,mVAAMzoC,OAAOyoC,QAAd,IAAsB/pC,IAAKo+B,EAAE3E,OAAOp5B,WAE9C8wC,WAAW,CACP7vC,OAAO,mVACAA,QADD,IAEFyoC,OAAO,mVAAMzoC,OAAOyoC,QAAd,IAAsB/pC,IAAKo+B,EAAE3E,OAAOp5B,aAItD4B,KAAK,OACLqB,MAAO,eACP4G,YAAa,iBACbC,WACI,0EAMduyD,gBAAkB,WACpB,OACI,sHAAE,2DAAC,mDAAD,CACEt1D,KAAM,gBACN/G,MAAOmoD,aAAagT,UACpB/wB,QAAS,SAACrM,GAAD,OAAOi+B,aAAaj+B,EAAE14B,UAC/BsE,SAAU,SAACuxB,GACPkgC,gBAAgB,mVAAKjT,cAAN,IAAoBgT,UAAWjgC,KAC9C4V,WAAW,CAAEqX,aAAa,mVAAMA,cAAP,IAAqBgT,UAAWjgC,OAE7DhC,OAAQ,UACRwN,gBAAiB,YACjBzjC,MAAM,YACN8rC,UAAW,kBAAMitB,aAAa,OAC9Bj2D,MAAOg2D,UACPjyD,WAAY,uCAKlBwyD,mBAAqB,WACvB,OAAO,sHACH,2DAAC,iDAAD,CACI1yD,WAAS,EACT3E,QAAQ,WACRgE,OAAO,QACPjJ,MAAOooD,aAAaiT,kBACpB1xD,SAAU,SAACo0B,GAAO,IAAD,EACbu9B,gBAAgB,mVAAKlT,cAAN,IAAoBiT,kBAAmBt9B,EAAE3E,OAAOp5B,SAC/D8wC,WAAW,CAAEsX,aAAa,mVAAMA,cAAP,IAAqBiT,kBAAiB,OAAEt9B,QAAF,IAAEA,GAAF,UAAEA,EAAG3E,cAAL,aAAE,EAAWp5B,WAEhF4B,KAAK,OACLqB,MAAO,gCACP4G,YAAa,0BAEjB,2DAAC,mDAAD,CACI9C,KAAM,gBACN/G,MAAOooD,aAAapnB,UACpBoJ,QAAS,SAACrM,GAAD,OAAOi+B,aAAaj+B,EAAE14B,UAC/BsE,SAAU,SAACuxB,GACPogC,gBAAgB,mVAAKlT,cAAN,IAAoBpnB,UAAW9F,KAC9C4V,WAAW,CAAEsX,aAAa,mVAAMA,cAAP,IAAqBpnB,UAAW9F,OAE7DwL,gBAAiB,YACjBxN,OAAQ,UACRj2B,MAAM,YACN8rC,UAAW,kBAAMitB,aAAa,OAC9Bj2D,MAAOg2D,UACPjyD,WAAY,yCAIlByyD,kBAAoB,WACtB,OACI,sHACI,2DAAC,mDAAD,CACIv8D,MAAOsoD,YAAYqT,OACnBvxB,QAAS,SAACrM,GAAD,OAAOi+B,aAAaj+B,EAAE14B,UAC/BsE,SAAU,SAACuxB,GACP0gC,eAAe,mVAAKtT,aAAN,IAAmBqT,OAAQzgC,KACzC4V,WAAW,CAAEwX,YAAY,mVAAMA,aAAP,IAAoBqT,OAAQzgC,OAExDhC,OAAQ,UACRwN,gBAAiB,YAEjB3/B,KAAM,SACN9D,MAAM,0BACN8rC,UAAW,kBAAMitB,aAAa,OAC9Bj2D,MAAOg2D,UACPjyD,WAAY,gCAKtB0yD,mBAAqB,WAAO,IAAD,IAM7B,OAAQ,sHACJ,2DAAC,iDAAD,CAAa5yD,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC1C,2DAAC,iDAAD,CAAYkF,GAAG,mBAAf,sBACA,2DAAC,iDAAD,CACI6+B,QAAQ,qBACR7+B,GAAG,qBACHR,SAAU,SAACo0B,GAAO,IAAD,IACbm9B,gBAAgB,mVAAK3S,cAAN,IAAoB5sB,YAAW,OAAGoC,QAAH,IAAGA,GAAH,UAAGA,EAAG3E,cAAN,aAAG,EAAWp5B,SAC5D8wC,WAAW,CAAEyX,aAAa,mVAAMA,cAAP,IAAqB5sB,YAAW,OAAGoC,QAAH,IAAGA,GAAH,UAAGA,EAAG3E,cAAN,aAAG,EAAWp5B,WAE3E+G,KAAK,cACL/G,MAAK,iBAAEuoD,mBAAF,IAAEA,kBAAF,EAAEA,aAAc5sB,mBAAhB,QAA+B,WACpC9xB,YAAY,4BACZ5G,MAAM,6BACL,CAAC,YAAa,YAAYvD,KAAI,SAACwuB,EAAMC,GAAP,OAC3B,2DAAC,iDAAD,CACIxuB,IAAKwuB,EACLhkB,GAAIgkB,EACJnuB,MAAOkuB,EACP5kB,SAAU4kB,EAAK4vB,cACf5U,SAAUqf,aAAa5sB,cAAgBzN,SAKvD,2DAAC,iDAAD,CAAatkB,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC1C,2DAAC,iDAAD,CAAYkF,GAAG,oBAAf,oBACA,2DAAC,iDAAD,CACI6+B,QAAQ,mBACR7+B,GAAG,mBACHR,SAAU,SAACo0B,GAAO,IAAD,IACbm9B,gBAAgB,mVAAK3S,cAAN,IAAoBkU,UAAWxvB,SAAQ,OAAClP,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWp5B,UAClE8wC,WAAW,CAAEyX,aAAa,mVAAMA,cAAP,IAAqBkU,UAAWxvB,SAAQ,OAAClP,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWp5B,YAEjF+G,KAAK,cACL/G,MAAK,iBAAEuoD,mBAAF,IAAEA,kBAAF,EAAEA,aAAckU,iBAAhB,QAA6B,EAClC5yD,YAAY,mBACZ5G,MAAM,oBAzCO,CAAC,CAAE4vB,MAAO,yCAA0C7yB,MAAO,GACpF,CAAE6yB,MAAO,eAAgB7yB,MAAO,GAChC,CAAE6yB,MAAO,uBAAwB7yB,MAAO,GACxC,CAAE6yB,MAAO,iCAAkC7yB,MAAO,IAuCpBN,KAAI,SAACwuB,EAAMC,GAAP,OAClB,2DAAC,iDAAD,CACIxuB,IAAKuuB,EAAKluB,MACVmK,GAAIgkB,EACJnuB,MAAOkuB,EAAKluB,MACZsJ,SAAU4kB,EAAK2E,MACfqW,SAAUqf,aAAakU,YAAcvuC,EAAKluB,eAO5D08D,eAAiB,WACnB,OACI,sHACI,2DAAC,mDAAD,CACI18D,MAAOqoD,SAASwT,MAChBzxB,QAAS,SAACrM,GAAD,OAAOi+B,aAAaj+B,EAAE14B,UAC/BsE,SAAU,SAACuxB,GACP4gC,YAAY,mVAAKzT,UAAN,IAAgBwT,MAAO3gC,KAClC4V,WAAW,CAAEuX,SAAS,mVAAMA,UAAP,IAAiBwT,MAAO3gC,OAEjDhC,OAAQ,UACRwN,gBAAiB,YACjB3/B,KAAM,QACN9D,MAAM,aACN8rC,UAAW,kBAAMitB,aAAa,OAC9Bj2D,MAAOg2D,UACPjyD,WAAY,uBAEfu+C,SAASwT,OAAS,oEAAOprB,UAAQ,GAC9B,qEAAQthB,IAAKk5B,SAASwT,MAAOj6D,KAAK,kBAK5Cu6D,QAAU,CAAC,MAAO,MAAO,OAAQ,MAAO,MAAO,OAC/CthB,QAAU,CACZqN,SAAUgU,iBACVj7D,OAAQm7D,eACRjU,aAAckU,kBACd/T,YAAaiU,oBACblU,SAAUqU,iBACVtU,aAAckU,qBACd/T,aAAciU,sBAGlB,OACI,sHACI,2DAAC,iDAAD,CAAa5yD,WAAS,EAACX,OAAO,QAAQhE,QAAQ,YAC1C,2DAAC,iDAAD,CAAYkF,GAAG,mBAAf,eACA,2DAAC,iDAAD,CACI6+B,QAAQ,kBACR7+B,GAAG,kBACHR,SAAU,SAACo0B,GAAD,aAAOyhB,UAAS,OAACzhB,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWp5B,QACtC+G,KAAK,WACL/G,MAAOs/C,WACPz1C,YAAY,gBACZ5G,MAAM,eACLzD,OAAOwsC,KAAK6O,SAASn7C,KAAI,SAACwuB,EAAMC,GAAP,OACtB,2DAAC,iDAAD,CACIxuB,IAAKwuB,EACLhkB,GAAIgkB,EACJnuB,MAAOkuB,EACP5kB,SAAU4kB,EACVgb,SAAUoW,aAAepxB,SAKxC2sB,QAAQ5nB,W,oBCjXrBwsB,EAAOwZ,QAAU,IAA0B,qC,oBCA3CxZ,EAAOwZ,QAAU,IAA0B,0C,oBCA3CxZ,EAAOwZ,QAAU,IAA0B,qC,oBCA3CxZ,EAAOwZ,QAAU,IAA0B,mC,2RC4B5BzuC,0BAAW,WAiBfE,GAAc,IAhBvB1iB,EAgBsB,EAhBtBA,SACAjB,EAesB,EAftBA,KACA/G,EAcsB,EAdtBA,MACA2J,EAasB,EAbtBA,SAasB,IAZtB88B,4BAYsB,SAXtBxjC,EAWsB,EAXtBA,MAWsB,IAXfggC,iBAWe,MAXH,MAWG,EAVtB/J,EAUsB,EAVtBA,OACAwN,EASsB,EATtBA,gBACA0D,EAQsB,EARtBA,QAQsB,IAPtB8X,mBAOsB,SANtBn8C,EAMsB,EANtBA,MAMsB,IALtBwgC,2BAKsB,MALA,GAKA,EAJtBz8B,EAIsB,EAJtBA,WAIsB,IAHtB8gB,cAGsB,MAHb,IAGa,MAHR5f,aAGQ,MAHA,IAGA,EAFtB+jC,EAEsB,EAFtBA,UAEsB,IADtBvI,mBACsB,MADR,UACQ,EACtB9b,EAAMA,GAAY,CAAEiT,QAAS,IADP,MAEQp/B,mBAAuBwH,GAAS,MAFxC,mBAEf42D,EAFe,KAENC,EAFM,KAGdn4D,EAASD,cAATC,KAHc,GAIElG,mBAAS,QAJX,qBAIfqD,GAJe,MAITy0B,GAJS,SAKU93B,mBAAS,GALnB,qBAKfskC,GALe,MAKLC,GALK,SAMsBvkC,mBAA+B,MANrD,qBAMfwkC,GANe,MAMCC,GAND,SAOQzkC,oBAAkB,GAP1B,qBAOf0H,GAPe,MAONC,GAPM,SAQY3H,mBAAS,IARrB,qBAQfs+D,GARe,MAQJC,GARI,SASUv+D,mBAC9ByB,EAAQA,EAAM+8D,UAAU/8D,EAAM07C,YAAY,KAAO,GAAK,IAVlC,qBASfU,GATe,MASL4gB,GATK,SAYoBz+D,oBAAS,GAZ7B,qBAYf0+D,GAZe,MAYA5D,GAZA,MAatBv6D,qBAAU,WACJkB,GACF2J,EAAS3J,KAEV,IAEHlB,qBAAU,WACJkB,IAAUA,EAAM+4B,WAAW,QAC7B6jC,EAAW72D,GAAS,IAAI4B,MAAM,yCAE9Bi1D,EAAW72D,GAAS,QAErB,CAACA,EAAO/F,IAEX,IAAMk9D,GAAU,uCAAG,WAAOn/B,GAAP,uBAAA/+B,EAAA,yDAEXs5B,GACJ,iBAACyF,QAAD,IAACA,GAAD,UAACA,EAAG3E,cAAJ,aAAC,EAAWD,aAAZ,QAAqB,CAAC,OAAO,KAC7B,iBAAC4E,QAAD,IAACA,GAAD,UAACA,EAAGqF,oBAAJ,aAAC,EAAiBjK,aAAlB,QAA2B,CAAC,OAAO,GAJpB,wDAQjBiR,EAAUA,EAAQ,IAAMwyB,EAAW,MACnCI,GAAY1kC,EAAKvxB,MATA,SAUXm8B,GAAa5K,EAAMA,EAAKvxB,KAAK0xB,MAAM,KAAKC,OAV7B,2CAAH,sDAYVwK,GAAY,uCAAG,WAAO5K,EAAW2K,GAAlB,qBAAAjkC,EAAA,sEAEjBkH,IAAW,GACLqyB,EAAOt3B,YAAO,GAAD,OACdwlC,EAAuB,GAAH,2BAAWhiC,QAAX,IAAWA,OAAX,EAAWA,EAAM+zB,WAAjB,QAAwB,OAAxB,MADN,OAC0CkO,EAD1C,YAC6D/4B,KAAK21B,MADlE,YAC2EL,GAC5F3K,EAAMkO,GAERxD,GAAkBzK,GAClBA,EAAKI,GAAG,sBAAsB,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,MAAX,OAC5BiK,GAAYpR,KAAK8H,MAAOZ,EAASC,EAAS,SAT3B,SAWaN,EAAKpsB,UAXlB,gBAYjBiB,GADgBA,EAXC,EAWX0rB,UACIC,WAAW,QAAU3rB,EAAzB,kBAA0CA,GAChDlH,IAAW,GACX82D,GAAY5vD,EAAI2vD,UAAU3vD,EAAIsuC,YAAY,KAAO,IACjD/xC,EAASyD,GACT2hC,GAAaA,GAAU,GAhBN,kDAkBjB/L,GAAkB,MAClBg6B,GAAYh9D,EAAQA,EAAM+8D,UAAU/8D,EAAM07C,YAAY,KAAO,GAAK,IAClEx1C,IAAW,GACXkkC,EAAUA,EAAQ,KAAe/kC,SAAWu3D,EAAW,EAAD,IArBrC,0DAAH,wDAyBZr5B,GAAkB,uCAAG,sBAAAvkC,EAAA,yDACF,OAAnB+jC,GADqB,uBAEvBgM,GAAaA,GAAU,GACvB3E,EAAUA,EAAQ,2BAA6BwyB,EAAW,IAAIj1D,MAAM,4BAH7C,0DAOjBo7B,SAPiB,IAOjBA,QAPiB,EAOjBA,GAAgBS,QAPC,uDASvBw5B,GAAYh9D,EAAQA,EAAM+8D,UAAU/8D,EAAM07C,YAAY,KAAO,GAAK,IAClEx1C,IAAW,GACXkkC,EAAUA,EAAQ,KAAe/kC,SAAWu3D,EAAW,EAAD,IACtD55B,GAAkB,MAZK,yDAAH,qDAelBm6B,GAAe,uCAAG,WAAOp/B,GAAP,qBAAA/+B,EAAA,2DAClB++B,EAAE3E,OAAOD,OAAS4E,EAAE3E,OAAOD,MAAMxG,OAAS,GADxB,wBAEd2F,EAAOyF,EAAE3E,OAAOD,MAAM,GAC5B6jC,GAAY1kC,EAAKvxB,MAHG,SAIKguD,YAASz8B,GAJd,cAIhB8kC,EAJgB,gBAKMC,yBAAe/kC,GALrB,UAKdqD,EALc,SAOdo4B,EAAWoB,IAAqBx5B,IAPlB,kCASGy5B,YAAgBgI,EAAcrJ,GATjC,QASlBqJ,EATkB,eAWpBN,GAAaM,GACb/D,IAAiB,GAZG,4CAAH,sDAgBrB,OADA3uC,EAAIiT,QAAU,CAAEw/B,mBAAiB55B,sBAAoBL,iBAEnD,kBAAC,IAAD,CAAK0C,GAAI,EAAGqqB,GAAI,GACd,kBAAC,IAAD,KAAahtD,EAAO+E,GAAY,MAChC,kBAAC,IAAD,CAAaY,UAAU,YACrB,kBAAC,IAAD,CACE6B,aAAW,OACX1D,KAAK,OACL/G,MAAO4B,GACP+H,SAAU,gBAAa3J,EAAb,EAAGo5B,OAAUp5B,MAAb,OAA2Bq2B,GAAQr2B,IAC7C8jC,KAAG,GACH,kBAAC,IAAD,CAAkB9jC,MAAM,OAAOgkC,QAAS,kBAAC,IAAD,MAAW/gC,MAAM,SACzD,kBAAC,IAAD,CAAkBjD,MAAM,MAAMgkC,QAAS,kBAAC,IAAD,MAAW/gC,MAAM,UAG5D,kBAAC,IAAD,CAAKq6D,GAAI,GACG,SAAT17D,GACC,oCACE,2BACE8I,QAAS,SAACjC,GAERA,EAAM2wB,OAAOp5B,MAAQ,MAEvBk5B,OAAQA,EACR/uB,GAAIpD,EACJnF,KAAK,OACL+H,SAAUu4C,EAAcib,GAAkBD,GAC1Cl4D,MAAO,CAAEkG,QAAS,UAEpB,2BAAOjB,QAASlD,GACd,kBAAC,IAAD,CACE0E,SAAUxF,GACVhB,QAAQ,YACRsG,KAAK,QACLhI,MAAM,UACN8vB,UAAW,kBAAC,IAAD,MACXzqB,UAAU,QACT5I,EAAK,oBAGV,kBAAC,IAAD,CAAYgF,MAAK,aAAI+lB,WAAY,IAAQwb,EAAsB,CAAEhjC,MAAOgjC,GAAwB,IAAOthC,QAAQ,QAAQ2D,UAAW,OAAQrF,MAAM,iBAC7I0C,GAAO,sBAAkB48B,GAAlB,iBAAqCuZ,GAArC,MAETn2C,IACC,kBAAC,IAAD,CACEyE,QAAS64B,GACTh4B,KAAK,QACLhI,MAAM,YACNqF,UAAU,QAJZ,WAQE,kBAAC,IAAD,CACJ3F,MAAM,WACN4G,YAAY,iBACZZ,OAAO,QACPjE,MAAO,CAAE0G,YAAa,IACtBzG,QAAQ,WACRjF,MAAOA,EACP2J,SAAU,YAA4B,IAAf3J,EAAc,EAAxBo5B,OAAUp5B,MACrBg9D,GAAYh9D,EAAM+8D,UAAU/8D,EAAM07C,YAAY,KAAO,IACrDkhB,EAAW,MACXjzD,EAAS3J,OAIjB,kBAAC,IAAD,CAAgB+F,MAAkB,MAAX42D,GACpBA,EAAO,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAASt3D,QAAUyE,GAE/BmzD,IAAiB,kBAAC,IAAD,CAChBpzB,MAAOgzB,GACPzD,SAAU,CAAExuC,SAAQ5f,SACpBquD,iBAAkBA,GAClBC,SAAU,SAACiE,GACTlE,IAAiB,GAEjB,IAAMmE,EAAa,IAAIC,EAAOxzC,KAAKszC,EAAOt2D,QAAQ,2BAA4B,IAAK,UACnFi8B,GAAas6B,EAAYv6B,IAG3Bs2B,SAAU,WACRF,IAAiB,GACjB2D,GAAYh9D,EAAQA,EAAM+8D,UAAU/8D,EAAM07C,YAAY,KAAO,GAAK,a","file":"static/js/main.84c3e007.chunk.js","sourcesContent":["import { AppConfig } from \"common/types\";\r\n\r\nexport const config: AppConfig = {\r\n    \"initialFreeAmount\": {\r\n        \"value\": 1,\r\n        \"currency\": \"USD\"\r\n    },\r\n    apiURL:\"https://api.buzzle.site\",\r\n    socketURL:\"https://sockets.buzzle.site\",\r\n    \"createrLoyaltyPercentageShareValue\": 30,\r\n    \"renderLoyaltyPercentageShareValye\": 50,\r\n    instances: []\r\n}\r\n","import React, {\r\n  createContext,\r\n  ReactNode,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n} from 'react';\r\nimport { remoteConfig } from \"./firebase\";\r\n\r\nimport {\r\n  config as defaultConfig\r\n} from '../helpers/constants';\r\nimport { AppConfig } from 'common/types';\r\nimport { ec2Instance } from './buzzle-sdk/types';\r\n\r\n\r\ninterface IProps {\r\n  value?: any;\r\n  children?: ReactNode;\r\n}\r\ninterface ConfigContext extends AppConfig {\r\n  isConfigLoading: boolean;\r\n  configError: Error | null;\r\n\r\n}\r\nconst defaultValues: ConfigContext = {\r\n  ...defaultConfig,\r\n  isConfigLoading: true,\r\n  configError: null,\r\n  instances: []\r\n\r\n\r\n};\r\n\r\nconst RemoteConfigContext = createContext<ConfigContext>(defaultValues);\r\n\r\nfunction useConfig(): ConfigContext {\r\n  const context = useContext(RemoteConfigContext);\r\n  if (!context) {\r\n    console.log('useConfig must be used within a RemoteConfigProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction RemoteConfigProvider(props: IProps) {\r\n  const [constants, setConstants] = useState<{ config: AppConfig }>({ config: defaultConfig });\r\n  const [isConfigLoading, setIsConfigLoading] = useState<boolean>(true);\r\n  const [configError, setConfigError] = useState<Error | null>(null);\r\n  const [instances, setInstances] = useState<Array<ec2Instance>>([])\r\n  const keysTofetch = [\r\n    'config',\r\n  ];\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n  const init = async () => {\r\n    try {\r\n      //fetch remote config and set constants\r\n      setConfigError(null);\r\n      setIsConfigLoading(true);\r\n      await remoteConfig.fetchAndActivate();\r\n      let result: any = await fetch(`${process.env.REACT_APP_API_URL || \"\"}/status/instances`)\r\n      if (result.ok) {\r\n        result = await result.json()\r\n        setInstances(result)\r\n      } else {\r\n        result = []\r\n      }\r\n      setConstants(\r\n        Object.assign(\r\n          { instances: result },\r\n          ...keysTofetch.map((key) => ({\r\n            [key]: JSON.parse(remoteConfig.getValue(key).asString()),\r\n          })),\r\n        ),\r\n      );\r\n      setIsConfigLoading(false);\r\n    } catch (err) {\r\n      setIsConfigLoading(false);\r\n      setConstants({ config: defaultConfig })\r\n\r\n    }\r\n  };\r\n  const value = useMemo(() => {\r\n    return { ...({ ...constants.config, instances }), isConfigLoading, configError };\r\n  }, [constants, isConfigLoading, configError]);\r\n\r\n  return <RemoteConfigContext.Provider value={value} {...props} />;\r\n}\r\n\r\nexport { RemoteConfigProvider, useConfig };\r\n","import AWS, { S3 } from \"aws-sdk\";\r\n\r\nconst bucketName = \"buzzle\";\r\nconst bucketRegion = \"us-east-1\";\r\nconst tagsByUseCase = {\r\n  archive: \"true\",\r\n  deleteAfter7Days: \"1 week\",\r\n  deleteAfter90Days: \"90 Days\",\r\n};\r\n\r\n// AWS.config.update({\r\n//   region: bucketRegion,\r\n// });\r\n\r\n// AWS.config.credentials = new AWS.CognitoIdentityCredentials({\r\n//   IdentityPoolId: \"us-east-1:06431ed0-60d3-457c-9c6c-7866955fc5e5\",\r\n// });\r\n// Create EC2 service object\r\nvar ec2 = new AWS.EC2({ apiVersion: \"2016-11-15\" });\r\n\r\n/**\r\n * @param  {String} Key Path of the file\r\n * @param  {} Body File body\r\n */\r\nconst s3Client = new S3({\r\n  endpoint: \"https://sgp1.digitaloceanspaces.com\",\r\n  region: bucketRegion,\r\n  credentials: {\r\n    accessKeyId: \"RFQVO4EOPKFXOVLJQJYL\",\r\n    secretAccessKey: \"x6ZaZ39bCBEpiq8XfImx2rDBZarPc18Gp9sEZHULr9E\"\r\n  }\r\n});\r\n\r\nexport const upload = (Key: string, Body: any, tag?: \"archive\" | \"deleteAfter7Days\" | \"deleteAfter90Days\") => {\r\n\r\n  var upload = s3Client.upload({\r\n    Bucket: bucketName,\r\n    Key: Key,\r\n    Body,\r\n    ACL: 'public-read',\r\n  },\r\n    {\r\n      tags: [{ Key: (tag || \"archive\"), Value: tagsByUseCase[tag || \"archive\"] }]\r\n    });\r\n  return upload;\r\n\r\n  /*\r\n  HOW TO USE?\r\n\r\n  FOR PROGRESS -> \r\n  upload.on(\"httpUploadProgress\", ({loaded, total}) => console.log(loaded/total));\r\n\r\n  FOR async/await ->\r\n  await upload.promise();\r\n  \r\n  */\r\n};\r\n\r\nexport const getInstanceInfo = async () => {\r\n  const response = await ec2.describeInstances().promise();\r\n  console.log(response);\r\n  return response;\r\n};\r\n\r\n\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { pink } from \"@material-ui/core/colors\";\r\n\r\nexport const darkTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\",\r\n    primary: {\r\n      main: \"#3742fa\",\r\n    },\r\n    secondary: pink,\r\n    background: {\r\n      default: \"#222\",\r\n      paper: \"#333\",\r\n    },\r\n  },\r\n  typography: {\r\n    fontSize: 14,\r\n    fontFamily: \"Noto Sans JP\",\r\n    fontWeightRegular: 500,\r\n    h3: {\r\n      fontWeight: 700,\r\n    },\r\n    h4: {\r\n      fontWeight: 700,\r\n    },\r\n    h5: {\r\n      fontWeight: 700,\r\n    },\r\n    h6: {\r\n      fontWeight: 700,\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiLink: {\r\n      root: {\r\n        fontWeight: 600,\r\n      },\r\n    },\r\n    MuiStepLabel: {\r\n      label: {\r\n        fontWeight: 700,\r\n      },\r\n      active: {\r\n        fontWeight: 700,\r\n      },\r\n    },\r\n    MuiButton: {\r\n      label: {\r\n        fontWeight: 700,\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport const lightTheme = createMuiTheme({\r\n  palette: {\r\n    type: \"light\",\r\n    primary: {\r\n      main: \"#3742fa\",\r\n    },\r\n    secondary: pink,\r\n  },\r\n  typography: {\r\n    fontSize: 14,\r\n    fontFamily: \"Noto Sans JP\",\r\n    fontWeightRegular: 500,\r\n    h3: {\r\n      fontWeight: 700,\r\n    },\r\n    h4: {\r\n      fontWeight: 700,\r\n    },\r\n    h5: {\r\n      fontWeight: 700,\r\n    },\r\n    h6: {\r\n      fontWeight: 700,\r\n    },\r\n  },\r\n  overrides: {\r\n    MuiLink: {\r\n      root: {\r\n        fontWeight: 600,\r\n      },\r\n    },\r\n    MuiStepLabel: {\r\n      label: {\r\n        fontWeight: 700,\r\n      },\r\n      active: {\r\n        fontWeight: 700,\r\n      },\r\n    },\r\n    MuiButton: {\r\n      label: {\r\n        fontWeight: 700,\r\n      },\r\n    },\r\n    MuiTab: {\r\n      wrapper: {\r\n        fontWeight: 700,\r\n        color: \"#3742fa\",\r\n      },\r\n    },\r\n  },\r\n});\r\n","import React, { useState, useEffect, createContext, useContext } from \"react\";\r\n\r\nconst DarkModeContext = createContext();\r\n\r\nconst useDarkMode = () => {\r\n  const context = useContext(DarkModeContext);\r\n  if (!context) {\r\n    console.log(\"useAuth must be used within a DarkModeProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nfunction DarkModeProvider(props) {\r\n  const [theme, setTheme] = useState(\"light\");\r\n  const [componentMounted, setComponentMounted] = useState(false);\r\n  const setMode = (mode) => {\r\n    window.localStorage.setItem(\"theme\", mode);\r\n    setTheme(mode);\r\n  };\r\n\r\n  const toggleTheme = () => {\r\n    if (theme === \"light\") {\r\n      setMode(\"dark\");\r\n    } else {\r\n      setMode(\"light\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const localTheme = window.localStorage.getItem(\"theme\");\r\n    window.matchMedia &&\r\n    window.matchMedia(\"(prefers-color-scheme: dark)\").matches &&\r\n    !localTheme\r\n      ? setMode(\"dark\")\r\n      : localTheme\r\n      ? setTheme(localTheme)\r\n      : setMode(\"light\");\r\n    setComponentMounted(true);\r\n  }, []);\r\n\r\n  return (\r\n    <DarkModeContext.Provider\r\n      value={[theme, toggleTheme, componentMounted]}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { DarkModeProvider, useDarkMode };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"services/auth\";\r\nexport default (props: any) => {\r\n  const { user, isUserLoading } = useAuth();\r\n  const [isAuthorized, setIsAuthorized] = useState<boolean>(!(!user && !isUserLoading))\r\n  useEffect(() => {\r\n    setIsAuthorized(!(!user && !isUserLoading))\r\n  }, [user, isUserLoading])\r\n  if (!isAuthorized) return <Redirect to=\"/login\" />;\r\n  return <Route {...props} />;\r\n};\r\n","import React from \"react\"\r\nimport { TypographyProps, Typography } from \"@material-ui/core\"\r\nexport const Heading = (props: TypographyProps) => {\r\n    return <Typography {...props}\r\n        style={{\r\n            fontFamily: \"Poppins\",\r\n            fontWeight: 600,\r\n\r\n            ...(props.style || {})\r\n        }} variant=\"h4\" />\r\n}\r\nexport const SubHeading = (props: TypographyProps) => {\r\n    return <Typography {...props} style={{\r\n        fontFamily: \"Poppins\",\r\n        fontWeight: 600,\r\n        ...(props.style || {})\r\n    }} variant=\"h5\" />\r\n}\r\nexport const Text = (props: TypographyProps) => {\r\n    return <Typography {...props} style={{\r\n        fontFamily: \"Poppins\",\r\n        fontSize: 16,\r\n        fontWeight: 500,\r\n        ...(props.style || {})\r\n    }} />\r\n}\r\nexport const SmallText = (props: TypographyProps) => {\r\n    return <Typography {...props} style={{\r\n        fontSize: 14, fontWeight: 500,\r\n        fontFamily: \"Poppins\",\r\n        ...(props.style || {})\r\n    }} />\r\n}\r\nexport const ExtraSmallText = (props: TypographyProps) => {\r\n    return <Typography {...props} style={{\r\n        fontSize: 12,\r\n        fontFamily: \"Poppins\", fontWeight: 500,\r\n        ...(props.style || {})\r\n    }}\r\n        variant=\"subtitle1\" />\r\n}\r\n\r\n","import {\r\n    Box,\r\n    Button,\r\n    CircularProgress,\r\n    FormControl,\r\n    FormHelperText,\r\n    IconButton,\r\n    InputAdornment,\r\n    InputLabel,\r\n    OutlinedInput,\r\n    Container,\r\n    TextField,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n    Redirect,\r\n    useHistory,\r\n} from \"react-router-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useAuth } from \"services/auth\";\r\nimport * as Yup from \"yup\";\r\nimport firebase from \"firebase/app\"\r\nimport { firebaseAuth } from \"services/firebase\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { SubHeading } from \"common/Typography\";\r\ntype submitProps = {\r\n    email?: string,\r\n    name?: string, password?: string,\r\n    newPassword?: string\r\n}\r\ntype modes = \"check\" | \"login\" | \"forgot-pass\" | \"change-pass\" | \"register\" | \"re-auth\"\r\nexport default ({ message = \"\", email = \"\", onSubmit, handleClose, initialMode = \"check\", onModeChange }: {\r\n    message?: string, email?: string,\r\n    initialMode?: modes,\r\n    handleClose?: Function,\r\n    onModeChange?: (mode: \"check\" | \"login\" | \"forgot-pass\" | \"change-pass\" | \"register\" | \"re-auth\") => void,\r\n    onSubmit?: (props: submitProps) => void\r\n}) => {\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const history = useHistory();\r\n    const [mode, setMode] = useState<modes>(initialMode || \"check\")\r\n    const [error, setError] = useState<Error | null>(null);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const { signUpWithEmailPassword, user, forgotPassword, checkUserExist, signInWithPassword } = useAuth();\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [showNewPassword, setShowNewPassword] = useState(false);\r\n    const handleCredentialSubmit = React.useCallback(async ({ email, password, name, newPassword }: submitProps) => {\r\n        try {\r\n            setLoading(true);\r\n            setError(null)\r\n            if (mode === 'check') {\r\n                if (await checkUserExist(email || \"\")) {\r\n                    setMode(\"login\")\r\n                } else {\r\n                    setMode(\"register\")\r\n                }\r\n            } else if (mode === 'register') {\r\n                onSubmit && onSubmit({ email, password, name })\r\n                await signUpWithEmailPassword(email || \"\", password || \"\", name || \"\")\r\n            }\r\n            else if (mode === 'login') {\r\n                onSubmit && onSubmit({ email, password, })\r\n                await signInWithPassword(email || \"\", password || \"\")\r\n            }\r\n            else if (mode === \"forgot-pass\") {\r\n                onSubmit && onSubmit({ email })\r\n                await forgotPassword(email)\r\n                history.replace(`/login?email=${email}&message=Follow the instructions sent to ${email} to recover your password`)\r\n                setMode(\"login\")\r\n            }\r\n            else if (mode === \"re-auth\") {\r\n                const credential = firebase.auth.EmailAuthProvider.credential((firebaseAuth.currentUser?.email || user?.email || email || \"\"), password || \"\");\r\n                await firebaseAuth.currentUser?.reauthenticateWithCredential(credential)\r\n                onSubmit && onSubmit({ email, password })\r\n            }\r\n            else if (mode === \"change-pass\") {\r\n                try {\r\n                    onSubmit && onSubmit({ password, newPassword })\r\n                    const credential = firebase.auth.EmailAuthProvider.credential((firebaseAuth.currentUser?.email || user?.email || email || \"\"), password || \"\");\r\n                    await firebaseAuth.currentUser?.reauthenticateWithCredential(credential)\r\n                    await firebaseAuth.currentUser?.updatePassword(newPassword || password || \"\")\r\n                    enqueueSnackbar(\"Password updated successfully!\", {\r\n                        variant: \"success\",\r\n                    })\r\n                } catch (err) {\r\n                    enqueueSnackbar((err as Error)?.message || \"Failed to update password\", {\r\n                        variant: \"error\",\r\n                    })\r\n                }\r\n\r\n            }\r\n        } catch (e) {\r\n            if ((e as any)?.code === \"auth/email-already-in-use\") {\r\n                setError(new Error(\"Something went wrong from our side, Try after sometime\"))\r\n            } else {\r\n                setError(e as Error);\r\n            }\r\n\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [mode])\r\n    useEffect(() => {\r\n        if (email && mode === \"check\") {\r\n            handleCredentialSubmit({ email })\r\n        }\r\n    }, [email])\r\n    useEffect(() => {\r\n        setError(null)\r\n        onModeChange && onModeChange(mode)\r\n    }, [mode])\r\n\r\n    const {\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n        values,\r\n        errors,\r\n        touched,\r\n    } = useFormik({\r\n        initialValues: (mode === \"check\" || mode === \"forgot-pass\") ? {\r\n            email,\r\n        } : ((mode === 'login' || mode === 're-auth') ? {\r\n            email,\r\n            password: \"\",\r\n        } : mode === \"change-pass\"\r\n            ? { password: \"\", newPassword: \"\" }\r\n            : {\r\n                name: \"\",\r\n                email: email,\r\n                password: \"\",\r\n            }),\r\n        validationSchema: Yup.object((mode === \"check\" || mode === \"forgot-pass\") ? {\r\n            email: Yup.string().email(\"Invalid email\").required(\"Enter your email to continue\"),\r\n        } : ((mode === 'login' || mode === 're-auth') ? {\r\n            email: Yup.string().email(\"Invalid email\").required(\"Enter your email to continue\"),\r\n            password: Yup.string().required(\"Invalid password\"),\r\n        } : mode === \"change-pass\" ? {\r\n            password: Yup.string().required(\"Invalid password\"),\r\n            newPassword: Yup.string().required(\"New password cannot be empty, required!\"),\r\n        } : {\r\n            name: Yup.string().required(\"Name is required\"),\r\n            email: Yup.string().email(\"Invalid email\").required(\"Enter your email to continue\"),\r\n            password: Yup.string().required(\"Invalid password\"),\r\n        })),\r\n        onSubmit: handleCredentialSubmit\r\n    });\r\n\r\n    const handleClickShowPassword = useCallback(() => {\r\n        setShowPassword(value => !value);\r\n    }, [])\r\n\r\n    const handleMouseDownPassword = useCallback((event: any) => {\r\n        event.preventDefault();\r\n    }, [])\r\n    const getHeading = useCallback(() => {\r\n        switch (mode) {\r\n            case 'check':\r\n                return \"Get Started\";\r\n            case 'forgot-pass':\r\n                return \"Recover password\"\r\n            case 'login':\r\n                return \"Login\";\r\n            case 'register':\r\n                return \"Create Account\";\r\n            case 're-auth':\r\n                return \"Confirming access\";\r\n            case \"change-pass\":\r\n                return \"Change password\";\r\n            default:\r\n                return \"\"\r\n        }\r\n    }, [mode])\r\n\r\n    return (<Container component=\"form\"\r\n        style={{\r\n            padding: 20, paddingLeft: 25, paddingRight: 25, maxWidth: 375,\r\n            margin: 0,\r\n        }}\r\n        //@ts-ignore\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n    >\r\n        <SubHeading style={{ marginBottom: 10 }}>{getHeading()}</SubHeading>\r\n        {error ? <Alert style={{ marginBottom: 10 }} severity=\"error\" children={error?.message ?? error} /> : message ? <Alert style={{ marginBottom: 10 }} severity=\"info\" children={message} /> : <div />}\r\n        {mode !== 'change-pass' ? <TextField\r\n            name={\"email\"}\r\n            InputProps={{\r\n                readOnly: mode === \"re-auth\",\r\n            }}\r\n            margin=\"dense\"\r\n            value={values.email}\r\n            label=\"Email address\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            error={touched.email && !!errors.email}\r\n            fullWidth\r\n            variant={\"outlined\"}\r\n            placeholder=\"Enter email\"\r\n            helperText={\r\n                touched.email && errors.email\r\n                    ? errors?.email\r\n                    : mode === \"forgot-pass\" ? \"Instructions for password reset will be sent to this email.\" : mode === \"check\" ? \"Welcome, Enter email address to get started\" : \"\"\r\n            }\r\n        /> : <div />}\r\n        {mode === \"register\" ? <TextField\r\n            name={\"name\"}\r\n            margin=\"dense\"\r\n            value={values.name}\r\n            label=\"Your name\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            error={touched.name && !!errors.name}\r\n            fullWidth\r\n            variant={\"outlined\"}\r\n            placeholder=\"Enter your name\"\r\n            helperText={\r\n                touched.name && errors.name\r\n                    ? errors?.name\r\n                    : \"\"\r\n            }\r\n        /> : <div />}\r\n        {(mode !== \"check\" && mode !== 'forgot-pass') ? <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n            <InputLabel htmlFor=\"outlined-adornment-password\">\r\n                {`${mode === \"change-pass\" ? \"Current \" : \"\"}Password`}\r\n            </InputLabel>\r\n            <OutlinedInput\r\n                id=\"outlined-adornment-password\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.password}\r\n                name=\"password\"\r\n                labelWidth={75}\r\n                placeholder={`${mode === \"change-pass\" ? \"Current \" : \"\"}Password`}\r\n                error={touched.password && !!errors.password}\r\n                endAdornment={\r\n                    <>\r\n                        <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                                aria-label=\"toggle password visibility\"\r\n                                onClick={handleClickShowPassword}\r\n                                onMouseDown={handleMouseDownPassword}\r\n                                edge=\"end\">\r\n                                {!showPassword ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                    </>\r\n                }\r\n            />\r\n            {touched.password && !!errors.password ? <FormHelperText error={touched.password && !!errors.password}>\r\n                {errors.password}\r\n            </FormHelperText> : <div />}\r\n        </FormControl> : <div />}\r\n        {(mode !== \"check\" && mode !== 'forgot-pass' && mode === \"change-pass\") ? <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n            <InputLabel htmlFor=\"outlined-adornment-newPassword\">\r\n                New Password\r\n            </InputLabel>\r\n            <OutlinedInput\r\n                id=\"outlined-adornment-newPassword\"\r\n                type={showNewPassword ? \"text\" : \"password\"}\r\n                onChange={handleChange}\r\n                onBlur={handleBlur}\r\n                value={values.newPassword}\r\n                name=\"newPassword\"\r\n                labelWidth={75}\r\n                placeholder=\"New Password\"\r\n                error={touched.newPassword && !!errors.newPassword}\r\n                endAdornment={\r\n                    <>\r\n                        <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                                aria-label=\"toggle newPassword visibility\"\r\n                                onClick={() => setShowNewPassword(v => !v)}\r\n                                onMouseDown={handleMouseDownPassword}\r\n                                edge=\"end\">\r\n                                {!showNewPassword ? <Visibility /> : <VisibilityOff />}\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                    </>\r\n                }\r\n            />\r\n            {touched.newPassword && !!errors.newPassword ? <FormHelperText error={touched.newPassword && !!errors.newPassword}>\r\n                {errors.newPassword}\r\n            </FormHelperText> : <div />}\r\n        </FormControl> : <div />}\r\n        <Box style={{\r\n            width: '100%', marginTop: 20, display: 'flex', alignItems: 'center',\r\n            justifyContent: mode === \"change-pass\" ? \"flex-start\" : 'space-between'\r\n        }}>\r\n            {mode === \"login\" ? <Button style={{ textTransform: \"none\", fontWeight: 'normal' }}\r\n                size={\"small\"} color=\"primary\" onClick={() => setMode(\"forgot-pass\")} >\r\n                Trouble signing in?\r\n            </Button> : <div />}\r\n            <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n                {handleClose !== undefined ? <Button\r\n                    onClick={() => handleClose()}\r\n                    disabled={loading || !handleClose}\r\n                    color=\"primary\"\r\n                    style={{ textTransform: \"none\", fontWeight: 'normal', marginRight: 15 }}\r\n                    children={\"cancel\"}\r\n                /> : <div />}\r\n                <Button\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    color=\"primary\"\r\n                    children={loading ? <CircularProgress color=\"inherit\" size={20} /> : mode === \"change-pass\" ? \"Update\" : mode === \"re-auth\" ? \"Confirm\" : mode === \"forgot-pass\" ? \"Send\" : mode === \"check\" ? \"Next\" : (mode === \"register\" ? \"Create Account\" : \"Sign in\")}\r\n                />\r\n            </Box>\r\n        </Box>\r\n    </Container>\r\n    );\r\n};\r\n","import React, {\r\n    createContext,\r\n    ReactNode,\r\n    useCallback,\r\n    useContext,\r\n    useEffect,\r\n    useMemo,\r\n    useState,\r\n} from 'react';\r\nimport { useAuth } from './auth';\r\nimport API from './buzzle-sdk';\r\nimport { firebaseAuth } from './firebase';\r\nimport APIInterface from 'buzzle-sdk/dist/lib/interfaces';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Dialog, DialogContent } from '@material-ui/core';\r\nimport AuthOperations from 'common/AuthOperations';\r\ntype reAuthFlow = {\r\n    reAuthInit: () => Promise<string>,\r\n    // onSuccess: (message: string) => void,\r\n    // onFailure: (message: string) => void,\r\n    isAuthFlowInitialised: boolean\r\n}\r\nconst ReAuthFlowContext = createContext(\r\n    {\r\n        reAuthInit: async () => {\r\n            console.log(\"set token function\")\r\n            return \"\"\r\n        },\r\n        isAuthFlowInitialised: false,\r\n        // onSuccess: () => console.log(\"success\"),\r\n        // onFailure: () => console.log(\"failed\"),\r\n    }\r\n);\r\n\r\ninterface IProps {\r\n    value?: any;\r\n    children?: ReactNode;\r\n}\r\n\r\nfunction useReAuthFlow(): reAuthFlow {\r\n    const context = useContext(ReAuthFlowContext);\r\n    if (!context) {\r\n        console.log('useReAuthFlow must be used within a ReAuthFlowProvider');\r\n    }\r\n    return context;\r\n}\r\n\r\nfunction ReAuthFlowProvider(props: IProps) {\r\n    const [isAuthFlowInitialised, setIsAuthFlowInitialised] = useState<boolean>(false)\r\n    const { user, isUserLoadingFromFirebase } = useAuth()\r\n    const toggleFlow = () => {\r\n        setIsAuthFlowInitialised(v => !v)\r\n    }\r\n    const [promise, setPromise] = useState<any>()\r\n    const reAuthInit = async (): Promise<string> => {\r\n        toggleFlow()\r\n        return await (new Promise((resolve, reject) => {\r\n            setPromise({ resolve, reject })\r\n        }))\r\n    }\r\n    const onClose = useCallback(() => {\r\n        resetAll()\r\n        if (promise?.reject) {\r\n            promise.reject(\"Authentication failed, cancelled by user!\")\r\n        }\r\n    }, [promise])\r\n    const handleSubmit = useCallback(() => {\r\n        resetAll()\r\n        if (promise?.resolve) {\r\n            promise.resolve(\"Re-Authentication successfull!\")\r\n        }\r\n    }, [promise])\r\n    const resetAll = () => {\r\n        setIsAuthFlowInitialised(false)\r\n    }\r\n    const value: reAuthFlow = useMemo(() => {\r\n        return { isAuthFlowInitialised, reAuthInit, };\r\n    }, [isAuthFlowInitialised]);\r\n    return <ReAuthFlowContext.Provider value={value} {...props}>\r\n        {props.children}\r\n        <Dialog aria-labelledby=\"customized-dialog-title\" open={isAuthFlowInitialised && !isUserLoadingFromFirebase}>\r\n            <AuthOperations onSubmit={handleSubmit} handleClose={onClose} email={firebaseAuth.currentUser?.email ?? \"\"} initialMode='re-auth' message='Confirmation required!' />\r\n        </Dialog>\r\n    </ReAuthFlowContext.Provider>;\r\n}\r\n\r\nexport { ReAuthFlowProvider, useReAuthFlow };\r\n","import { RotateLeft } from '@material-ui/icons';\r\nimport React from 'react';\r\nimport { useAuth } from 'services/auth';\r\n\r\nexport default ({ allowedRoles, children, redirectTo = null }) => {\r\n    const { isAdmin } = useAuth()\r\n    if (!allowedRoles.includes(isAdmin ? 'admin' : 'user') && allowedRoles !== \"*\") {\r\n        return redirectTo !== null ? redirectTo : <div />\r\n    }\r\n    return children\r\n}\r\n","import dotenv from \"dotenv\"\r\ndotenv.config({ path: (\"../../.env\") })\r\nconst apiURL = process.env.REACT_APP_API_URL\r\nconst uri = `http://52.54.195.156:3000/api/v1/jobs`;\r\n\r\nconst remotionExtraction = process.env.REACT_APP_REMOTION_BUNDLER_URL || \"https://remotion-bundler.buzzle.site/\"\r\nexport const ServerJobs = {\r\n  getAll: async () => {\r\n    const response = await fetch(uri, {\r\n      headers: { \"nexrender-secret\": \"myapisecret\" },\r\n    });\r\n    if (response.ok) {\r\n      return await response\r\n        .json()\r\n        .then((v) =>\r\n          //@ts-ignore\r\n          v.sort((a, b) => new Date(b?.updatedAt) - new Date(a?.updatedAt))\r\n        );\r\n    } else {\r\n      throw new Error(\r\n        \"Wrong or no authentication secret provided. Please check the nexrender-secret header.\"\r\n      );\r\n    }\r\n  },\r\n  get: async (id: string) => {\r\n    const response = await fetch(`${uri}/${id}`, {\r\n      headers: { \"nexrender-secret\": \"myapisecret\" },\r\n    });\r\n    return await response.json();\r\n  },\r\n  delete: async (id: string) => {\r\n    await fetch(`${uri}/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: { \"nexrender-secret\": \"myapisecret\" },\r\n    });\r\n    return true;\r\n  },\r\n  deleteAll: async (idArray = []) => {\r\n    await Promise.all(\r\n      idArray.map((id) =>\r\n        fetch(`${uri}/${id}`, {\r\n          method: \"DELETE\",\r\n          headers: { \"nexrender-secret\": \"myapisecret\" },\r\n        })\r\n      )\r\n    );\r\n    return true;\r\n  },\r\n};\r\nexport const getCountry = async () => {\r\n  const result = await fetch('http://ip-api.com/json');\r\n  const code = (await result.json())?.countryCode;\r\n  return code;\r\n};\r\nexport const getExtractionServerIP = async (type: \"ae\" | \"remotion\") => {\r\n  const aeExtraction = process.env.REACT_APP_AE_EXTRACT_URL || \"https://buzzle-extraction-service-6cjz5.ondigitalocean.app\"\r\n  if (type === 'ae') {\r\n    if (aeExtraction) {\r\n      const result = await fetch(`${aeExtraction}/status`)\r\n      if (result.ok) {\r\n        return aeExtraction\r\n      } else {\r\n        throw new Error(\"Error Server Status Not Ok\")\r\n      }\r\n    }\r\n    throw new Error(\"No Extraction Server Found\")\r\n  } else {\r\n    const result = await fetch(`${remotionExtraction}`)\r\n    if (result.ok) {\r\n      return remotionExtraction\r\n    }\r\n    else {\r\n      throw new Error(\"Error!\")\r\n    }\r\n  }\r\n}\r\nfunction random(mn: number, mx: number) {\r\n  return Math.random() * (mx - mn) + mn;\r\n}\r\nconst isIpHaveExtractionServerRunning = async (ip: string) => {\r\n  try {\r\n    return (await fetch(`http://${ip}`)).ok\r\n  } catch (err) {\r\n    return false\r\n  }\r\n\r\n}\r\nconst getIPWhichRunningExtractionServer = async (ipList: Array<string>) => {\r\n  const runningIp: Array<string> = []\r\n  await Promise.all(ipList?.map(async (ip) => {\r\n    if (await isIpHaveExtractionServerRunning(ip)) {\r\n      runningIp.push(ip)\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }))\r\n  return runningIp\r\n}\r\n// // export const {\r\n// //   Job,\r\n// //   User,\r\n// //   VideoTemplate,\r\n// //   Font,\r\n// //   Search,\r\n// //   Auth,\r\n// //   Webhook,\r\n// //   Creator,\r\n// // } = API;\r\n\r\n","export const exchangeRates = {\r\n  \"USD\": 1,\r\n  \"EUR\": 0.87985093329795,\r\n  \"GBP\": 0.73450700199059,\r\n  \"CAD\": 1.2698383167071,\r\n  \"JPY\": 115.05990179902,\r\n  \"AUD\": 1.3892320834385,\r\n  \"CHF\": 0.92072290045529,\r\n  \"MWK\": 808.45386025666,\r\n  \"GTQ\": 7.7392745709827,\r\n  \"KWD\": 0.30314836447479,\r\n  \"CZK\": 21.439723296941,\r\n  \"PGK\": 3.5111065779074,\r\n  \"UAH\": 28.265942045787,\r\n  \"ETB\": 51.077220077221,\r\n  \"XCD\": 2.7259427158459,\r\n  \"MMK\": 1789.3146979261,\r\n  \"MVR\": 15.557428459428,\r\n  \"SEK\": 9.3335747794564,\r\n  \"MAD\": 9.3935714654842,\r\n  \"RON\": 4.3475087997087,\r\n  \"BYN\": 2.5725356245269,\r\n  \"RSD\": 104.63566570582,\r\n  \"GMD\": 53.631081081083,\r\n  \"AWG\": 1.8016615216996,\r\n  \"SLL\": 11570.55393586,\r\n  \"KES\": 114.37505403614,\r\n  \"BHD\": 0.37749526073605,\r\n  \"OMR\": 0.38563450243603,\r\n  \"RUB\": 76.152817022385,\r\n  \"LYD\": 4.5942825180297,\r\n  \"CLP\": 796.93656650785,\r\n  \"BSD\": 1.0052940878464,\r\n  \"DJF\": 179.16572615232,\r\n  \"MZN\": 64.531707317073,\r\n  \"UGX\": 3540.3211418376,\r\n  \"BDT\": 85.681810736362,\r\n  \"QAR\": 3.6589343123353,\r\n  \"MXN\": 20.293380048467,\r\n  \"AMD\": 480.22641931647,\r\n  \"HTG\": 102.56732909318,\r\n  \"FJD\": 2.1561990655221,\r\n  \"CDF\": 2015.5916708989,\r\n  \"SDG\": 445.92134831462,\r\n  \"TOP\": 2.3061770004068,\r\n  \"VUV\": 113.97432583785,\r\n  \"HKD\": 7.798745283396,\r\n  \"THB\": 32.378643272596,\r\n  \"XAF\": 577.99842044124,\r\n  \"MDL\": 17.961792637666,\r\n  \"UYU\": 43.211830335327,\r\n  \"LRD\": 155.02734375,\r\n  \"LAK\": 11503.47826087,\r\n  \"BWP\": 11.560442761433,\r\n  \"JOD\": 0.71014361797584,\r\n  \"BGN\": 1.7201929132523,\r\n  \"VND\": 22679.242315895,\r\n  \"UZS\": 10800.540096605,\r\n  \"MGA\": 4008.7878787878,\r\n  \"TTD\": 6.8343378680903,\r\n  \"AOA\": 529.15999999999,\r\n  \"KHR\": 4091.4432989689,\r\n  \"NOK\": 8.9113497970422,\r\n  \"LKR\": 202.95696897418,\r\n  \"PLN\": 3.9620041365406,\r\n  \"PEN\": 3.7398443571328,\r\n  \"IQD\": 1453.5516083382,\r\n  \"NIO\": 35.689748201439,\r\n  \"CVE\": 97.992592592591,\r\n  \"HNL\": 24.7734082397,\r\n  \"SCR\": 13.344653665097,\r\n  \"DOP\": 56.784303999445,\r\n  \"NZD\": 1.4921814200551,\r\n  \"HRK\": 6.6242835332476,\r\n  \"DZD\": 139.88308557561,\r\n  \"ARS\": 106.96648770524,\r\n  \"STN\": 21.878169790518,\r\n  \"XPF\": 105.57018593887,\r\n  \"LSL\": 15.147709923664,\r\n  \"TZS\": 2329.0492957747,\r\n  \"BBD\": 2.0001592060179,\r\n  \"ANG\": 1.7974325744432,\r\n  \"PKR\": 175.86062031829,\r\n  \"KRW\": 1197.533015952,\r\n  \"AZN\": 1.6937229731155,\r\n  \"CRC\": 641.44678248905,\r\n  \"BND\": 1.3522897642088,\r\n  \"KMF\": 438.09471244068,\r\n  \"MRU\": 36.577880184332,\r\n  \"MNT\": 2892.638483965,\r\n  \"BRL\": 5.170196791905,\r\n  \"EGP\": 15.736655107857,\r\n  \"SGD\": 1.3434876049496,\r\n  \"ZAR\": 14.971148757071,\r\n  \"KGS\": 84.616525461596,\r\n  \"PYG\": 6964.3819143818,\r\n  \"JMD\": 158.1155378486,\r\n  \"SSP\": 435.21219431956,\r\n  \"GHS\": 6.4406037000972,\r\n  \"CUP\": 1.0052940878464,\r\n  \"DKK\": 6.5430746836678,\r\n  \"INR\": 75.042870268125,\r\n  \"TRY\": 13.599495141737,\r\n  \"TWD\": 27.872495995024,\r\n  \"TMT\": 3.4893190325974,\r\n  \"AFN\": 92.16674407803,\r\n  \"SRD\": 20.584543568465,\r\n  \"ZMW\": 18.039545454545,\r\n  \"YER\": 251.83704549781,\r\n  \"LBP\": 1502.7741416444,\r\n  \"HUF\": 312.96173498065,\r\n  \"NGN\": 417.16633698862,\r\n  \"IRR\": 41811.474953212,\r\n  \"SVC\": 8.8115008880995,\r\n  \"SBD\": 8.0582741116752,\r\n  \"ALL\": 107.2969611766,\r\n  \"MUR\": 44.343016759777,\r\n  \"VES\": 4.4544402211163,\r\n  \"NPR\": 120.5251854543,\r\n  \"ISK\": 124.54167087878,\r\n  \"GIP\": 0.73870738653128,\r\n  \"GEL\": 3.0288780977101,\r\n  \"MKD\": 54.455268935236,\r\n  \"BIF\": 2011.5053218449,\r\n  \"SZL\": 15.147709923664,\r\n  \"SOS\": 582.17691066451,\r\n  \"AED\": 3.6611806534397,\r\n  \"PHP\": 51.291726106389,\r\n  \"ILS\": 3.1871342480973,\r\n  \"MRO\": 36.370413511941,\r\n  \"COP\": 3959.5910211226,\r\n  \"BZD\": 2.0285728889798,\r\n  \"GNF\": 9060.9589041098,\r\n  \"ERN\": 15.170871559633,\r\n  \"WST\": 2.6375357214062,\r\n  \"CNY\": 6.3378620103284,\r\n  \"SAR\": 3.7527113829009,\r\n  \"MYR\": 4.1815063525545,\r\n  \"KZT\": 428.78060847135,\r\n  \"PAB\": 1.0026470439232,\r\n  \"GYD\": 210.54111405835,\r\n  \"RWF\": 1046.3221724229,\r\n  \"SYP\": 2480.4375,\r\n  \"MOP\": 8.0911314984709,\r\n  \"BAM\": 1.7328297602934,\r\n  \"IDR\": 14279.085907792,\r\n  \"TND\": 2.8876513810311,\r\n  \"XOF\": 577.89007974538,\r\n  \"TJS\": 11.266057855192,\r\n  \"BOB\": 6.8894665271965,\r\n  \"NAD\": 15.159281894576\r\n};\r\n//end\r\n\r\nexport const currencyCodes: any = {\r\n  BD: 'BDT',\r\n  BE: 'EUR',\r\n  BF: 'XOF',\r\n  BG: 'BGN',\r\n  BA: 'BAM',\r\n  BB: 'BBD',\r\n  WF: 'XPF',\r\n  BL: 'EUR',\r\n  BM: 'BMD',\r\n  BN: 'BND',\r\n  BO: 'BOB',\r\n  BH: 'BHD',\r\n  BI: 'BIF',\r\n  BJ: 'XOF',\r\n  BT: 'BTN',\r\n  JM: 'JMD',\r\n  BV: 'NOK',\r\n  BW: 'BWP',\r\n  WS: 'WST',\r\n  BQ: 'USD',\r\n  BR: 'BRL',\r\n  BS: 'BSD',\r\n  JE: 'GBP',\r\n  BY: 'BYR',\r\n  BZ: 'BZD',\r\n  RU: 'RUB',\r\n  RW: 'RWF',\r\n  RS: 'RSD',\r\n  TL: 'USD',\r\n  RE: 'EUR',\r\n  TM: 'TMT',\r\n  TJ: 'TJS',\r\n  RO: 'RON',\r\n  TK: 'NZD',\r\n  GW: 'XOF',\r\n  GU: 'USD',\r\n  GT: 'GTQ',\r\n  GS: 'GBP',\r\n  GR: 'EUR',\r\n  GQ: 'XAF',\r\n  GP: 'EUR',\r\n  JP: 'JPY',\r\n  GY: 'GYD',\r\n  GG: 'GBP',\r\n  GF: 'EUR',\r\n  GE: 'GEL',\r\n  GD: 'XCD',\r\n  GB: 'GBP',\r\n  GA: 'XAF',\r\n  SV: 'USD',\r\n  GN: 'GNF',\r\n  GM: 'GMD',\r\n  GL: 'DKK',\r\n  GI: 'GIP',\r\n  GH: 'GHS',\r\n  OM: 'OMR',\r\n  TN: 'TND',\r\n  JO: 'JOD',\r\n  HR: 'HRK',\r\n  HT: 'HTG',\r\n  HU: 'HUF',\r\n  HK: 'HKD',\r\n  HN: 'HNL',\r\n  HM: 'AUD',\r\n  VE: 'VEF',\r\n  PR: 'USD',\r\n  PS: 'ILS',\r\n  PW: 'USD',\r\n  PT: 'EUR',\r\n  SJ: 'NOK',\r\n  PY: 'PYG',\r\n  IQ: 'IQD',\r\n  PA: 'PAB',\r\n  PF: 'XPF',\r\n  PG: 'PGK',\r\n  PE: 'PEN',\r\n  PK: 'PKR',\r\n  PH: 'PHP',\r\n  PN: 'NZD',\r\n  PL: 'PLN',\r\n  PM: 'EUR',\r\n  ZM: 'ZMK',\r\n  EH: 'MAD',\r\n  EE: 'EUR',\r\n  EG: 'EGP',\r\n  ZA: 'ZAR',\r\n  EC: 'USD',\r\n  IT: 'EUR',\r\n  VN: 'VND',\r\n  SB: 'SBD',\r\n  ET: 'ETB',\r\n  SO: 'SOS',\r\n  ZW: 'ZWL',\r\n  SA: 'SAR',\r\n  ES: 'EUR',\r\n  ER: 'ERN',\r\n  ME: 'EUR',\r\n  MD: 'MDL',\r\n  MG: 'MGA',\r\n  MF: 'EUR',\r\n  MA: 'MAD',\r\n  MC: 'EUR',\r\n  UZ: 'UZS',\r\n  MM: 'MMK',\r\n  ML: 'XOF',\r\n  MO: 'MOP',\r\n  MN: 'MNT',\r\n  MH: 'USD',\r\n  MK: 'MKD',\r\n  MU: 'MUR',\r\n  MT: 'EUR',\r\n  MW: 'MWK',\r\n  MV: 'MVR',\r\n  MQ: 'EUR',\r\n  MP: 'USD',\r\n  MS: 'XCD',\r\n  MR: 'MRO',\r\n  IM: 'GBP',\r\n  UG: 'UGX',\r\n  TZ: 'TZS',\r\n  MY: 'MYR',\r\n  MX: 'MXN',\r\n  IL: 'ILS',\r\n  FR: 'EUR',\r\n  IO: 'USD',\r\n  SH: 'SHP',\r\n  FI: 'EUR',\r\n  FJ: 'FJD',\r\n  FK: 'FKP',\r\n  FM: 'USD',\r\n  FO: 'DKK',\r\n  NI: 'NIO',\r\n  NL: 'EUR',\r\n  NO: 'NOK',\r\n  NA: 'NAD',\r\n  VU: 'VUV',\r\n  NC: 'XPF',\r\n  NE: 'XOF',\r\n  NF: 'AUD',\r\n  NG: 'NGN',\r\n  NZ: 'NZD',\r\n  NP: 'NPR',\r\n  NR: 'AUD',\r\n  NU: 'NZD',\r\n  CK: 'NZD',\r\n  XK: 'EUR',\r\n  CI: 'XOF',\r\n  CH: 'CHF',\r\n  CO: 'COP',\r\n  CN: 'CNY',\r\n  CM: 'XAF',\r\n  CL: 'CLP',\r\n  CC: 'AUD',\r\n  CA: 'CAD',\r\n  CG: 'XAF',\r\n  CF: 'XAF',\r\n  CD: 'CDF',\r\n  CZ: 'CZK',\r\n  CY: 'EUR',\r\n  CX: 'AUD',\r\n  CR: 'CRC',\r\n  CW: 'ANG',\r\n  CV: 'CVE',\r\n  CU: 'CUP',\r\n  SZ: 'SZL',\r\n  SY: 'SYP',\r\n  SX: 'ANG',\r\n  KG: 'KGS',\r\n  KE: 'KES',\r\n  SS: 'SSP',\r\n  SR: 'SRD',\r\n  KI: 'AUD',\r\n  KH: 'KHR',\r\n  KN: 'XCD',\r\n  KM: 'KMF',\r\n  ST: 'STD',\r\n  SK: 'EUR',\r\n  KR: 'KRW',\r\n  SI: 'EUR',\r\n  KP: 'KPW',\r\n  KW: 'KWD',\r\n  SN: 'XOF',\r\n  SM: 'EUR',\r\n  SL: 'SLL',\r\n  SC: 'SCR',\r\n  KZ: 'KZT',\r\n  KY: 'KYD',\r\n  SG: 'SGD',\r\n  SE: 'SEK',\r\n  SD: 'SDG',\r\n  DO: 'DOP',\r\n  DM: 'XCD',\r\n  DJ: 'DJF',\r\n  DK: 'DKK',\r\n  VG: 'USD',\r\n  DE: 'EUR',\r\n  YE: 'YER',\r\n  DZ: 'DZD',\r\n  US: 'USD',\r\n  UY: 'UYU',\r\n  YT: 'EUR',\r\n  UM: 'USD',\r\n  LB: 'LBP',\r\n  LC: 'XCD',\r\n  LA: 'LAK',\r\n  TV: 'AUD',\r\n  TW: 'TWD',\r\n  TT: 'TTD',\r\n  TR: 'TRY',\r\n  LK: 'LKR',\r\n  LI: 'CHF',\r\n  LV: 'EUR',\r\n  TO: 'TOP',\r\n  LT: 'LTL',\r\n  LU: 'EUR',\r\n  LR: 'LRD',\r\n  LS: 'LSL',\r\n  TH: 'THB',\r\n  TF: 'EUR',\r\n  TG: 'XOF',\r\n  TD: 'XAF',\r\n  TC: 'USD',\r\n  LY: 'LYD',\r\n  VA: 'EUR',\r\n  VC: 'XCD',\r\n  AE: 'AED',\r\n  AD: 'EUR',\r\n  AG: 'XCD',\r\n  AF: 'AFN',\r\n  AI: 'XCD',\r\n  VI: 'USD',\r\n  IS: 'ISK',\r\n  IR: 'IRR',\r\n  AM: 'AMD',\r\n  AL: 'ALL',\r\n  AO: 'AOA',\r\n  AQ: '',\r\n  AS: 'USD',\r\n  AR: 'ARS',\r\n  AU: 'AUD',\r\n  AT: 'EUR',\r\n  AW: 'AWG',\r\n  IN: 'INR',\r\n  AX: 'EUR',\r\n  AZ: 'AZN',\r\n  IE: 'EUR',\r\n  ID: 'IDR',\r\n  UA: 'UAH',\r\n  QA: 'QAR',\r\n  MZ: 'MZN',\r\n};\r\nexport const countryCodes: any = {\r\n  BD: '+880',\r\n  BE: '+32',\r\n  BF: '+226',\r\n  BG: '+359',\r\n  BA: '+387',\r\n  BB: '+1-246',\r\n  WF: '+681',\r\n  BL: '+590',\r\n  BM: '+1-441',\r\n  BN: '+673',\r\n  BO: '+591',\r\n  BH: '+973',\r\n  BI: '+257',\r\n  BJ: '+229',\r\n  BT: '+975',\r\n  JM: '+1-876',\r\n  BV: '+',\r\n  BW: '+267',\r\n  WS: '+685',\r\n  BQ: '+599',\r\n  BR: '+55',\r\n  BS: '+1-242',\r\n  JE: '+44-1534',\r\n  BY: '+375',\r\n  BZ: '+501',\r\n  RU: '+7',\r\n  RW: '+250',\r\n  RS: '+381',\r\n  TL: '+670',\r\n  RE: '+262',\r\n  TM: '+993',\r\n  TJ: '+992',\r\n  RO: '+40',\r\n  TK: '+690',\r\n  GW: '+245',\r\n  GU: '+1-671',\r\n  GT: '+502',\r\n  GS: '+',\r\n  GR: '+30',\r\n  GQ: '+240',\r\n  GP: '+590',\r\n  JP: '+81',\r\n  GY: '+592',\r\n  GG: '+44-1481',\r\n  GF: '+594',\r\n  GE: '+995',\r\n  GD: '+1-473',\r\n  GB: '+44',\r\n  GA: '+241',\r\n  SV: '+503',\r\n  GN: '+224',\r\n  GM: '+220',\r\n  GL: '+299',\r\n  GI: '+350',\r\n  GH: '+233',\r\n  OM: '+968',\r\n  TN: '+216',\r\n  JO: '+962',\r\n  HR: '+385',\r\n  HT: '+509',\r\n  HU: '+36',\r\n  HK: '+852',\r\n  HN: '+504',\r\n  HM: '+ ',\r\n  VE: '+58',\r\n  PR: '+1-787 and 1-939',\r\n  PS: '+970',\r\n  PW: '+680',\r\n  PT: '+351',\r\n  SJ: '+47',\r\n  PY: '+595',\r\n  IQ: '+964',\r\n  PA: '+507',\r\n  PF: '+689',\r\n  PG: '+675',\r\n  PE: '+51',\r\n  PK: '+92',\r\n  PH: '+63',\r\n  PN: '+870',\r\n  PL: '+48',\r\n  PM: '+508',\r\n  ZM: '+260',\r\n  EH: '+212',\r\n  EE: '+372',\r\n  EG: '+20',\r\n  ZA: '+27',\r\n  EC: '+593',\r\n  IT: '+39',\r\n  VN: '+84',\r\n  SB: '+677',\r\n  ET: '+251',\r\n  SO: '+252',\r\n  ZW: '+263',\r\n  SA: '+966',\r\n  ES: '+34',\r\n  ER: '+291',\r\n  ME: '+382',\r\n  MD: '+373',\r\n  MG: '+261',\r\n  MF: '+590',\r\n  MA: '+212',\r\n  MC: '+377',\r\n  UZ: '+998',\r\n  MM: '+95',\r\n  ML: '+223',\r\n  MO: '+853',\r\n  MN: '+976',\r\n  MH: '+692',\r\n  MK: '+389',\r\n  MU: '+230',\r\n  MT: '+356',\r\n  MW: '+265',\r\n  MV: '+960',\r\n  MQ: '+596',\r\n  MP: '+1-670',\r\n  MS: '+1-664',\r\n  MR: '+222',\r\n  IM: '+44-1624',\r\n  UG: '+256',\r\n  TZ: '+255',\r\n  MY: '+60',\r\n  MX: '+52',\r\n  IL: '+972',\r\n  FR: '+33',\r\n  IO: '+246',\r\n  SH: '+290',\r\n  FI: '+358',\r\n  FJ: '+679',\r\n  FK: '+500',\r\n  FM: '+691',\r\n  FO: '+298',\r\n  NI: '+505',\r\n  NL: '+31',\r\n  NO: '+47',\r\n  NA: '+264',\r\n  VU: '+678',\r\n  NC: '+687',\r\n  NE: '+227',\r\n  NF: '+672',\r\n  NG: '+234',\r\n  NZ: '+64',\r\n  NP: '+977',\r\n  NR: '+674',\r\n  NU: '+683',\r\n  CK: '+682',\r\n  XK: '+',\r\n  CI: '+225',\r\n  CH: '+41',\r\n  CO: '+57',\r\n  CN: '+86',\r\n  CM: '+237',\r\n  CL: '+56',\r\n  CC: '+61',\r\n  CA: '+1',\r\n  CG: '+242',\r\n  CF: '+236',\r\n  CD: '+243',\r\n  CZ: '+420',\r\n  CY: '+357',\r\n  CX: '+61',\r\n  CR: '+506',\r\n  CW: '+599',\r\n  CV: '+238',\r\n  CU: '+53',\r\n  SZ: '+268',\r\n  SY: '+963',\r\n  SX: '+599',\r\n  KG: '+996',\r\n  KE: '+254',\r\n  SS: '+211',\r\n  SR: '+597',\r\n  KI: '+686',\r\n  KH: '+855',\r\n  KN: '+1-869',\r\n  KM: '+269',\r\n  ST: '+239',\r\n  SK: '+421',\r\n  KR: '+82',\r\n  SI: '+386',\r\n  KP: '+850',\r\n  KW: '+965',\r\n  SN: '+221',\r\n  SM: '+378',\r\n  SL: '+232',\r\n  SC: '+248',\r\n  KZ: '+7',\r\n  KY: '+1-345',\r\n  SG: '+65',\r\n  SE: '+46',\r\n  SD: '+249',\r\n  DO: '+1-809 and 1-829',\r\n  DM: '+1-767',\r\n  DJ: '+253',\r\n  DK: '+45',\r\n  VG: '+1-284',\r\n  DE: '+49',\r\n  YE: '+967',\r\n  DZ: '+213',\r\n  US: '+1',\r\n  UY: '+598',\r\n  YT: '+262',\r\n  UM: '+1',\r\n  LB: '+961',\r\n  LC: '+1-758',\r\n  LA: '+856',\r\n  TV: '+688',\r\n  TW: '+886',\r\n  TT: '+1-868',\r\n  TR: '+90',\r\n  LK: '+94',\r\n  LI: '+423',\r\n  LV: '+371',\r\n  TO: '+676',\r\n  LT: '+370',\r\n  LU: '+352',\r\n  LR: '+231',\r\n  LS: '+266',\r\n  TH: '+66',\r\n  TF: '+',\r\n  TG: '+228',\r\n  TD: '+235',\r\n  TC: '+1-649',\r\n  LY: '+218',\r\n  VA: '+379',\r\n  VC: '+1-784',\r\n  AE: '+971',\r\n  AD: '+376',\r\n  AG: '+1-268',\r\n  AF: '+93',\r\n  AI: '+1-264',\r\n  VI: '+1-340',\r\n  IS: '+354',\r\n  IR: '+98',\r\n  AM: '+374',\r\n  AL: '+355',\r\n  AO: '+244',\r\n  AQ: '+',\r\n  AS: '+1-684',\r\n  AR: '+54',\r\n  AU: '+61',\r\n  AT: '+43',\r\n  AW: '+297',\r\n  IN: '+91',\r\n  AX: '+358-18',\r\n  AZ: '+994',\r\n  IE: '+353',\r\n  ID: '+62',\r\n  UA: '+380',\r\n  QA: '+974',\r\n  MZ: '+258',\r\n};\r\n\r\nexport const currencyInfo: any = {\r\n  AED: {\r\n    symbol: 'د.إ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  AFN: {\r\n    symbol: '؋',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ALL: {\r\n    symbol: 'L',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  AMD: {\r\n    symbol: 'դր.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ANG: {\r\n    symbol: 'ƒ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  AOA: {\r\n    symbol: 'Kz',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ARS: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  AUD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  AWG: {\r\n    symbol: 'ƒ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  AZN: {\r\n    symbol: '₼',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BAM: {\r\n    symbol: 'КМ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BBD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BDT: {\r\n    symbol: '৳',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BGN: {\r\n    symbol: 'лв.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  BHD: {\r\n    symbol: 'د.ب',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BIF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  BMD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BND: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BOB: {\r\n    symbol: 'Bs.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BRL: {\r\n    symbol: 'R$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  BSD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BTN: {\r\n    symbol: 'Nu.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  BWP: {\r\n    symbol: 'P',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  BYN: {\r\n    symbol: 'Br',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  BYR: {\r\n    symbol: 'Br',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  BZD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  CAD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  CDF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  CHF: {\r\n    symbol: 'CHF',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  CLF: {\r\n    symbol: 'UF',\r\n    subunit_to_unit: 10000,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  CLP: {\r\n    symbol: '$',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  CNY: {\r\n    symbol: '¥',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  COP: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  CRC: {\r\n    symbol: '₡',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  CUC: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  CUP: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  CVE: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  CZK: {\r\n    symbol: 'Kč',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  DJF: {\r\n    symbol: 'Fdj',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  DKK: {\r\n    symbol: 'kr.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  DOP: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  DZD: {\r\n    symbol: 'د.ج',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  EGP: {\r\n    symbol: 'ج.م',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  ERN: {\r\n    symbol: 'Nfk',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ETB: {\r\n    symbol: 'Br',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  EUR: {\r\n    symbol: '€',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  FJD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  FKP: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  GBP: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  GEL: {\r\n    symbol: 'ლ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  GHS: {\r\n    symbol: '₵',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  GIP: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  GMD: {\r\n    symbol: 'D',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  GNF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  GTQ: {\r\n    symbol: 'Q',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  GYD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  HKD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  HNL: {\r\n    symbol: 'L',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  HRK: {\r\n    symbol: 'kn',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  HTG: {\r\n    symbol: 'G',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  HUF: {\r\n    symbol: 'Ft',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  IDR: {\r\n    symbol: 'Rp',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  ILS: {\r\n    symbol: '₪',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  INR: {\r\n    symbol: '₹',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  IQD: {\r\n    symbol: 'ع.د',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  IRR: {\r\n    symbol: '﷼',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  ISK: {\r\n    symbol: 'kr.',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  JMD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  JOD: {\r\n    symbol: 'د.ا',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  JPY: {\r\n    symbol: '¥',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  KES: {\r\n    symbol: 'KSh',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  KGS: {\r\n    symbol: 'som',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  KHR: {\r\n    symbol: '៛',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  KMF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  KPW: {\r\n    symbol: '₩',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  KRW: {\r\n    symbol: '₩',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  KWD: {\r\n    symbol: 'د.ك',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  KYD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  KZT: {\r\n    symbol: '₸',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  LAK: {\r\n    symbol: '₭',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  LBP: {\r\n    symbol: 'ل.ل',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  LKR: {\r\n    symbol: '₨',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  LRD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  LSL: {\r\n    symbol: 'L',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  LYD: {\r\n    symbol: 'ل.د',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MAD: {\r\n    symbol: 'د.م.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MDL: {\r\n    symbol: 'L',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MGA: {\r\n    symbol: 'Ar',\r\n    subunit_to_unit: 5,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  MKD: {\r\n    symbol: 'ден',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MMK: {\r\n    symbol: 'K',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MNT: {\r\n    symbol: '₮',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MOP: {\r\n    symbol: 'P',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MRU: {\r\n    symbol: 'UM',\r\n    subunit_to_unit: 5,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MUR: {\r\n    symbol: '₨',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  MVR: {\r\n    symbol: 'MVR',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MWK: {\r\n    symbol: 'MK',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  MXN: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  MYR: {\r\n    symbol: 'RM',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  MZN: {\r\n    symbol: 'MTn',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  NAD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  NGN: {\r\n    symbol: '₦',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  NIO: {\r\n    symbol: 'C$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  NOK: {\r\n    symbol: 'kr',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  NPR: {\r\n    symbol: 'Rs.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  NZD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  OMR: {\r\n    symbol: 'ر.ع.',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  PAB: {\r\n    symbol: 'B/.',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  PEN: {\r\n    symbol: 'S/',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  PGK: {\r\n    symbol: 'K',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  PHP: {\r\n    symbol: '₱',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  PKR: {\r\n    symbol: '₨',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  PLN: {\r\n    symbol: 'zł',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  PYG: {\r\n    symbol: '₲',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  QAR: {\r\n    symbol: 'ر.ق',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  RON: {\r\n    symbol: 'Lei',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  RSD: {\r\n    symbol: 'РСД',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  RUB: {\r\n    symbol: '₽',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  RWF: {\r\n    symbol: 'FRw',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SAR: {\r\n    symbol: 'ر.س',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  SBD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SCR: {\r\n    symbol: '₨',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SDG: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  SEK: {\r\n    symbol: 'kr',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: ' ',\r\n    symbol_first: false,\r\n  },\r\n  SGD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  SHP: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SKK: {\r\n    symbol: 'Sk',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  SLL: {\r\n    symbol: 'Le',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SOS: {\r\n    symbol: 'Sh',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SRD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SSP: {\r\n    symbol: '£',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  STD: {\r\n    symbol: 'Db',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SVC: {\r\n    symbol: '₡',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  SYP: {\r\n    symbol: '£S',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  SZL: {\r\n    symbol: 'E',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  THB: {\r\n    symbol: '฿',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  TJS: {\r\n    symbol: 'ЅМ',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  TMT: {\r\n    symbol: 'T',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  TND: {\r\n    symbol: 'د.ت',\r\n    subunit_to_unit: 1000,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  TOP: {\r\n    symbol: 'T$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  TRY: {\r\n    symbol: '₺',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  TTD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  TWD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  TZS: {\r\n    symbol: 'Sh',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  UAH: {\r\n    symbol: '₴',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  UGX: {\r\n    symbol: 'USh',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  USD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  UYU: {\r\n    symbol: '$U',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  UZS: {\r\n    symbol: \"so'm\",\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  VES: {\r\n    symbol: 'Bs',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: true,\r\n  },\r\n  VND: {\r\n    symbol: '₫',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: ',',\r\n    thousands_separator: '.',\r\n    symbol_first: false,\r\n  },\r\n  VUV: {\r\n    symbol: 'Vt',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  WST: {\r\n    symbol: 'T',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XAF: {\r\n    symbol: 'CFA',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XAG: {\r\n    symbol: 'oz t',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XAU: {\r\n    symbol: 'oz t',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XBA: {\r\n    symbol: '',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XBB: {\r\n    symbol: '',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XBC: {\r\n    symbol: '',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XBD: {\r\n    symbol: '',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XCD: {\r\n    symbol: '$',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  XDR: {\r\n    symbol: 'SDR',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XOF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XPD: {\r\n    symbol: 'oz t',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XPF: {\r\n    symbol: 'Fr',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XPT: {\r\n    symbol: 'oz t',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  XTS: {\r\n    symbol: '',\r\n    subunit_to_unit: 1,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  YER: {\r\n    symbol: '﷼',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ZAR: {\r\n    symbol: 'R',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n  ZMK: {\r\n    symbol: 'ZK',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: false,\r\n  },\r\n  ZMW: {\r\n    symbol: 'K',\r\n    subunit_to_unit: 100,\r\n    decimal_mark: '.',\r\n    thousands_separator: ',',\r\n    symbol_first: true,\r\n  },\r\n};\r\n","import React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  ReactNode,\r\n} from 'react';\r\nimport fx from 'money';\r\nimport { getCountry } from './api';\r\nimport { countryCodes, currencyCodes, currencyInfo, exchangeRates } from '../helpers/Currencies';\r\nconst defaultValue = {\r\n  getConvertedCurrency: (value: number, round?: boolean, humanize?: boolean): string => '',\r\n  currency: 'INR',\r\n  countryCode: '+91',\r\n  getConvertedCurrencyValue: (value: number): number => 0,\r\n  baseUnitValueOfCurrency: 100,\r\n};\r\nconst CurrencyContext = createContext(defaultValue);\r\ninterface IProps {\r\n  value?: any;\r\n  children?: ReactNode;\r\n}\r\nfunction useCurrency() {\r\n  const context = useContext(CurrencyContext);\r\n  if (!context) {\r\n    console.log('useCurrency must be used within a CurrencyProvider');\r\n  }\r\n  return context;\r\n}\r\nfunction CurrencyProvider(props: IProps) {\r\n  const [country, setCountry] = useState<string>('IN');\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const currencyData = currencyInfo[currencyCodes[country || \"IN\"] || \"INR\" || 'INR'];\r\n  const init = async () => {\r\n    const code = localStorage.getItem('country');\r\n    if (code !== null) {\r\n      let currencyCode = currencyCodes[code];\r\n      setCountry(exchangeRates?.hasOwnProperty(currencyCode) ? code : 'IN');\r\n    } else {\r\n      const code = await getCountry();\r\n      let currencyCode = currencyCodes[code];\r\n      setCountry(exchangeRates?.hasOwnProperty(currencyCode) ? code : 'IN');\r\n      localStorage.setItem(\r\n        'country',\r\n        exchangeRates?.hasOwnProperty(currencyCode) ? code || \"IN\" : 'IN',\r\n      );\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    fx.rates = exchangeRates;\r\n  }, [exchangeRates]);\r\n  const getConvertedCurrency = (price: number, round?: boolean, humanize?: boolean): string => {\r\n    let value = fx(price).from('USD').to(currencyCodes[country || \"IN\"] || \"INR\")\r\n\r\n    const p = currencyData['symbol_first']\r\n      ? `${currencyData['symbol']} ${round ? parseFloat(value).toFixed(2) : value}`\r\n      : `${round ? parseFloat(value).toFixed(2) : value} ${currencyData['symbol']}`;\r\n    return (value == 0 && humanize ? 'FREE' : p).replace('.', currencyData['decimal_mark']);\r\n  };\r\n  const getConvertedCurrencyValue = (price: number, round?: boolean) => {\r\n    const p = fx(price).from('USD').to(currencyCodes[country || \"IN\"] || \"INR\")\r\n    if (round) return parseFloat(p).toFixed(2)\r\n    return parseFloat(p);\r\n  };\r\n  const value = useMemo(() => {\r\n    return {\r\n      getConvertedCurrency,\r\n      currency: currencyCodes[country || \"IN\"] || \"INR\",\r\n      countryCode: countryCodes[country],\r\n      getConvertedCurrencyValue,\r\n      baseUnitValueOfCurrency: currencyData['subunit_to_unit'],\r\n    };\r\n  }, [country]);\r\n  return <CurrencyContext.Provider value={value} {...props} />;\r\n}\r\nexport { CurrencyProvider, useCurrency };\r\n","import { Chip, Hidden, Menu, MenuItem } from \"@material-ui/core\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { createStyles, makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport BrightnessHigh from \"@material-ui/icons/BrightnessHigh\";\r\nimport BrightnessLow from \"@material-ui/icons/BrightnessLow\";\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Notifications from \"@material-ui/icons/Notifications\";\r\nimport clsx from \"clsx\";\r\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\r\nimport { useDarkMode } from \"helpers/useDarkMode\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { forwardRef, MouseEventHandler, useMemo, useState } from \"react\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\nimport { useReAuthFlow } from \"services/Re-AuthContext\";\r\nimport { useAuth } from \"../services/auth\";\r\nimport RoleBasedView from \"./RoleBasedView\";\r\nimport { useCurrency } from \"services/currencyContext\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nfunction ListItemLink(props: {\r\n  to: string,\r\n  primary: string,\r\n  icon: JSX.Element,\r\n}) {\r\n  const { icon, primary, to } = props;\r\n  const renderLink = useMemo(\r\n    () =>\r\n      forwardRef((itemProps, ref: any) => (\r\n        <RouterLink to={to} ref={ref} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  return (\r\n    <li>\r\n      <ListItem\r\n        style={{ height: 48 }}\r\n        button\r\n        component={renderLink}>\r\n        {icon ? <ListItemIcon style={{ marginLeft: 5 }}>{icon}</ListItemIcon> : null}\r\n        <ListItemText primary={primary} />\r\n      </ListItem>\r\n    </li>\r\n  );\r\n}\r\nconst useStyles = makeStyles((theme) => createStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    flexgrow: 1\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: `calc(100% - ${drawerWidth}px)`,\r\n      marginLeft: drawerWidth,\r\n      transition: theme.transitions.create([\"width\", \"margin\"], {\r\n        easing: theme.transitions.easing.sharp,\r\n        duration: theme.transitions.duration.enteringScreen,\r\n      }),\r\n    },\r\n  },\r\n\r\n  menuButton: {\r\n    // marginRight: 36,\r\n    marginRight: theme.spacing(2),\r\n\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerClose: {\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    overflowX: \"hidden\",\r\n    width: theme.spacing(7) + 1,\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9) + 1,\r\n    },\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    padding: theme.spacing(1, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n  },\r\n  menu: {\r\n\r\n  },\r\n  grow: {\r\n    flexGrow: 1\r\n  }\r\n})\r\n);\r\n\r\n\r\ntype IProps = {\r\n  items: Array<{\r\n    text: string,\r\n    icon: JSX.Element,\r\n    to: string,\r\n    allowedRoles: Array<'user' | \"admin\">\r\n  }>,\r\n  window?: () => Window;\r\n}\r\nexport default function NavBar({ items, window }: IProps) {\r\n  const classes = useStyles();\r\n  const { user } = useAuth();\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const { reAuthInit } = useReAuthFlow()\r\n  const theme = useTheme();\r\n  const { getConvertedCurrency } = useCurrency()\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const { signOut } = useAuth();\r\n  const history = useHistory();\r\n  const [t, toggleTheme, componentMounted] = useDarkMode();\r\n  const handleDrawerToggle = () => setDrawerOpen(v => !v)\r\n  const handleDrawerOpen = () => {\r\n    setDrawerOpen(true);\r\n  };\r\n\r\n  const handleDrawerClose = () => {\r\n    setDrawerOpen(false);\r\n  };\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = (event: any) => {\r\n    setAnchorEl(event?.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const drawer = (<><div className={classes.toolbar}>\r\n    <Box flex={1}>\r\n      <Typography\r\n        noWrap\r\n        component={RouterLink}\r\n        to=\"/home\"\r\n        variant=\"h5\"\r\n        color=\"textPrimary\"\r\n        style={{\r\n          paddingLeft: 20,\r\n          textDecoration: \"none\",\r\n          fontWeight: 800,\r\n          fontFamily: \"Poppins\",\r\n        }}>\r\n        Buzzle!\r\n      </Typography>\r\n    </Box>\r\n    <IconButton onClick={handleDrawerClose}>\r\n      {theme.direction === \"rtl\" ? (\r\n        <ChevronRightIcon />\r\n      ) : (\r\n        <ChevronLeftIcon />\r\n      )}\r\n    </IconButton>\r\n  </div>\r\n    <Divider />\r\n    <List>\r\n      {items.map((item, index) => (\r\n        <RoleBasedView key={item.text} allowedRoles={item?.allowedRoles ?? []}>\r\n          <ListItemLink\r\n            key={item.text + item.icon}\r\n            to={item.to}\r\n            primary={drawerOpen ? item.text : \"\"}\r\n            icon={item.icon}\r\n          />\r\n        </RoleBasedView>\r\n      ))}\r\n    </List></>)\r\n\r\n  const container = window !== undefined ? () => window().document.body : undefined;\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarShift]: drawerOpen,\r\n        })}>\r\n        <Toolbar>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            edge=\"start\"\r\n            className={clsx(classes.menuButton, {\r\n              [classes.hide]: drawerOpen,\r\n            })}>\r\n            <MenuIcon />\r\n          </IconButton>\r\n          {drawerOpen ? (\r\n            <div></div>\r\n          ) : (\r\n            <Typography\r\n              color=\"inherit\"\r\n              component={RouterLink}\r\n              to=\"/home\"\r\n              noWrap\r\n              variant=\"h5\"\r\n              style={{\r\n                textDecoration: \"none\",\r\n                fontWeight: 800,\r\n                fontFamily: \"Poppins\",\r\n              }}>\r\n              Buzzle!\r\n            </Typography>\r\n          )}\r\n          <div className={classes.grow} />\r\n          <div className={classes.menu}>\r\n            <Chip\r\n              style={{ marginRight: 10 }}\r\n              avatar={<AccountBalanceWalletIcon />}\r\n              label={`${getConvertedCurrency(parseFloat(`${user?.stripeCustomer?.balance ?? 0}`),true)}`}\r\n              variant=\"default\"\r\n            />\r\n            <Chip\r\n              avatar={<Avatar alt=\"avatar\"\r\n                src={user?.photoURL || \"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\"}\r\n              />}\r\n              label={user?.name}\r\n              onClick={handleMenu}\r\n              variant=\"default\"\r\n            />\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}>\r\n              <div style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                <Typography\r\n                  noWrap\r\n                  color=\"textPrimary\"\r\n                  style={{\r\n                    paddingLeft: 10,\r\n                    paddingRight: 10,\r\n                    textDecoration: \"none\",\r\n                    fontFamily: \"Poppins\",\r\n                  }}>\r\n                  Logged in as\r\n                </Typography>\r\n                <Typography\r\n                  noWrap\r\n                  color=\"textPrimary\"\r\n                  style={{\r\n                    paddingLeft: 10,\r\n                    paddingRight: 10,\r\n                    marginBottom: 10,\r\n                    fontWeight: 700,\r\n                    textDecoration: \"none\",\r\n                    fontFamily: \"Poppins\",\r\n                  }}>\r\n                  {user?.email}\r\n                </Typography>\r\n                <Divider />\r\n              </div>\r\n              <MenuItem onClick={() => {\r\n                handleClose()\r\n                history.push(\"/home/settings?tab=profile\")\r\n              }}>Profile</MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleClose()\r\n                  signOut()\r\n                }}>\r\n                Logout\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Hidden smUp implementation=\"css\">\r\n        <Drawer\r\n          container={container}\r\n          variant=\"temporary\"\r\n          anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n          open={drawerOpen}\r\n          onClose={handleDrawerToggle}\r\n          classes={{\r\n            paper: classes.drawerPaper,\r\n          }}\r\n          ModalProps={{\r\n            keepMounted: true, // Better open performance on mobile.\r\n          }}\r\n        >\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n      <Hidden xsDown implementation=\"css\">\r\n        <Drawer\r\n          variant=\"permanent\"\r\n          className={clsx(classes.drawer, {\r\n            [classes.drawerOpen]: drawerOpen,\r\n            [classes.drawerClose]: !drawerOpen,\r\n          })}\r\n          classes={{\r\n            paper: clsx({\r\n              [classes.drawerOpen]: drawerOpen,\r\n              [classes.drawerClose]: !drawerOpen,\r\n            }),\r\n          }}>\r\n          {drawer}\r\n        </Drawer>\r\n      </Hidden>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport { useAuth } from \"services/auth\";\r\nexport default (props: any) => {\r\n  const { user, isUserLoading } = useAuth();\r\n  const [isAuthorized, setIsAuthorized] = useState<boolean>(!(!user && !isUserLoading))\r\n  useEffect(() => {\r\n    setIsAuthorized(!(!user && !isUserLoading))\r\n  }, [user, isUserLoading])\r\n  if (!isAuthorized) return <Redirect to=\"/login\" />;\r\n  if (!props.allowedRoles?.includes(user?.role) && props.allowedRoles !== '*')\r\n    return <Redirect to=\"/NotFound\" />;\r\n  return <Route {...props} />;\r\n};\r\n","import {\r\n    Button, Paper,\r\n    Typography, Box, IconButton, Container, Chip,\r\n    Popover, Select, FormControl,\r\n    MenuItem, InputLabel, MenuList, Divider, CircularProgress\r\n} from \"@material-ui/core\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\r\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\r\nimport TodayIcon from '@material-ui/icons/Today';\r\nimport moment from 'moment'\r\nimport { DateRange } from 'react-date-range';\r\nimport 'react-date-range/dist/styles.css'; // main css file\r\nimport 'react-date-range/dist/theme/default.css'; // theme css file\r\nimport ApexCharts from \"react-apexcharts\";\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { duration } from \"./types\";\r\n\r\nexport default () => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const { Analytics } = useAPI()\r\n    const { token } = useAuth()\r\n    const [date, setDate] = useState<{\r\n        startDate: Date,\r\n        endDate: Date,\r\n        key?: string\r\n    }>(\r\n        {\r\n            startDate: moment().startOf('d').toDate(),\r\n            endDate: moment().endOf('d').toDate(),\r\n            key: 'selection'\r\n        }\r\n    );\r\n    const [loading, setLoading] = useState(false)\r\n    const [selectedDuration, setSelectedDuration] = useState<duration>('day')\r\n    const getCategories = (duration: duration): Array<{ from: Date, to: Date }> => {\r\n        duration = duration || selectedDuration\r\n        const categories = []\r\n        switch (duration) {\r\n            case \"day\":\r\n                for (let index = moment(date.startDate); index.isBefore(moment(date.endDate).add(1, 's'), 's'); index.add(3, 'h')) {\r\n                    categories.push({ from: index.toDate(), to: moment(index.toDate()).add(3, 'h').subtract(1, 's').toDate() })\r\n                }\r\n                return categories\r\n            case \"week\":\r\n                for (let index = moment(date.startDate); index.isBefore(moment(date.endDate).add(1, 's'), 's'); index.add(1, 'd')) {\r\n                    categories.push({ from: index.startOf('d').toDate(), to: index.endOf('d').toDate() })\r\n                }\r\n                return categories\r\n            case \"month\":\r\n                for (let index = moment(date.startDate); index.isBefore(moment(date.endDate).add(1, 's'), 's'); index.add(1, 'd')) {\r\n                    categories.push({ from: index.startOf('d').toDate(), to: index.endOf('d').toDate() })\r\n                }\r\n                return categories\r\n            case \"year\":\r\n                for (let index = moment(date.startDate); index.isBefore(moment(date.endDate).add(1, 's'), 's'); index.add(1, 'month')) {\r\n\r\n                    categories.push({ from: index.startOf('month').toDate(), to: index.endOf('month').toDate() })\r\n                }\r\n                return categories\r\n            case \"custom\":\r\n                const noOfDays = (Math.round((moment(date.endDate).diff(moment(date.startDate), 'seconds') / 60) / 60)) / 24\r\n                if (noOfDays <= 31) {\r\n                    if (noOfDays <= 1) {\r\n                        return getCategories('day')\r\n                    }\r\n                    else if (noOfDays <= 7) {\r\n                        return getCategories('week')\r\n                    } else {\r\n                        return getCategories('month')\r\n                    }\r\n                } else {\r\n                    for (let index = moment(date.startDate); index.isBefore(moment(date.endDate).add(1, 's'), 's'); index.add(7, 'd')) {\r\n                        if (moment(index.toDate()).add(7, 'd').isBefore(moment(date.endDate).add(1, 's'), 's')) {\r\n                            categories.push({ from: index.toDate(), to: moment(index.toDate()).add(7, 'd').subtract(1, 's').toDate() })\r\n                        } else {\r\n                            const noDaysDifference = (Math.round((moment(date.endDate).diff(index, 'seconds') / 60) / 60)) / 24\r\n                            categories.push({ from: index.toDate(), to: moment(index.toDate()).add(noDaysDifference, 'd').subtract(1, 's').toDate() })\r\n                        }\r\n                    }\r\n                    return categories\r\n                }\r\n            default:\r\n                return []\r\n        }\r\n    }\r\n    const [categories, setCategories] = useState<Array<{ from: Date, to: Date }>>(getCategories(selectedDuration))\r\n    const [count, setCount] = useState<number | null>(null)\r\n    const [data, setData] = useState<Array<{\r\n        name: string, data: Array<number>\r\n    }> | null>(null)\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n    const [isDatePickerOpen, setIsDatePickerOpen] = useState(false)\r\n    const [mode, setMode] = useState('template')\r\n    const durations = [\r\n        'day',\r\n        'week',\r\n        'month',\r\n        'custom'\r\n    ]\r\n    //'year',\r\n\r\n    const fetchJobs = async () => {\r\n        try {\r\n            const categ = getCategories(selectedDuration)\r\n            setCategories(categ)\r\n            setLoading(true)\r\n            let result = await Analytics.jobsPerTemplate(date.startDate, date.endDate, 'template')\r\n            setCount(result?.count || null)\r\n            const templateIds = ((result?.data ?? [])?.map((item) => item.id) || [])\r\n            let videoTemplateSeries: Array<string> = []\r\n            for (let index = 0; index < templateIds.length; index++) {\r\n                const templateId = templateIds[index];\r\n                if (!videoTemplateSeries.find(id => id === templateId)) {\r\n                    videoTemplateSeries.push(templateId)\r\n                }\r\n            }\r\n            setData(videoTemplateSeries.map((idVideoTemplate) => ({\r\n                name: result?.data?.find(({ id }) => id === idVideoTemplate)?.title || \"\",\r\n                data: categ.map((categoryDate) => result?.data?.filter(({ id, date }) => id === idVideoTemplate\r\n                    && moment(date).isBetween(moment(categoryDate?.from), moment(categoryDate?.to), 's', '[]')\r\n                )?.length\r\n                )\r\n            })))\r\n            setLoading(false)\r\n        } catch (err) {\r\n            setLoading(false)\r\n            setData(null)\r\n            setCategories(getCategories(selectedDuration))\r\n            setCount(null)\r\n            enqueueSnackbar(\r\n                `${(err as Error)?.message ?? \"Something went wrong\"}`,\r\n                {\r\n                    variant: \"error\",\r\n                    action: () => <Button size=\"small\" color=\"inherit\" children=\"retry\" onClick={fetchJobs} />\r\n                }\r\n            );\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (!isDatePickerOpen) {\r\n            fetchJobs()\r\n        }\r\n    }, [date, isDatePickerOpen])\r\n    useEffect(() => {\r\n        if (!anchorEl && isDatePickerOpen) {\r\n            setIsDatePickerOpen(false)\r\n        }\r\n    }, [anchorEl, isDatePickerOpen])\r\n\r\n    const handleOpenMenu = (event: any) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const open = Boolean(anchorEl);\r\n    const id = open ? 'simple-popover' : undefined;\r\n\r\n    const handleSetToday = () => {\r\n        setSelectedDuration('day')\r\n        setDate({\r\n            startDate: moment().startOf('d').toDate(),\r\n            endDate: moment().endOf('d').toDate(),\r\n            key: 'selection'\r\n        })\r\n    }\r\n\r\n    const handleNextDate = () => {\r\n        switch (selectedDuration) {\r\n            case 'custom':\r\n                //calculate no of seconds between and add to endDate and  startDate\r\n                const difference = moment(date.endDate).diff(moment(date.startDate), 'seconds')\r\n                setDate({\r\n                    startDate: moment(date.startDate).add(difference + 1, 'seconds').startOf(\"d\").toDate(),\r\n                    endDate: moment(date.endDate).add(difference, 'seconds').endOf(\"d\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            case 'day':\r\n                setDate({\r\n                    startDate: moment(date.endDate).add(1, 'd').startOf(\"d\").toDate(),\r\n                    endDate: moment(date.endDate).add(1, 'd').endOf(\"d\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            case 'week':\r\n                setDate({\r\n                    startDate: moment(date.endDate).add(1, 'd').startOf(\"week\").toDate(),\r\n                    endDate: moment(date.endDate).add(1, 'd').endOf(\"week\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n\r\n            case 'month':\r\n\r\n                setDate({\r\n                    startDate: moment(date.endDate).add(1, 'd').startOf(\"month\").toDate(),\r\n                    endDate: moment(date.endDate).add(1, 'd').endOf(\"month\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            case 'year':\r\n\r\n                setDate({\r\n                    startDate: moment(date.endDate).add(1, 'd').startOf(\"year\").toDate(),\r\n                    endDate: moment(date.endDate).add(1, 'd').endOf(\"year\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            default:\r\n                setDate({\r\n                    startDate: moment().startOf('d').toDate(),\r\n                    endDate: moment().endOf('d').toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    const handlePreviousDate = () => {\r\n        switch (selectedDuration) {\r\n            case 'custom':\r\n                //calculate no of seconds between and add to endDate and  startDate\r\n                const difference = moment(date.endDate).diff(moment(date.startDate), 'seconds')\r\n                setDate({\r\n                    startDate: moment(date.startDate).subtract(difference, 'seconds').startOf(\"d\").toDate(),\r\n                    endDate: moment(date.endDate).subtract(difference + 1, 'seconds').endOf(\"d\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            case 'day':\r\n                setDate({\r\n                    startDate: moment(date.startDate).subtract(1, 'd').startOf(\"d\").toDate(),\r\n                    endDate: moment(date.startDate).subtract(1, 'd').endOf(\"d\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            case 'week':\r\n                setDate({\r\n                    startDate: moment(date.startDate).subtract(1, 'd').startOf(\"week\").toDate(),\r\n                    endDate: moment(date.startDate).subtract(1, 'd').endOf(\"week\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n\r\n            case 'month':\r\n                setDate({\r\n                    startDate: moment(date.startDate).subtract(1, 'd').startOf(\"month\").toDate(),\r\n                    endDate: moment(date.startDate).subtract(1, 'd').endOf(\"month\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n\r\n            case 'year':\r\n                setDate({\r\n                    startDate: moment(date.startDate).subtract(1, 'd').startOf(\"year\").toDate(),\r\n                    endDate: moment(date.startDate).subtract(1, 'd').endOf(\"year\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n\r\n    }\r\n    const handleDurationSet = (duration: duration | string) => {\r\n        setSelectedDuration(duration as duration)\r\n        switch (duration) {\r\n            case 'custom':\r\n                setIsDatePickerOpen(true)\r\n                break;\r\n            case 'day':\r\n                //if end Date is after current date set current date, else set end Date as date\r\n                if (moment(date.endDate).endOf('d').isAfter(moment().endOf('d'))) {\r\n                    handleSetToday()\r\n                } else {\r\n                    setDate({\r\n                        startDate: moment(date.endDate).startOf(\"d\").toDate(),\r\n                        endDate: moment(date.endDate).endOf(\"d\").toDate(),\r\n                        key: 'selection'\r\n                    })\r\n                }\r\n\r\n                handleClose()\r\n                break;\r\n            case 'week':\r\n                setDate({\r\n                    startDate: moment(date.startDate).startOf(\"w\").toDate(),\r\n                    endDate: moment(date.startDate).endOf(\"w\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                handleClose()\r\n                break;\r\n\r\n            case 'month':\r\n                setDate({\r\n                    startDate: moment(date.startDate).startOf(\"month\").toDate(),\r\n                    endDate: moment(date.startDate).endOf(\"month\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                handleClose()\r\n                break;\r\n            case 'year':\r\n                setDate({\r\n                    startDate: moment(date.startDate).startOf(\"year\").toDate(),\r\n                    endDate: moment(date.startDate).endOf(\"year\").toDate(),\r\n                    key: 'selection'\r\n                })\r\n                handleClose()\r\n                break;\r\n            default:\r\n                setDate({\r\n                    startDate: moment().startOf('d').toDate(),\r\n                    endDate: moment().endOf('d').toDate(),\r\n                    key: 'selection'\r\n                })\r\n                handleClose()\r\n                break;\r\n        }\r\n    }\r\n    const getXAxisLabel = (value: { from: Date, to: Date }) => {\r\n        switch (selectedDuration) {\r\n            case \"day\":\r\n                return moment(value?.to).add(1, 's').format('LT')\r\n            case \"week\":\r\n                return moment(value?.to).format('ddd, DD MMM')\r\n            case \"month\":\r\n                return moment(value?.to).format('DD MMM')\r\n            case \"year\":\r\n                return moment(value?.to).format('MMM')\r\n            case \"custom\":\r\n                const noOfDays = (Math.round((moment(date.endDate).diff(moment(date.startDate), 'seconds') / 60) / 60)) / 24\r\n                if (noOfDays <= 31) {\r\n                    if (noOfDays <= 1) {\r\n                        return moment(value?.to).add(1, 's').format('LT')\r\n                    } else if (noOfDays <= 7) {\r\n                        return moment(value?.to).format('ddd, DD MMM')\r\n                    } else {\r\n                        return moment(value?.to).format('DD MMM')\r\n                    }\r\n                } else {\r\n                    return `${moment(value?.from).format('DD MMM')} - ${moment(value?.to).format('DD MMM')}`\r\n                }\r\n            default:\r\n                return \"\"\r\n        }\r\n    }\r\n    const getXAxisTitle = (value: { from: Date, to: Date }) => {\r\n        switch (selectedDuration) {\r\n            case \"day\":\r\n                return `${moment(value?.from).format('LT')} - ${moment(value?.to).add(1, 's').format('LT')}`\r\n            case \"week\":\r\n                return `${moment(value?.to).format('ddd, DD MMM')}`\r\n            case \"month\":\r\n                return `${moment(value?.to).format('ddd, DD MMM')}`\r\n            case \"year\":\r\n                return moment(value?.to).format('MMM')\r\n            case \"custom\":\r\n                const noOfDays = (Math.round((moment(date.endDate).diff(moment(date.startDate), 'seconds') / 60) / 60)) / 24\r\n                if (noOfDays <= 31) {\r\n                    if (noOfDays <= 1) {\r\n                        return `${moment(value?.from).format('LT')} - ${moment(value?.to).add(1, 's').format('LT')}`\r\n                    }\r\n                    else if (noOfDays <= 7) {\r\n                        return `${moment(value?.to).format('ddd, DD MMM')}`\r\n                    } else {\r\n                        return `${moment(value?.to).format('ddd, DD MMM')}`\r\n                    }\r\n                } else {\r\n                    return `${moment(value?.from).format('DD MMM')} - ${moment(value?.to).format('DD MMM')}`\r\n                }\r\n            default:\r\n                return \"\"\r\n        }\r\n\r\n    }\r\n    return (\r\n        <Box>\r\n            <Paper style={{ padding: 15, }}>\r\n                <Box style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n                    <Button onClick={handleSetToday} children=\"today\" variant=\"outlined\" />\r\n                    <Box style={{ display: 'flex', alignItems: 'center', marginLeft: 15, marginRight: 15 }}>\r\n                        <IconButton aria-label=\"previous\" onClick={handlePreviousDate}>\r\n                            <ArrowBackIosIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                        <IconButton aria-label=\"next\" onClick={handleNextDate}>\r\n                            <ArrowForwardIosIcon fontSize=\"small\" />\r\n                        </IconButton>\r\n                        <Button\r\n                            onClick={handleOpenMenu}\r\n                            startIcon={<TodayIcon />}>\r\n                            {moment(date.endDate).diff(moment(date.startDate), 'd') == 0 ? moment(date.startDate).format('LL') : `${moment(date.startDate).format('D MMM, YYYY')} - ${moment(date.endDate).format('D MMM, YYYY')}`}\r\n                            <Chip style={{\r\n                                fontSize: 9, height: 13,\r\n                                marginLeft: 10, marginTop: 2\r\n                            }} label={selectedDuration.toLocaleUpperCase()} size=\"small\" />\r\n                        </Button>\r\n                        {open ? <Popover\r\n                            id={id}\r\n                            open={open}\r\n                            anchorEl={anchorEl}\r\n                            onClose={handleClose}\r\n                            anchorOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'left',\r\n                            }}\r\n                            transformOrigin={{\r\n                                vertical: 'top',\r\n                                horizontal: 'left',\r\n                            }}\r\n                        >{isDatePickerOpen ? <Box style={{ flexDirection: 'column', display: 'flex' }}> <DateRange\r\n                            editableDateInputs={true}\r\n                            onChange={item => setDate({\r\n                                ...item.selection,\r\n                                startDate: moment(item.selection.startDate).startOf(\"d\").toDate(),\r\n                                endDate: moment(item.selection.endDate).endOf('d').toDate()\r\n                            })}\r\n                            moveRangeOnFirstSelection={false}\r\n                            ranges={[date]}\r\n                        /><Button size=\"small\" onClick={handleClose}\r\n                            variant=\"contained\"\r\n                            children=\"Apply\"\r\n                            color=\"primary\" /></Box> : <MenuList style={{ minWidth: 220 }}>\r\n                            {durations.map((key) => <MenuItem\r\n                                onClick={() => handleDurationSet(key)}\r\n                                children={key.toLocaleUpperCase()}\r\n                            />)}\r\n                        </MenuList>}\r\n                        </Popover> : <Box />}\r\n                    </Box>\r\n                </Box>\r\n            </Paper>\r\n            <Box style={{\r\n                minHeight: 400, display: 'flex', paddingTop: 15, paddingBottom: 15,\r\n                justifyContent: 'space-between'\r\n            }}>\r\n                <Paper style={{\r\n                    width: \"24%\", display: 'flex', height: 500, alignItems: 'center', justifyContent: 'center'\r\n                }}>\r\n                    {loading ? <CircularProgress /> :\r\n                        <Container style={{ alignSelf: 'flex-start', paddingTop: 30 }}>\r\n                            <Typography variant=\"h5\" color=\"inherit\">Total Count</Typography>\r\n                            <Typography color=\"textSecondary\">{moment(date.endDate).diff(moment(date.startDate), 'd') == 0 ? moment(date.startDate).format('LL') : `${moment(date.startDate).format('D MMM, YYYY')} - ${moment(date.endDate).format('D MMM, YYYY')}`}  <Chip style={{\r\n                                fontSize: 9, height: 13,\r\n                                marginLeft: 10, marginTop: 2\r\n                            }} label={selectedDuration.toLocaleUpperCase()} size=\"small\" /></Typography>\r\n                            <Typography variant=\"h3\" color=\"inherit\">{count || '---'}</Typography>\r\n                        </Container>}\r\n                </Paper>\r\n                <Paper style={{\r\n                    width: \"75%\", display: 'flex', height: 500,\r\n                    alignItems: 'center', justifyContent: 'center'\r\n                }}>\r\n                    {loading ? <CircularProgress /> :\r\n                        count !== null && categories?.every(({ from = \"\", to = \"\" }) => from && to) ? <ApexCharts\r\n                            width={780}\r\n                            options={{\r\n                                chart: {\r\n                                    type: 'bar',\r\n                                    height: 450,\r\n                                    width: 780,\r\n                                    stacked: true,\r\n                                    zoom: { enabled: true },\r\n                                    toolbar: {\r\n                                        show: true,\r\n                                    }\r\n                                },\r\n                                plotOptions: {\r\n                                    bar: {\r\n                                        horizontal: false,\r\n                                    },\r\n                                },\r\n                                stroke: {\r\n                                    width: 1,\r\n                                    colors: ['#fff']\r\n                                },\r\n                                title: {\r\n                                    text: 'Jobs per Videotemplate',\r\n                                },\r\n                                xaxis: {\r\n                                    categories,\r\n                                    labels: {\r\n                                        formatter: function (val) {\r\n                                            return getXAxisLabel(val as unknown as { from: Date, to: Date })\r\n                                        }\r\n                                    }\r\n                                },\r\n                                yaxis: {\r\n\r\n                                    labels: {\r\n                                        formatter: function (val) {\r\n                                            return val + \"\"\r\n                                        }\r\n\r\n                                    }\r\n                                },\r\n                                tooltip: {\r\n                                    y: {\r\n                                        formatter: function (val) {\r\n                                            return `${val} Jobs`\r\n                                        }\r\n                                    }, x: {\r\n                                        formatter: function (val) {\r\n                                            return getXAxisTitle(val as unknown as { from: Date, to: Date })\r\n                                        }\r\n                                    }\r\n                                },\r\n                                fill: {\r\n                                    opacity: 1,\r\n                                },\r\n                                legend: {\r\n                                    position: 'bottom',\r\n                                    horizontalAlign: 'left',\r\n                                    // offsetX: 40\r\n                                }\r\n                            }\r\n                            }\r\n                            series={data || []}\r\n                            type=\"bar\" height={450} /> : <div />\r\n\r\n                    }\r\n\r\n                </Paper>\r\n            </Box>\r\n        </Box >\r\n\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport { Alert, AlertProps, AlertTitle } from \"@material-ui/lab\";\r\ntype IProps = {\r\n  message: string,\r\n  showRetry?: boolean,\r\n  onRetry?: Function,\r\n  buttonText?: string,\r\n  severity?: \"info\" | \"warning\" | \"error\" | \"success\",\r\n  title?: string\r\n} & AlertProps\r\nexport default ({ message, showRetry, onRetry, severity = \"error\", title = \"\", buttonText, style = {} }: IProps) => {\r\n  return (\r\n    <Alert\r\n      style={{ marginBottom: 20, ...style }}\r\n      severity={severity}\r\n\r\n      action={\r\n        onRetry && (\r\n          <Button\r\n            onClick={() => onRetry()}\r\n            color=\"inherit\"\r\n            size=\"small\">\r\n            {buttonText || \"Retry\"}\r\n          </Button>)\r\n      }\r\n    >\r\n      {title ? <AlertTitle>{title}</AlertTitle> : \"\"}\r\n      {message}\r\n    </Alert>\r\n  );\r\n};\r\n","import AlertHandler from \"common/AlertHandler\"\r\nimport React, { useState } from \"react\"\r\nimport { useAuth } from \"services/auth\"\r\nexport default () => {\r\n    const { user, verifyEmail } = useAuth()\r\n    const [message, setMessage] = useState(\"Your email verification is pending!\")\r\n    const [type, setType] = useState<\"warning\" | \"info\">(\"warning\")\r\n    const handleVerify = async () => {\r\n        await verifyEmail()\r\n        setMessage(`Email verification link has been sent to ${user?.email}, Follow the instructions to verify your email`)\r\n        setType(\"info\")\r\n    }\r\n    if (user?.emailVerified) {\r\n        return <div />\r\n    }\r\n    return <AlertHandler message={message} buttonText=\"verify\"\r\n        severity={type}\r\n        onRetry={handleVerify} />\r\n\r\n}","import {  Box, Container } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nimport Graphs from \"common/Graphs\";\r\nimport EmailVerifyAlert from \"common/EmailVerifyAlert\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <Box >\r\n      <EmailVerifyAlert />\r\n      <Graphs />\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { AppBar, Paper } from \"@material-ui/core\";\r\n\r\nfunction TabPanel(props: any) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      style={{ height: \"100%\", width: '100%' }}\r\n      id={`vertical-tabpanel-${index}`}\r\n      aria-labelledby={`vertical-tab-${index}`}\r\n      {...other}>\r\n      {value === index ? (\r\n        <Box style={{ height: \"100%\", width: '100%' }} >\r\n          {children}\r\n        </Box>\r\n      ) : <div />}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index: number) {\r\n  return {\r\n    id: `vertical-tab-${index}`,\r\n    \"aria-controls\": `vertical-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  // root: {\r\n  //   // flexGrow: 1,\r\n  //   backgroundColor: theme.palette.background.paper,\r\n  //   display: \"flex\",\r\n  //   borderBottom: `1px solid ${theme.palette.divider}`,\r\n  //   borderRight: `1px solid ${theme.palette.divider}`,\r\n  // },\r\n  // tabs: {\r\n  //   borderLeft: `1px solid ${theme.palette.divider}`,\r\n  //   borderRight: `1px solid ${theme.palette.divider}`,\r\n  // },\r\n}));\r\ntype IProp = {\r\n  tabs: Array<{\r\n    label: string,\r\n    key: string,\r\n    component: JSX.Element,\r\n    allowedRoles: Array<string>\r\n  }>,\r\n  initialTabIndex?: number\r\n  onTabIndexChange?: (index: number) => void\r\n}\r\nexport default function VerticalTabs({ tabs, initialTabIndex = 0, onTabIndexChange }: IProp) {\r\n  const classes = useStyles();\r\n  const { user } = useAuth();\r\n  const [value, setValue] = React.useState(initialTabIndex);\r\n  useEffect(() => {\r\n    if (initialTabIndex !== value) {\r\n      handleChange(null, initialTabIndex)\r\n    }\r\n  }, [initialTabIndex])\r\n  const handleChange = (event: any, newValue: any) => {\r\n    setValue(newValue);\r\n    onTabIndexChange && onTabIndexChange(newValue)\r\n  };\r\n\r\n  return (\r\n    <Paper>\r\n      {/* <AppBar position=\"static\" color=\"default\"> */}\r\n      <Tabs\r\n        value={value}\r\n        onChange={handleChange}\r\n        indicatorColor=\"primary\"\r\n        textColor=\"primary\"\r\n        variant=\"scrollable\"\r\n        scrollButtons=\"auto\"\r\n      >\r\n        {tabs\r\n          .filter(({ allowedRoles }) => allowedRoles.includes(user?.role))\r\n          ?.map(({ label }, index) => (\r\n            <Tab\r\n              label={label}\r\n              {...a11yProps(index)}\r\n            />\r\n          ))}\r\n      </Tabs>\r\n      {/* </AppBar> */}\r\n      {tabs\r\n        .filter(({ allowedRoles }) => allowedRoles.includes(user?.role))\r\n        ?.map(({ component, allowedRoles = [] }, index) => (\r\n          <TabPanel value={value} index={index}>\r\n            {component}\r\n          </TabPanel>\r\n        ))}\r\n    </Paper>\r\n  );\r\n}\r\n","import { Box, Container, TextField, Button, CircularProgress } from \"@material-ui/core\"\r\nimport { SubHeading } from \"common/Typography\"\r\nimport React, { useState, useEffect } from \"react\"\r\nimport { useAuth } from \"services/auth\"\r\nimport { useFormik } from \"formik\"\r\nimport * as Yup from \"yup\";\r\nimport { useAPI } from \"services/APIContext\"\r\nimport { firebaseAuth } from \"services/firebase\"\r\nimport { useSnackbar } from \"notistack\"\r\nimport { CameraAlt } from \"@material-ui/icons\"\r\nimport { upload } from \"services/awsService\"\r\nexport default () => {\r\n  const { user, refreshUser } = useAuth()\r\n  const { User } = useAPI()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [uploadedPercent, setUploadedPercent] = useState<number>(0);\r\n  const [isAvatarUploading, setIsAvatarUploading] = useState<boolean>(false)\r\n  const [loading, setLoading] = useState<boolean>(false)\r\n  const handleCredentialSubmit = async ({ name, photoURL }: {\r\n    name: string,\r\n    photoURL?: string\r\n  }) => {\r\n    try {\r\n      setLoading(true)\r\n      const updated = await User.update({ name })\r\n      await firebaseAuth.currentUser?.updateProfile({ displayName: name, photoURL })\r\n      await refreshUser(updated.data)\r\n      setLoading(false)\r\n      enqueueSnackbar(\"Profile Updated successfully!\", {\r\n        variant: 'success'\r\n      })\r\n    } catch (err) {\r\n      setLoading(false)\r\n      enqueueSnackbar(\"Failed to update profile\", {\r\n        variant: 'error'\r\n      })\r\n    }\r\n  }\r\n  const handleAvatarChange = async (file?: File) => {\r\n    if (file) {\r\n      try {\r\n        setIsAvatarUploading(true)\r\n        const task = upload(`${user?.uid ?? \"users\"}/avatar-${user?.email}.${file.name.split(\".\").pop()}`, file);\r\n        task.on('httpUploadProgress', ({ loaded, total }) =>\r\n          setUploadedPercent(loaded / total),\r\n        );\r\n        let { Location: uri } = await task.promise();\r\nuri=uri.startsWith(\"http\")? uri : `https://${uri}`\r\n        setIsAvatarUploading(false)\r\n        setFieldValue(\"photoURL\", uri);\r\n        setUploadedPercent(0)\r\n      } catch (err) {\r\n        setUploadedPercent(0)\r\n        setIsAvatarUploading(false)\r\n        enqueueSnackbar(\"Failed to upload your profile picture!\", {\r\n          variant: 'error'\r\n        })\r\n      }\r\n    }\r\n\r\n  }\r\n  const {\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    setFieldValue,\r\n    values,\r\n    errors,\r\n    touched,\r\n  } = useFormik({\r\n    initialValues: {\r\n      name: user?.name ?? user?.displayName,\r\n      photoURL: user?.photoURL ?? \"\"\r\n    },\r\n    validationSchema: Yup.object({\r\n      name: Yup.string().required(\"Name can't be empty!\"),\r\n      photoURL: Yup.string(),\r\n    }),\r\n    onSubmit: handleCredentialSubmit\r\n  });\r\n  return <Container\r\n    onSubmit={handleSubmit}\r\n    noValidate\r\n    component={\"form\"}\r\n    style={{\r\n      padding: 20, paddingLeft: 25, paddingRight: 25,\r\n      margin: 0,\r\n    }}>\r\n    <SubHeading style={{ marginBottom: 20 }}>Your Profile</SubHeading>\r\n    <Box style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap' }}>\r\n      <Box style={{\r\n        display: 'flex', alignItems: 'center', flexDirection: 'column',\r\n        marginRight: 20,\r\n        marginBottom: 15,\r\n        justifyContent: 'center'\r\n      }}>\r\n        <input\r\n          accept=\"image/*\"\r\n          onChange={({ target: { files } }) => handleAvatarChange((files || [])[0])}\r\n          style={{ display: 'none' }}\r\n          id=\"contained-button-file\"\r\n          multiple\r\n          type=\"file\"\r\n        />\r\n        <img style={{ height: 150, width: 150, borderRadius: 150 / 2, background: 'lightgrey' }}\r\n          alt=\"profile\" src={values.photoURL || \"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png\"} />\r\n        <label htmlFor=\"contained-button-file\">\r\n          <Button style={{ marginTop: 15, alignSelf: 'center' }}\r\n            size=\"small\"\r\n            component=\"span\"\r\n            disabled={isAvatarUploading || loading}\r\n            startIcon={isAvatarUploading ? <CircularProgress color=\"inherit\" size={20} /> : <CameraAlt color=\"inherit\" fontSize={\"small\"} />}\r\n            children={isAvatarUploading ? `${Math.floor(uploadedPercent * 100)}%` : \"Change\"} color=\"primary\" variant=\"outlined\" />\r\n        </label>\r\n      </Box>\r\n      <Box style={{ display: 'flex', flexDirection: 'column', }}>\r\n        <TextField\r\n          name={\"name\"}\r\n          margin=\"dense\"\r\n          value={values.name}\r\n          label=\"Your name\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched.name && !!errors.name}\r\n          variant={\"outlined\"}\r\n          placeholder=\"Enter your name\"\r\n          helperText={\r\n            touched.name && errors.name\r\n              ? errors?.name\r\n              : \"\"\r\n          }\r\n        />\r\n        <Button disabled={isAvatarUploading || loading} style={{ marginTop: 15, alignSelf: 'flex-start' }}\r\n          size=\"small\"\r\n          type=\"submit\"\r\n          children={loading ? <CircularProgress color=\"inherit\" size={20} /> : \"Update\"} color=\"primary\" variant=\"contained\" />\r\n      </Box>\r\n    </Box>\r\n  </Container>\r\n}\r\n","import { Action } from \"services/buzzle-sdk/types\";\r\n\r\nexport const copyToClipboard = async (text: string) => {\r\n    //@ts-ignore\r\n    const result = await navigator.permissions.query({ name: \"clipboard-write\" })\r\n    if (result.state == \"granted\" || result.state == \"prompt\") {\r\n        return navigator.clipboard.writeText(`${text}`).then(function () {\r\n            return Promise.resolve()\r\n        }, function (reason) {\r\n            return Promise.reject(\"Copying not supported in your browser!\")\r\n        });\r\n    }\r\n}\r\n\r\n\r\nexport const getLayersFromComposition = (c: any, type?: \"textLayers\" | \"imageLayers\",\r\n    templateType?: \"ae\" | \"remotion\"): any => {\r\n    templateType = templateType || \"ae\"\r\n    if (!c) return [];\r\n    // if type is null\r\n    if (templateType === 'remotion') {\r\n        if (!type) {\r\n            return {\r\n                textLayers: getLayersFromComposition(c, \"textLayers\", templateType),\r\n                imageLayers: getLayersFromComposition(c, \"imageLayers\", templateType),\r\n            };\r\n        }\r\n        return c['fields']\r\n    }\r\n    if (!type) {\r\n        return {\r\n            textLayers: c[\"textLayers\"],\r\n            imageLayers: c[\"imageLayers\"]\r\n        };\r\n    }\r\n    if (c[type]) {\r\n        return c[type]\r\n    } else return []\r\n}\r\n\r\nexport const getUniqueId = () => Math.random().toString(36).substr(2, 9);\r\n\r\nexport const extractStructureFromFile = async (extractionURL: string, fileUrl: string, fileType: 'ae' | \"remotion\") => {\r\n    if (fileType === 'ae') {\r\n        const response = await fetch(`${extractionURL || process.env.REACT_APP_AE_EXTRACT_URL}/`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ fileUrl }),\r\n        });\r\n        if (response.ok) {\r\n            const { compositions, staticAssets, url = fileUrl } = await response.json()\r\n            return { compositions, staticAssets, url: url || fileUrl }\r\n        } else {\r\n            throw new Error((await response.json())?.message || \"Something went wrong!\");\r\n        }\r\n    } else if (fileType === 'remotion') {\r\n        //get zip content read it , read buzzle.config.json \r\n        //check for buzzleconfig.json in zip, if found proceedd further else set error config.json file required!\r\n        var response = await fetch(`${extractionURL || process.env.REACT_APP_REMOTION_BUNDLER_URL}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                Accept: \"application/json\",\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({ fileUrl }),\r\n        })\r\n        if (!response.ok) {\r\n            throw new Error((await response.json())?.message);\r\n        }\r\n        response = await response.json()\r\n        // localStorage.setItem(fileUrl+\"\", JSON.stringify({ compositions: response?.compositions, staticAssets: [] }))\r\n        return { compositions: (response as any)?.compositions, staticAssets: [], url: response?.url }\r\n    } else {\r\n        throw new Error(\"Template type missing!\");\r\n    }\r\n};\r\nexport const getNameFromActionText = (action: Action) => {\r\n    if (action === \"buzzle-action-add-audio\") {\r\n        return 'Action Audio'\r\n    } else if (action === \"buzzle-action-add-thumbnail\") {\r\n        return \"Action Thumbnail\"\r\n    }\r\n    else if (action === \"buzzle-action-handbrake\") {\r\n        return \"Action Thumbnail\"\r\n    } else if (action === \"buzzle-action-merge-videos\") {\r\n        return \"Action Video\"\r\n    } else if (action === \"buzzle-action-watermark\") {\r\n        return \"Action Watermark\"\r\n    } else if (action === \"buzzle-action-video-orientation\") {\r\n        return \"Action Rotate\"\r\n    }\r\n    else if (action === \"render\") {\r\n        return \"Action Render\"\r\n    }\r\n    else {\r\n        return action\r\n    }\r\n}\r\nexport const extractedDataSample = {\r\n    \"compositions\": {\r\n        \"branding\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 3,\r\n                    \"name\": \"bulavva logo_1.png\",\r\n                    \"height\": 626,\r\n                    \"width\": 490,\r\n                    \"extension\": \"png\"\r\n                }\r\n            ],\r\n            \"comps\": {}\r\n        },\r\n        \"Car animation\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 3,\r\n                    \"name\": \"BG_1\",\r\n                    \"height\": 1920,\r\n                    \"width\": 1080,\r\n                    \"extension\": \"null\"\r\n                }\r\n            ],\r\n            \"comps\": {\r\n                \"91\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [\r\n                        {\r\n                            \"index\": 5,\r\n                            \"name\": \"BG_2\",\r\n                            \"height\": 1920,\r\n                            \"width\": 1080,\r\n                            \"extension\": \"null\"\r\n                        }\r\n                    ],\r\n                    \"comps\": {\r\n                        \"1\": {\r\n                            \"textLayers\": [],\r\n                            \"imageLayers\": [\r\n                                {\r\n                                    \"index\": 3,\r\n                                    \"name\": \"bulavva logo_1.png\",\r\n                                    \"height\": 626,\r\n                                    \"width\": 490,\r\n                                    \"extension\": \"png\"\r\n                                }\r\n                            ],\r\n                            \"comps\": {}\r\n                        },\r\n                        \"188\": {\r\n                            \"textLayers\": [\r\n                                {\r\n                                    \"index\": 1,\r\n                                    \"name\": \"SAVE THE DATE\",\r\n                                    \"text\": \"SAVE THE DATE\",\r\n                                    \"font\": \"Hey-October\"\r\n                                },\r\n                                {\r\n                                    \"index\": 2,\r\n                                    \"name\": \"20/07/2020\",\r\n                                    \"text\": \"20/07/2020\",\r\n                                    \"font\": \"Hey-October\"\r\n                                }\r\n                            ],\r\n                            \"imageLayers\": [],\r\n                            \"comps\": {}\r\n                        },\r\n                        \"658\": {\r\n                            \"textLayers\": [],\r\n                            \"imageLayers\": [],\r\n                            \"comps\": {}\r\n                        },\r\n                        \"1187\": {\r\n                            \"textLayers\": [],\r\n                            \"imageLayers\": [\r\n                                {\r\n                                    \"index\": 3,\r\n                                    \"name\": \"bulavva logo_1.png\",\r\n                                    \"height\": 626,\r\n                                    \"width\": 490,\r\n                                    \"extension\": \"png\"\r\n                                }\r\n                            ],\r\n                            \"comps\": {}\r\n                        }\r\n                    }\r\n                },\r\n                \"466\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [\r\n                        {\r\n                            \"index\": 1,\r\n                            \"name\": \"still road.png\",\r\n                            \"height\": 1920,\r\n                            \"width\": 1080,\r\n                            \"extension\": \"png\"\r\n                        }\r\n                    ],\r\n                    \"comps\": {}\r\n                }\r\n            }\r\n        },\r\n        \"Car_Ride\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 5,\r\n                    \"name\": \"BG_2\",\r\n                    \"height\": 1920,\r\n                    \"width\": 1080,\r\n                    \"extension\": \"null\"\r\n                }\r\n            ],\r\n            \"comps\": {\r\n                \"1\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [\r\n                        {\r\n                            \"index\": 3,\r\n                            \"name\": \"bulavva logo_1.png\",\r\n                            \"height\": 626,\r\n                            \"width\": 490,\r\n                            \"extension\": \"png\"\r\n                        }\r\n                    ],\r\n                    \"comps\": {}\r\n                },\r\n                \"188\": {\r\n                    \"textLayers\": [\r\n                        {\r\n                            \"index\": 1,\r\n                            \"name\": \"SAVE THE DATE\",\r\n                            \"text\": \"SAVE THE DATE\",\r\n                            \"font\": \"Hey-October\"\r\n                        },\r\n                        {\r\n                            \"index\": 2,\r\n                            \"name\": \"20/07/2020\",\r\n                            \"text\": \"20/07/2020\",\r\n                            \"font\": \"Hey-October\"\r\n                        }\r\n                    ],\r\n                    \"imageLayers\": [],\r\n                    \"comps\": {}\r\n                },\r\n                \"658\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [],\r\n                    \"comps\": {}\r\n                },\r\n                \"1187\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [\r\n                        {\r\n                            \"index\": 3,\r\n                            \"name\": \"bulavva logo_1.png\",\r\n                            \"height\": 626,\r\n                            \"width\": 490,\r\n                            \"extension\": \"png\"\r\n                        }\r\n                    ],\r\n                    \"comps\": {}\r\n                }\r\n            }\r\n        },\r\n        \"Final_ride\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 1,\r\n                    \"name\": \"Black Solid 3\",\r\n                    \"height\": 1920,\r\n                    \"width\": 1080,\r\n                    \"extension\": \"null\"\r\n                },\r\n                {\r\n                    \"index\": 2,\r\n                    \"name\": \"Black Solid 2\",\r\n                    \"height\": 1920,\r\n                    \"width\": 1080,\r\n                    \"extension\": \"null\"\r\n                }\r\n            ],\r\n            \"comps\": {\r\n                \"2\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [\r\n                        {\r\n                            \"index\": 3,\r\n                            \"name\": \"BG_1\",\r\n                            \"height\": 1920,\r\n                            \"width\": 1080,\r\n                            \"extension\": \"null\"\r\n                        }\r\n                    ],\r\n                    \"comps\": {\r\n                        \"91\": {\r\n                            \"textLayers\": [],\r\n                            \"imageLayers\": [\r\n                                {\r\n                                    \"index\": 5,\r\n                                    \"name\": \"BG_2\",\r\n                                    \"height\": 1920,\r\n                                    \"width\": 1080,\r\n                                    \"extension\": \"null\"\r\n                                }\r\n                            ],\r\n                            \"comps\": {\r\n                                \"1\": {\r\n                                    \"textLayers\": [],\r\n                                    \"imageLayers\": [\r\n                                        {\r\n                                            \"index\": 3,\r\n                                            \"name\": \"bulavva logo_1.png\",\r\n                                            \"height\": 626,\r\n                                            \"width\": 490,\r\n                                            \"extension\": \"png\"\r\n                                        }\r\n                                    ],\r\n                                    \"comps\": {}\r\n                                },\r\n                                \"188\": {\r\n                                    \"textLayers\": [\r\n                                        {\r\n                                            \"index\": 1,\r\n                                            \"name\": \"SAVE THE DATE\",\r\n                                            \"text\": \"SAVE THE DATE\",\r\n                                            \"font\": \"Hey-October\"\r\n                                        },\r\n                                        {\r\n                                            \"index\": 2,\r\n                                            \"name\": \"20/07/2020\",\r\n                                            \"text\": \"20/07/2020\",\r\n                                            \"font\": \"Hey-October\"\r\n                                        }\r\n                                    ],\r\n                                    \"imageLayers\": [],\r\n                                    \"comps\": {}\r\n                                },\r\n                                \"658\": {\r\n                                    \"textLayers\": [],\r\n                                    \"imageLayers\": [],\r\n                                    \"comps\": {}\r\n                                },\r\n                                \"1187\": {\r\n                                    \"textLayers\": [],\r\n                                    \"imageLayers\": [\r\n                                        {\r\n                                            \"index\": 3,\r\n                                            \"name\": \"bulavva logo_1.png\",\r\n                                            \"height\": 626,\r\n                                            \"width\": 490,\r\n                                            \"extension\": \"png\"\r\n                                        }\r\n                                    ],\r\n                                    \"comps\": {}\r\n                                }\r\n                            }\r\n                        },\r\n                        \"466\": {\r\n                            \"textLayers\": [],\r\n                            \"imageLayers\": [\r\n                                {\r\n                                    \"index\": 1,\r\n                                    \"name\": \"still road.png\",\r\n                                    \"height\": 1920,\r\n                                    \"width\": 1080,\r\n                                    \"extension\": \"png\"\r\n                                }\r\n                            ],\r\n                            \"comps\": {}\r\n                        }\r\n                    }\r\n                },\r\n                \"726\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [],\r\n                    \"comps\": {}\r\n                },\r\n                \"760\": {\r\n                    \"textLayers\": [],\r\n                    \"imageLayers\": [],\r\n                    \"comps\": {}\r\n                },\r\n                \"791\": {\r\n                    \"textLayers\": [\r\n                        {\r\n                            \"index\": 1,\r\n                            \"name\": \"Naveen\",\r\n                            \"text\": \"Naveen\",\r\n                            \"font\": \"Hey-October\"\r\n                        },\r\n                        {\r\n                            \"index\": 2,\r\n                            \"name\": \"Weds\",\r\n                            \"text\": \"Weds\",\r\n                            \"font\": \"Hey-October\"\r\n                        },\r\n                        {\r\n                            \"index\": 3,\r\n                            \"name\": \"Priyanka\",\r\n                            \"text\": \"Priyanka\",\r\n                            \"font\": \"Hey-October\"\r\n                        }\r\n                    ],\r\n                    \"imageLayers\": [],\r\n                    \"comps\": {}\r\n                }\r\n            }\r\n        },\r\n        \"save the date\": {\r\n            \"textLayers\": [\r\n                {\r\n                    \"index\": 1,\r\n                    \"name\": \"SAVE THE DATE\",\r\n                    \"text\": \"SAVE THE DATE\",\r\n                    \"font\": \"Hey-October\"\r\n                },\r\n                {\r\n                    \"index\": 2,\r\n                    \"name\": \"20/07/2020\",\r\n                    \"text\": \"20/07/2020\",\r\n                    \"font\": \"Hey-October\"\r\n                }\r\n            ],\r\n            \"imageLayers\": [],\r\n            \"comps\": {}\r\n        },\r\n        \"Still bg\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 1,\r\n                    \"name\": \"still road.png\",\r\n                    \"height\": 1920,\r\n                    \"width\": 1080,\r\n                    \"extension\": \"png\"\r\n                }\r\n            ],\r\n            \"comps\": {}\r\n        },\r\n        \"pattern\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [],\r\n            \"comps\": {}\r\n        },\r\n        \"Streaks\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [],\r\n            \"comps\": {}\r\n        },\r\n        \"Car Interior\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [],\r\n            \"comps\": {}\r\n        },\r\n        \"Name text\": {\r\n            \"textLayers\": [\r\n                {\r\n                    \"index\": 1,\r\n                    \"name\": \"Naveen\",\r\n                    \"text\": \"Naveen\",\r\n                    \"font\": \"Hey-October\"\r\n                },\r\n                {\r\n                    \"index\": 2,\r\n                    \"name\": \"Weds\",\r\n                    \"text\": \"Weds\",\r\n                    \"font\": \"Hey-October\"\r\n                },\r\n                {\r\n                    \"index\": 3,\r\n                    \"name\": \"Priyanka\",\r\n                    \"text\": \"Priyanka\",\r\n                    \"font\": \"Hey-October\"\r\n                }\r\n            ],\r\n            \"imageLayers\": [],\r\n            \"comps\": {}\r\n        },\r\n        \"branding 2\": {\r\n            \"textLayers\": [],\r\n            \"imageLayers\": [\r\n                {\r\n                    \"index\": 3,\r\n                    \"name\": \"bulavva logo_1.png\",\r\n                    \"height\": 626,\r\n                    \"width\": 490,\r\n                    \"extension\": \"png\"\r\n                }\r\n            ],\r\n            \"comps\": {}\r\n        }\r\n    },\r\n    \"staticAssets\": [\r\n        \"Tiles.m4v\",\r\n        \"Culture Code - Make Me Move (feat. Karra) [NCS Release].mp3\",\r\n        \"Car-1.m4v\",\r\n        \"Car Racing.mp3\",\r\n        \"still road.png\",\r\n        \"bulavva logo_1.png\"\r\n    ]\r\n}","import { Box, Button, CircularProgress, Container, Divider, IconButton, TextField, Typography } from \"@material-ui/core\"\r\nimport { Text, ExtraSmallText, Heading, SmallText, SubHeading, } from \"../../../../common/Typography\"\r\nimport React, { useCallback, useState } from \"react\"\r\nimport { useAuth } from \"services/auth\"\r\nimport { useAPI } from \"services/APIContext\"\r\nimport { useReAuthFlow } from \"services/Re-AuthContext\"\r\nimport FileCopyOutlinedIcon from '@material-ui/icons/FileCopyOutlined';\r\nimport { User } from \"services/buzzle-sdk/types\"\r\nimport { useSnackbar } from \"notistack\"\r\nimport AlertHandler from \"common/AlertHandler\"\r\nimport { copyToClipboard } from \"helpers\"\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\"\r\nexport default () => {\r\n    const { reAuthInit } = useReAuthFlow()\r\n    const { user, refreshUser } = useAuth()\r\n    const { User } = useAPI()\r\n    const [loading, setLoading] = useState<\"update\" | \"revoke\" | \"\">(\"\")\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const [isHidden, setIsHidden] = useState<boolean>(true)\r\n    const handleGenerate = useCallback(async (mode: \"update\" | \"generate\") => {\r\n        try {\r\n            setLoading(\"update\")\r\n            await reAuthInit()\r\n            const updated = await User.update({}, { keyOperation: mode })\r\n            await refreshUser(updated.data)\r\n            enqueueSnackbar(`API key ${mode}ed Successfully`, {\r\n                variant: 'success'\r\n            })\r\n            setLoading(\"\")\r\n\r\n        } catch (err) {\r\n            setLoading(\"\")\r\n            enqueueSnackbar(`Operation dismissed, Failed to authenticate!`, {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }, [])\r\n    const handleRevoke = useCallback(async () => {\r\n        try {\r\n            setLoading(\"revoke\")\r\n            await reAuthInit()\r\n            const updated = await User.update({}, { keyOperation: \"revoke\" })\r\n            await refreshUser(updated.data)\r\n            enqueueSnackbar(\"API key Revoked Successfully\", {\r\n                variant: 'success'\r\n            })\r\n            setLoading(\"\")\r\n        } catch (err) {\r\n            setLoading(\"\")\r\n\r\n            enqueueSnackbar(\"Failed to authenticate, key revokation failed!\", {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }, [])\r\n\r\n    const handleCopy = useCallback(async () => {\r\n        try {\r\n            await copyToClipboard(user?.APIKey ?? \"\")\r\n            enqueueSnackbar(\"API key copied successfully!\", {\r\n                variant: 'success'\r\n            })\r\n        } catch (err) {\r\n            enqueueSnackbar(`${(err as Error).message || \"Failed to copy API Key\"}`, {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }, [user])\r\n\r\n    const toggleAPIVisibility = () => {\r\n        setIsHidden(v => !v)\r\n    }\r\n    return <Container\r\n        style={{\r\n            padding: 20, paddingLeft: 25, paddingRight: 25,\r\n            margin: 0,\r\n        }}>\r\n        <SubHeading style={{ marginBottom: 15 }}>API Key</SubHeading>\r\n        <AlertHandler message={user?.APIKey ? \"Do not disclose API key in public, Use it on server side to make API calls, Using it on client is not recommendable, If you find your API key compromised Revoke or Regenerate the key!\" : \"API Key is for developers who wants to integerate and automate video rendering on their platform or service!\"} severity={user?.APIKey ? \"warning\" : \"info\"} />\r\n        {user?.APIKey ? <Box style={{ marginBottom: 15 }}>\r\n            <TextField\r\n                type={!isHidden ? \"text\" : \"password\"}\r\n                contentEditable={\"false\"}\r\n                margin=\"dense\"\r\n                size=\"small\"\r\n                style={{\r\n                    marginBottom: 2, fontSize: 12,\r\n                    maxWidth: 350,\r\n                }}\r\n                InputProps={{\r\n                    endAdornment: <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n                        <IconButton onClick={toggleAPIVisibility} aria-label=\"showKey\">\r\n                            {isHidden ? <Visibility\r\n                                color=\"inherit\" fontSize={\"small\"} /> : <VisibilityOff\r\n                                color=\"inherit\" fontSize={\"small\"} />}\r\n                        </IconButton>\r\n                        <Divider style={{\r\n                            height: 28,\r\n                            margin: 4,\r\n                        }} orientation=\"vertical\" />\r\n                        <IconButton onClick={handleCopy} aria-label=\"copyKey\">\r\n                            <FileCopyOutlinedIcon color=\"inherit\" fontSize={\"small\"} />\r\n                        </IconButton>\r\n                    </Box>\r\n                }}\r\n                variant=\"outlined\" value={`${user?.APIKey}`} />\r\n        </Box> : <div />}\r\n        <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n            <Button\r\n                disabled={loading === \"update\"}\r\n\r\n                children={loading === \"update\" ? <CircularProgress color=\"inherit\" size={20} /> : user?.APIKey ? \"Re-Generate\" : \"Generate Key\"}\r\n                onClick={() => handleGenerate(user?.APIKey ? \"update\" : \"generate\")}\r\n                variant=\"contained\" color=\"primary\" />\r\n            {user?.APIKey ? <Button\r\n                disabled={loading === \"revoke\"}\r\n                style={{ marginLeft: 15 }} children={loading === \"revoke\" ? \"revoking...\" : \"Revoke\"}\r\n                onClick={handleRevoke}\r\n                color=\"secondary\" /> : <div />}\r\n        </Box>\r\n\r\n    </Container>\r\n}","import { Box, Divider ,Container} from \"@material-ui/core\"\r\nimport React from \"react\"\r\nimport AuthOperations from \"common/AuthOperations\";\r\nimport Credentials from \"./Credentials\";\r\n\r\nexport default () => {\r\n    return <Box>\r\n        <AuthOperations initialMode=\"change-pass\" />\r\n        <Container>\r\n            <Divider />\r\n        </Container>\r\n        <Credentials />\r\n    </Box>\r\n}","import { Box, Container } from \"@material-ui/core\"\r\nimport { SubHeading ,Text} from \"common/Typography\"\r\nimport React from \"react\"\r\nexport default () => {\r\n    return <Container\r\n        style={{\r\n            padding: 20, paddingLeft: 25, paddingRight: 25,\r\n            margin: 0,\r\n        }}>\r\n        <SubHeading style={{ marginBottom: 15 }}>Webhooks</SubHeading>\r\n        <Text>Coming soon</Text>\r\n    </Container>\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport VerticalTabs from \"common/VerticalTabs\";\r\nimport Profile from \"./Profile\";\r\nimport Account from \"./Account\";\r\nimport Webhooks from \"./Webhooks\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default () => {\r\n  const query = useQuery()\r\n  const tab = query.get(\"tab\") || \"profile\"\r\n  const history = useHistory()\r\n  const [initialTab, setInitialTab] = useState(tab)\r\n  const tabs = [\r\n    {\r\n      label: \"Profile\",\r\n      key: \"profile\",\r\n      component: <Profile />,\r\n      allowedRoles: [\"admin\", \"user\"],\r\n    },\r\n    {\r\n      label: \"Credentials\",\r\n      component: <Account />,\r\n      key: \"credentials\",\r\n      allowedRoles: [\"admin\", \"user\"],\r\n    },\r\n    {\r\n      label: \"Webhooks\",\r\n      component: <Webhooks />,\r\n      key: \"webhooks\",\r\n      allowedRoles: [\"admin\", \"user\"],\r\n    },\r\n  ]\r\n  useEffect(() => {\r\n    setInitialTab(tab)\r\n  }, [tab])\r\n  return (\r\n    <VerticalTabs\r\n      onTabIndexChange={(index) => history.push(`/home/settings?tab=${tabs[index].key}`)}\r\n      initialTabIndex={tabs.findIndex(({ key }) => key === initialTab)}\r\n      tabs={tabs}\r\n    />\r\n  );\r\n};\r\n","import MuiAlert from \"@material-ui/lab/Alert\";\r\nimport { Snackbar } from \"@material-ui/core\";\r\nimport React from \"react\";\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nexport default ({ open, message, type, onClose }) => {\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ vertical: \"bottom\", horizontal: \"right\" }}\r\n      open={open}\r\n      autoHideDuration={5000}\r\n      onClose={onClose}>\r\n      <Alert onClose={onClose} severity={type}>\r\n        {message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n","import {\r\n  Box, Chip, Tooltip,\r\n  Container,\r\n  GridList,\r\n  GridListTile,\r\n  GridListTileBar, Fade,\r\n  IconButton,\r\n  Link, Avatar,\r\n  Button,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\nimport {useAPI} from \"services/APIContext\";\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport AlertHandler from \"common/AlertHandler\";\r\nimport SnackAlert from \"common/SnackAlert\";\r\nimport MaterialTable from \"material-table\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactJson from \"react-json-view\";\r\nimport {\r\n  Link as RouterLink,\r\n  useHistory,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport { useAuth } from \"services/auth\";\r\nimport * as timeago from \"timeago.js\";\r\n\r\nexport default (props) => {\r\n  let { url, path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { Job, VideoTemplate, User, }=useAPI()\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [testJobTemplate, setTestJobTemplate] = useState(null);\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [view, setView] = useState(\"list\");\r\n  const tableRef = useRef(null);\r\n  const { user } = useAuth();\r\n  const { role } = user\r\n  const uri = `${process.env.REACT_APP_API_URL}/creators/`;\r\n  const handleDelete = async (id) => {\r\n    const action = window.confirm(\"Are you sure, you want to delete\");\r\n    if (!action) return;\r\n\r\n    try {\r\n      setIsDeleting(true);\r\n      console.log(\"delete \", id)\r\n      await VideoTemplate.delete(id);\r\n    } catch (err) {\r\n      setError(err);\r\n    } finally {\r\n      tableRef.current && tableRef.current.onQueryChange();\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n  const useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      display: \"flex\",\r\n      justifyContent: \"space-around\",\r\n      overflow: \"hidden\",\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    gridList: {\r\n      width: 850,\r\n    },\r\n    icon: {\r\n      color: \"rgba(255, 255, 255, 0.54)\",\r\n    },\r\n    drafted: {\r\n      marginLeft: 10\r\n    }\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const [deleteStatus, setDeleteStatus] = useState(\r\n    props?.location?.state?.statusObj ?? { status: false, err: false }\r\n  );\r\n  useEffect(() => {\r\n    const data = async () => {\r\n      setData(await User.getAll(1, 10));\r\n    };\r\n    data();\r\n  }, []);\r\n\r\n  const handleRetry = () => {\r\n    setError(false);\r\n    tableRef.current && tableRef.current.onQueryChange();\r\n  };\r\n  let { status, err } = deleteStatus;\r\n\r\n  return (\r\n    <Container>\r\n      {error && (\r\n        <AlertHandler\r\n          message={error.message}\r\n          showRetry={true}\r\n          onRetry={handleRetry}\r\n        />\r\n      )}\r\n      <SnackAlert\r\n        open={err || status}\r\n        type={status ? \"success\" : \"error\"}\r\n        message={\r\n          status\r\n            ? status?.message ?? \"Deleted Successfully\"\r\n            : err?.message ?? \"Oops, something went wrong, action failed !\"\r\n        }\r\n        onClose={() => setDeleteStatus({ status: false, err: false })}\r\n      />\r\n      <Box\r\n        display=\"flex\"\r\n        alignItems=\"end\"\r\n        justifyContent=\"space-between\"\r\n        flexDirection=\"row\"\r\n        p={1}>\r\n\r\n      </Box>\r\n      <MaterialTable\r\n        tableRef={tableRef}\r\n        title=\"Creators\"\r\n        onRowClick={(e, { id }) => {\r\n          history.push(`${path}${id}`);\r\n        }}\r\n        columns={[\r\n          {\r\n            title: \"Name\",\r\n            field: \"name\",\r\n            //change thumbnail to imageUrl and title to name\r\n            render: ({ imageUrl, name }) => <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n              <Avatar style={{ marginRight: 10, height: 30, width: 30 }} alt=\"thumbnail\" src={imageUrl} />\r\n              {name}\r\n            </div>\r\n          },\r\n          {\r\n            title: \"Creator Id\",\r\n            field: \"id\",\r\n\r\n          },\r\n          {\r\n            title: \"Email\",\r\n            field: \"email\",\r\n          },\r\n        ]}\r\n        localization={{\r\n          body: {\r\n            emptyDataSourceMessage: <Typography>No Creator Found.</Typography>\r\n          },\r\n        }}\r\n        detailPanel={[\r\n          {\r\n            render: (rowData) => (\r\n              <ReactJson\r\n                displayDataTypes={false}\r\n                name={rowData.id}\r\n                collapsed={1}\r\n                src={rowData}\r\n              />\r\n            ),\r\n            icon: \"code\",\r\n            tooltip: \"Show Code\",\r\n          },\r\n        ]}\r\n\r\n        data={(query) =>\r\n          // query?.search ?\r\n          //   Search.getCreators(query?.search, query.page + 1, query.pageSize).then(({ data, count: totalCount }) => ({\r\n          //     data,\r\n          //     page: query.page,\r\n          //     totalCount\r\n          //   })).catch((err) => {\r\n          //     setError(err);\r\n          //     return {\r\n          //       data: [],\r\n          //       page: query.page,\r\n          //       totalCount: 0,\r\n          //     };\r\n          //   }) :\r\n            User.getAll(query.page + 1, query.pageSize)\r\n              .then(({ data, count: totalCount }) => {\r\n                return {\r\n                  data,\r\n                  page: query.page,\r\n                  totalCount,\r\n                };\r\n              })\r\n              .catch((err) => {\r\n                setError(err);\r\n                return {\r\n                  data: [],\r\n                  page: query.page,\r\n                  totalCount: 0,\r\n                };\r\n              })\r\n        }\r\n        options={{\r\n          pageSize: 10,\r\n          headerStyle: { fontWeight: 700 },\r\n          minBodyHeight: 500,\r\n          actionsColumnIndex: -1,\r\n        }}\r\n      />\r\n    </Container>\r\n  );\r\n};","import React from \"react\";\r\nimport { Container, Typography } from \"@material-ui/core\";\r\n\r\nexport default () => {\r\n  return (\r\n    <Container>\r\n      <Typography>User Details</Typography>\r\n    </Container>\r\n  );\r\n};\r\n","import React, { ReactNode, useEffect } from \"react\"\r\nimport { useAuth } from \"services/auth\"\r\ntype IProps = {\r\n    component: any,\r\n    props: any,\r\n    title: string,\r\n}\r\nexport default ({ component: Component, title, props }: IProps) => {\r\n    useEffect(() => {\r\n        document.title = `Buzzle${title ? ` | ${title}` : \"\"}`\r\n    }, [title])\r\n    return <Component {...props} />\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport UsersTable from \"./UserTable\";\r\nimport UserDetails from \"./UserDetails\";\r\nimport { Typography } from \"@material-ui/core\";\r\nimport Page from \"common/Page\";\r\n\r\nexport default () => {\r\n    let { path } = useRouteMatch();\r\n\r\n    return (\r\n        <Switch>\r\n            <Route path={`${path}/`} exact\r\n                render={props => (\r\n                    <Page props={props} component={UsersTable} title=\"Developers\" />\r\n                )} />\r\n            <Route path={`${path}/:id`} render={props => (\r\n                <Page props={props} component={UserDetails} title=\"Developer Details\" />\r\n            )} />\r\n        </Switch>\r\n    );\r\n};\r\n","import { useAuth } from \"services/auth\";\r\nimport { firebaseAuth } from \"services/firebase\";\r\n\r\n//action Types\r\nexport const EDIT_VIDEO_KEYS = \"EDIT_VIDEO_KEYS\";\r\n// export const ADD_VERSION = \"ADD_VERSION\";\r\nexport const REMOVE_VERSION = \"REMOVE_VERSION\";\r\nexport const EDIT_VERSION_KEYS = \"EDIT_VERSION_KEYS\";\r\nexport const ADD_FIELD = \"ADD_FIELD\";\r\nexport const UPDATE_FIELD = \"UPDATE_FIELD\";\r\nexport const REMOVE_FIELD = \"REMOVE_FIELD\";\r\nexport const RESET_STATE = \"RESET_STATE\";\r\nexport const LOAD_STATE = \"LOAD_STATE\";\r\nexport const RESTORE_FIELDS = \"RESTORE_FIELDS\";\r\nexport const SWAP_FIELDS = \"SWAP_FIELDS\";\r\nexport const UPDATE_FIELD_CHANGES = 'UPDATE_FIELD_CHANGES';\r\n\r\n\r\n\r\n\r\nfunction shiftValueByIndex(list, startIndex, endIndex) {\r\n  const result = Array.from(list);\r\n  const [removed] = result.splice(startIndex, 1);\r\n  result.splice(endIndex, 0, removed);\r\n  return result;\r\n  //list, startIndex, endIndex\r\n  // if (dropIndex >= arr.length) {\r\n  //   var k = dropIndex - arr.length + 1;\r\n  //   while (k--) {\r\n  //     arr.push(undefined);\r\n  //   }\r\n  // }\r\n  // arr.splice(dropIndex, 0, arr.splice(dragIndex, 1)[0]);\r\n  // return arr; // for testing\r\n};\r\nexport default (state, action) => {\r\n  switch (action.type) {\r\n    //payload : activeVersionIndex, updatedFields \r\n    case UPDATE_FIELD_CHANGES:\r\n      const updatedFields = state.versions[action.payload.activeVersionIndex].fields.map(({ type, rendererData, constraints, placeholder, label }, index) => {\r\n        const field = rendererData?.layerName + rendererData?.property\r\n        if (action.payload.updatedFields.includes(field)) {\r\n          return state.versions[0].fields[action.payload.updatedFields.indexOf(field)]\r\n        } else return ({ type, rendererData, constraints, placeholder, label })\r\n      })\r\n      state.versions[action.payload.activeVersionIndex].fields = updatedFields;\r\n\r\n      return Object.assign({}, state);\r\n    //payload : activeVersionIndex,currentCompositionFields\r\n    case RESTORE_FIELDS:\r\n      const fields = state.versions[action?.payload?.restoreVersionIndex || 0].fields.filter(({ rendererData }) =>\r\n        (action.payload.currentCompositionFields || []).includes(rendererData.layerName)\r\n      );\r\n\r\n      state.versions[action.payload.activeVersionIndex].fields = fields;\r\n\r\n      return Object.assign({}, state);\r\n\r\n    //payload:action.payload.activeVersionIndex,action.payload.swapIndex,action.payload.targetSwapIndex\r\n    case SWAP_FIELDS:\r\n      state.versions[action.payload.activeVersionIndex].fields = shiftValueByIndex(state.versions[action.payload.activeVersionIndex].fields, action.payload.swapIndex, action.payload.targetSwapIndex)\r\n      return Object.assign({}, state);\r\n    //payload: action.payload.value={key:action.payload.value}\r\n    case EDIT_VIDEO_KEYS:\r\n      return { ...state, ...action.payload.value };\r\n\r\n    //payload : action.payload.activeVersionIndex\r\n    case REMOVE_VERSION:\r\n      return {\r\n        ...state,\r\n        versions: state.versions.filter(\r\n          (item, index) => index !== action.payload.activeVersionIndex\r\n        ),\r\n      };\r\n\r\n    //payload: action.payload.activeVersionIndex,\r\n    //action.payload.value={title:action.payload.value}\r\n    case EDIT_VERSION_KEYS:\r\n      state.versions[action.payload.activeVersionIndex] = {\r\n        ...state.versions[action.payload.activeVersionIndex],\r\n        fields: state.versions[action.payload.activeVersionIndex]?.fields ?? [],\r\n        ...action.payload.value,\r\n      };\r\n      return Object.assign({}, state);\r\n\r\n    //payload:{action.payload.activeVersionIndex, action.payload.fieldIndex}\r\n    //TODO could be implemented more efficiently using array indices\r\n    case REMOVE_FIELD:\r\n      state = {\r\n        ...state,\r\n        versions: state.versions.map((item, index) => {\r\n          if (index === action.payload.activeVersionIndex) {\r\n            return {\r\n              ...item,\r\n              fields: item.fields.filter(\r\n                (field, fieldIndex) => action.payload.fieldIndex !== fieldIndex\r\n              ),\r\n            };\r\n          } else return item;\r\n        }),\r\n      };\r\n      return state;\r\n\r\n    //payload: {field,activeVersionIndex}\r\n    case ADD_FIELD:\r\n      state.versions[action.payload.activeVersionIndex].fields.push(\r\n        { ...action.payload.field }\r\n      );\r\n      return Object.assign({}, state);\r\n\r\n    //payload: {field,activeVersionIndex,fieldIndex}\r\n    case UPDATE_FIELD:\r\n      state.versions[action.payload.activeVersionIndex].fields[\r\n        action.payload.fieldIndex\r\n      ] = { ...action.payload.field };\r\n      return Object.assign({}, state);\r\n\r\n    // load segments to edit , payload = video object\r\n    case LOAD_STATE:\r\n      return { ...action.payload };\r\n    //payload: nul\r\n    case RESET_STATE:\r\n      return {\r\n        title: \"\",\r\n        idCreatedBy: firebaseAuth.currentUser.uid,\r\n        type: action.payload?.type,\r\n        src: \"\",\r\n        versions: [],\r\n        description: \"\",\r\n        keywords: [],\r\n        staticAssets: [],\r\n        fonts: [],\r\n        thumbnail: \"\",\r\n      };\r\n    default:\r\n      throw new Error(\"Action not recognized\");\r\n  }\r\n};\r\n","import React, { createContext, useReducer } from \"react\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { firebaseAuth } from \"services/firebase\";\r\nimport segmentReducer from \"./reducer\";\r\n\r\nconst VideoTemplateContext = createContext();\r\n\r\nconst StateProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(segmentReducer, {\r\n    title: \"\",\r\n    idCreatedBy: firebaseAuth.currentUser.uid, //fetch from localStorage\r\n    src: \"\",\r\n    type: \"ae\",\r\n    versions: [],\r\n    description: \"\",\r\n    keywords: [],\r\n    staticAssets: [],\r\n    fonts: [],\r\n    thumbnail: \"\",\r\n  });\r\n\r\n  return (\r\n    <VideoTemplateContext.Provider\r\n      value={[state, dispatch]}\r\n      children={children}\r\n    />\r\n  );\r\n};\r\n\r\nexport { VideoTemplateContext, StateProvider };\r\n","import React from \"react\";\r\n\r\nimport {\r\n  EDIT_VIDEO_KEYS,\r\n  ADD_FIELD,\r\n  UPDATE_FIELD,\r\n  REMOVE_FIELD,\r\n  // ADD_VERSION,\r\n  EDIT_VERSION_KEYS,\r\n  REMOVE_VERSION,\r\n  LOAD_STATE,\r\n  RESET_STATE,\r\n  SWAP_FIELDS,\r\n  RESTORE_FIELDS, UPDATE_FIELD_CHANGES\r\n} from \"./reducer\";\r\nimport { VideoTemplateContext } from \"./store\";\r\n\r\nexport default function useActions() {\r\n  const [state, dispatch] = React.useContext(VideoTemplateContext);\r\n\r\n  return {\r\n    restoreChanges: function (activeVersionIndex, updatedFields) {\r\n      dispatch({\r\n        type: UPDATE_FIELD_CHANGES,\r\n        payload: { activeVersionIndex, updatedFields },\r\n      });\r\n    },\r\n    restoreFieldsFromPreviousVersion: function (\r\n      restoreVersionIndex,\r\n      activeVersionIndex,\r\n      currentCompositionFields\r\n    ) {\r\n      dispatch({\r\n        type: RESTORE_FIELDS,\r\n        payload: { restoreVersionIndex,activeVersionIndex, currentCompositionFields },\r\n      });\r\n    },\r\n    editVideoKeys: function (value) {\r\n      // value = : { title: \"Video Title\" }\r\n      dispatch({\r\n        type: EDIT_VIDEO_KEYS,\r\n        payload: { value },\r\n      });\r\n    },\r\n    // addVersion: function (value) {\r\n    //   // value = { composition: \"main\" }\r\n    //   dispatch({ type: ADD_VERSION, payload: value });\r\n    // },\r\n    editversionKeys: function (activeVersionIndex, value) {\r\n      // value= { price: \"900\" }\r\n      dispatch({\r\n        type: EDIT_VERSION_KEYS,\r\n        payload: {\r\n          value,\r\n          activeVersionIndex,\r\n        },\r\n      });\r\n    },\r\n    removeVersion: function (activeVersionIndex) {\r\n      dispatch({\r\n        type: REMOVE_VERSION,\r\n        payload: {\r\n          activeVersionIndex,\r\n        },\r\n      });\r\n    },\r\n\r\n    resetVideo: function (id, type = 'ae') {\r\n      dispatch({ type: RESET_STATE, payload: { id, type } });\r\n    },\r\n\r\n    addField: function (activeVersionIndex, field) {\r\n      dispatch({\r\n        type: ADD_FIELD,\r\n        payload: {\r\n          activeVersionIndex,\r\n          field\r\n        },\r\n      });\r\n    },\r\n    swapFields: function (\r\n      activeVersionIndex,\r\n      swapIndex,\r\n      targetSwapIndex\r\n    ) {\r\n      dispatch({\r\n        type: SWAP_FIELDS,\r\n        payload: {\r\n          activeVersionIndex,\r\n          swapIndex,\r\n          targetSwapIndex,\r\n        }\r\n      })\r\n    },\r\n    removeField: function (activeVersionIndex, fieldIndex) {\r\n      dispatch({\r\n        type: REMOVE_FIELD,\r\n        payload: {\r\n          activeVersionIndex,\r\n          fieldIndex,\r\n        },\r\n      });\r\n    },\r\n    updateField: function (activeVersionIndex, fieldIndex, field) {\r\n      // value is field object\r\n      dispatch({\r\n        type: UPDATE_FIELD,\r\n        payload: {\r\n          activeVersionIndex,\r\n          fieldIndex,\r\n          field\r\n        },\r\n      });\r\n    },\r\n\r\n    loadVideo: function (video) {\r\n      dispatch({ type: LOAD_STATE, payload: video });\r\n    },\r\n  };\r\n} \r\n","import {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormHelperText,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Radio,\r\n  RadioGroup,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport path from \"path\"\r\nimport {\r\n  CloudUpload,\r\n  Done,\r\n  Folder,\r\n  Image,\r\n  MusicVideo,\r\n  OndemandVideo,\r\n} from \"@material-ui/icons\";\r\nimport { ManagedUpload } from \"aws-sdk/clients/s3\";\r\nimport { Text } from \"common/Typography\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { upload } from \"services/awsService\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\n\r\ntype IProps = {\r\n  asset: { name: string, type: 'static', src: string | File },\r\n  handleDelete?: Function,\r\n  setAssets: (uri: Array<{ name: string, src: File }> | string) => void,\r\n  type: \"folder\" | \"file\",\r\n  assetsNames: Array<string>,\r\n  isFolderResolved: boolean,\r\n}\r\nexport default function AssetUploader({\r\n  asset,\r\n  handleDelete = undefined,\r\n  setAssets,\r\n  type,\r\n  assetsNames,\r\n  isFolderResolved,\r\n}: IProps) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext)\r\n  const { user } = useAuth()\r\n  const [src, setSrc] = useState<string>(\r\n    typeof asset?.src === \"string\" ? asset?.src : ''\r\n  );\r\n  const [inputType, setInputType] = useState<'file' | 'url'>('file')\r\n  const [progress, setProgress] = useState<string | null>(null);\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [taskController, setTaskController] = useState<ManagedUpload | null>(null);\r\n  const extension = `.${asset?.name.split(\".\").pop()}`\r\n  const audioExtensions = [\r\n    \".opus\",\r\n    \".flac\",\r\n    \".webm\",\r\n    \".weba\",\r\n    \".wav\",\r\n    \".ogg\",\r\n    \".m4a\",\r\n    \".mp3\",\r\n    \".oga\",\r\n    \".mid\",\r\n    \".amr\",\r\n    \".aiff\",\r\n    \".wma\",\r\n    \".au\",\r\n    \".aac\",\r\n  ];\r\n  const videoExtensions = [\r\n    \".ogm\",\r\n    \".wmp\",\r\n    \".mpg\",\r\n    \".webm\",\r\n    \".ogv\",\r\n    \".mov\",\r\n    \".asx\",\r\n    \".mpeg\",\r\n    \".mp4\",\r\n    \".m4v\",\r\n    \".avi\",\r\n  ];\r\n  const imageExtensions = [\r\n    \".tiff\",\r\n    \".pjp\",\r\n    \".pjpeg\",\r\n    \".jfif\",\r\n    \".tif\",\r\n    \".gif\",\r\n    \".svg\",\r\n    \".bmp\",\r\n    \".png\",\r\n    \".jpeg\",\r\n    \".svgz\",\r\n    \".jpg\",\r\n    \".webp\",\r\n    \".ico\",\r\n    \".xbm\",\r\n    \".dib\",\r\n  ];\r\n  useEffect(() => {\r\n    if (isFolderResolved && typeof asset?.src !== \"string\") {\r\n      handleUpload(asset.src as File);\r\n    }\r\n  }, []);\r\n  useEffect(() => {\r\n    if (typeof asset.src === 'string' && asset.src && !asset.src.startsWith('http')) {\r\n      setError(new Error(\"Invalid url, Please re-check the url\"))\r\n    }\r\n  }, [asset])\r\n  const handleAssetUpload = async (e: any) => {\r\n    if (type !== \"folder\") {\r\n      const file =\r\n        (e?.target?.files ?? [null])[0] ||\r\n        (e?.dataTransfer?.files ?? [null])[0];\r\n      if (!file) return;\r\n      handleUpload(file);\r\n    } else {\r\n      const temp: Array<File> = Object.assign([], e?.target.files);\r\n      setAssets(temp.filter(({ name }) => assetsNames.includes(name))?.map((file) => ({ name: file.name, src: file }))\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleUpload = async (file: File) => {\r\n    try {\r\n      setError(null);\r\n      setProgress(null)\r\n      setLoading(true);\r\n      const task = upload(\r\n        `templates/${videoObj?.title}/assets/${file.name || `${Date.now()}.${file?.name.split(\".\").pop()}`}`,\r\n        file\r\n      );\r\n      setTaskController(task);\r\n      task.on(\"httpUploadProgress\", ({ loaded, total }) =>\r\n        setProgress(`${Math.floor((loaded / total) * 100)}%`)\r\n      );\r\n      let { Location: uri } = await task.promise();\r\n      uri = uri.startsWith(\"http\") ? uri : `https://${uri}`\r\n      setLoading(false);\r\n      setAssets(uri);\r\n      setSrc(uri);\r\n      setProgress(null)\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setProgress(null)\r\n      setLoading(false);\r\n      setError(err as Error);\r\n      setTaskController(null);\r\n    }\r\n  };\r\n  const handleUploadCancel = async () => {\r\n    try {\r\n      await taskController?.abort();\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(err as Error);\r\n      setTaskController(null);\r\n    }\r\n  };\r\n  return (\r\n    <Box>\r\n      <ListItem>\r\n        <ListItemIcon>\r\n          {videoExtensions.includes(extension) ? (\r\n            <OndemandVideo fontSize=\"large\" />\r\n          ) : audioExtensions.includes(extension) ? (\r\n            <MusicVideo fontSize=\"large\" />\r\n          ) : imageExtensions.includes(extension) ? (\r\n            <Image fontSize=\"large\" />\r\n          ) : (\r\n            <Folder fontSize=\"large\" />\r\n          )}\r\n        </ListItemIcon>\r\n        <Box>\r\n          <Text style={{ fontWeight: 600 }}>{asset?.name}</Text>\r\n          {type === \"file\" ? <FormControl component=\"fieldset\">\r\n            <RadioGroup\r\n              aria-label=\"type\"\r\n              name=\"type\"\r\n              value={inputType}\r\n              onChange={({ target: { value } }) => setInputType(value as \"file\" | \"url\")}\r\n              row>\r\n              <FormControlLabel value=\"file\" control={<Radio />} label=\"File\" />\r\n              <FormControlLabel value=\"url\" control={<Radio />} label=\"URL\" />\r\n            </RadioGroup>\r\n          </FormControl> : <div />}\r\n          {inputType == 'file' || type !== 'file' ? <Box m={1} ml={0}>\r\n            {type === \"folder\" ? (\r\n              <input\r\n                id={asset?.name}\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                name={asset?.name}\r\n                //@ts-ignore\r\n                webkitdirectory=\"\"\r\n                mozdirectory=\"\"\r\n                onChange={handleAssetUpload}\r\n              />\r\n            ) : (\r\n              <input\r\n                id={asset?.name}\r\n                style={{ display: \"none\" }}\r\n                type=\"file\"\r\n                name={asset?.name}\r\n                accept={extension}\r\n                onChange={handleAssetUpload}\r\n              />\r\n            )}\r\n            <label htmlFor={asset?.name}>\r\n              <Button\r\n                disabled={loading}\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                startIcon={<CloudUpload />}\r\n                component=\"span\">\r\n                {src ? `Change` : `Upload`}\r\n              </Button>\r\n            </label>\r\n            <Typography\r\n              style={{ marginLeft: 10, ...(typeof asset?.src === 'string' && type === 'file' && !loading ? { color: 'green' } : {}) }}\r\n              variant=\"body2\"\r\n              component={\"span\"}\r\n              color=\"textSecondary\">\r\n              {loading\r\n                ? ` Uploading: ${progress || \"0%\"} `\r\n                : `${type === \"folder\" ? \"\" : typeof asset.src === 'string' ? path.basename(asset?.src as string) : \"\"}`}\r\n            </Typography>\r\n            {loading && (\r\n              <Button\r\n                onClick={handleUploadCancel}\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                component=\"span\">\r\n                Cancel\r\n              </Button>\r\n            )}\r\n          </Box>\r\n            : <Box>\r\n              <TextField\r\n                label=\"File URL\"\r\n                placeholder=\"Paste URL here\"\r\n                margin=\"dense\"\r\n                style={{ marginRight: 20 }}\r\n                variant=\"outlined\"\r\n                value={src}\r\n                onChange={({ target: { value } }) => {\r\n                  setError(null)\r\n                  setAssets(value);\r\n                  setSrc(value);\r\n                }}\r\n              /></Box>}\r\n          <FormHelperText error={!!error} children={error ? error?.message : asset?.src ? \"\" : `Upload ${type === 'folder' ? \"Folder\" : 'or ignore to continue'}`} />\r\n        </Box>\r\n        <ListItemSecondaryAction>\r\n          <Button disabled={!!!handleDelete || !!src} onClick={() => handleDelete ? handleDelete() : console.log(\"disabled\")} color=\"secondary\">\r\n            Ignore\r\n          </Button>\r\n        </ListItemSecondaryAction>\r\n      </ListItem >\r\n\r\n    </Box >\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  IconButton,\r\n  List,\r\n  makeStyles,\r\n  Radio,\r\n  RadioGroup,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport ArrowBack from \"@material-ui/icons/ArrowBack\";\r\nimport { SubHeading } from \"common/Typography\";\r\nimport useActions from \"contextStore/actions\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport AssetUploader from \"./AssetUploader\";\r\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    border: `1px solid ${theme.palette.divider}`,\r\n  },\r\n}));\r\ntype IProps = {\r\n  staticAssets: Array<{ name: string, type: string, src: string }>,\r\n  activeDisplayIndex: number,\r\n  setActiveDisplayIndex: (value: number) => void,\r\n  isSubmitting: boolean,\r\n  submitError: Error | null,\r\n  handleSubmitForm: Function,\r\n  isAssetNavigated: boolean,\r\n  setIsAssetNavigated: Function,\r\n}\r\ntype asset = { name: string, type: 'static', src: File | string }\r\nexport default function AssetUpload({\r\n  staticAssets,\r\n  activeDisplayIndex,\r\n  setActiveDisplayIndex,\r\n  isAssetNavigated,\r\n  setIsAssetNavigated,\r\n  isSubmitting,\r\n  submitError,\r\n  handleSubmitForm,\r\n}: IProps) {\r\n  const classes = useStyles();\r\n\r\n  const [isValid, setIsValid] = useState(false);\r\n\r\n  const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext);\r\n  const { editVideoKeys } = useActions();\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [uploadType, setUploadType] = useState<\"file\" | \"folder\">(\r\n    (staticAssets[0]?.src ?? false) === \"\" ? \"folder\" : \"file\"\r\n  );\r\n\r\n  const [assets, setAssets] = useState<Array<asset>>([]);\r\n  const [isFolderResolved, setIsFolderResolved] = useState(typeof staticAssets[0]?.src !== \"string\" || !!staticAssets[0]?.src);\r\n  useEffect(() => {\r\n    setIsAssetNavigated(true)\r\n    setAssets(!isAssetNavigated ? staticAssets?.map((oldAsset) => ((videoObj.staticAssets || []).find((item) => item.name === oldAsset.name) || oldAsset) as asset) : (videoObj.staticAssets || []) as Array<asset>)\r\n\r\n  }, [])\r\n  useEffect(() => {\r\n    // set the value to global state of videoTemplate\r\n    editVideoKeys({ staticAssets: assets });\r\n    setIsValid(assets.every((i) => !!i.src));\r\n  }, [assets]);\r\n  const handleReset = () => {\r\n    setAssets(staticAssets?.map((oldAsset) => ((videoObj.staticAssets || []).find((item) => item.name === oldAsset.name) || oldAsset) as asset))\r\n  }\r\n  const handleChange = (e: any) => {\r\n    setUploadType(e.target.value);\r\n  };\r\n\r\n  const renderAssetFileUploader = () => {\r\n    return (\r\n      <Box mt={2}>\r\n        <List className={classes.root}>\r\n          {assets?.length !== 0 ? (\r\n            assets?.map((asset, index) => (\r\n              <>\r\n                <AssetUploader\r\n                  type={\"file\"}\r\n                  assetsNames={[asset.name]}\r\n                  key={asset.name}\r\n                  handleDelete={() => {\r\n                    setAssets(assets.filter(({ name }, i) => name !== asset.name));\r\n                  }}\r\n                  setAssets={(src) => {\r\n                    if (typeof src === \"string\") {\r\n\r\n                      setAssets(assets =>\r\n                        assets?.map((item, i) =>\r\n                          item?.name === asset?.name ? { ...item, src } : item)\r\n                      )\r\n                    }\r\n\r\n\r\n                  }}\r\n                  asset={asset}\r\n                  isFolderResolved={isFolderResolved}\r\n                />\r\n                {index !== assets.length - 1 && <Divider />}\r\n              </>\r\n            ))\r\n          ) : (\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n              minHeight={200}>\r\n              <Typography>No Assets Found!</Typography>\r\n            </Box>\r\n          )}\r\n        </List>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const renderAssetUploader = (uploadType: \"folder\" | \"file\") => {\r\n    switch (uploadType) {\r\n      case \"folder\":\r\n        return (\r\n          <List className={classes.root}>\r\n            <AssetUploader\r\n              type={uploadType}\r\n              assetsNames={assets.filter(value => !value.src)?.map(({ name }) => name)}\r\n              setAssets={(src) => {\r\n                if (typeof src !== 'string') {\r\n                  if (!src.length) {\r\n                    enqueueSnackbar(\"No asset present in this folder, Upload your asset individually\", {\r\n                      variant: 'warning',\r\n                    })\r\n                  }\r\n                  setAssets(assets => assets.map((item) => ({\r\n                    ...item,\r\n                    src: src.find((file) => item.name === file.name)?.src || item?.src || \"\"\r\n                  })));\r\n                  setIsFolderResolved(true);\r\n                  setUploadType(\"file\");\r\n                }\r\n              }}\r\n              asset={{ name: \"Asset Folder\", src: \"\", type: 'static' }}\r\n              isFolderResolved={isFolderResolved}\r\n            />\r\n          </List>\r\n        );\r\n      case \"file\":\r\n        return renderAssetFileUploader();\r\n\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Box>\r\n      <Box style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n        <SubHeading>Upload Asset Files</SubHeading>\r\n        <IconButton onClick={handleReset}>\r\n          <RotateLeftIcon />\r\n        </IconButton>\r\n      </Box>\r\n      <FormControl style={{ marginTop: 5 }} component=\"fieldset\">\r\n        <FormLabel component=\"legend\">\r\n          Choose Asset Upload Structure\r\n        </FormLabel>\r\n        <RadioGroup value={uploadType} onChange={handleChange} row>\r\n          <FormControlLabel\r\n            value=\"folder\"\r\n            control={<Radio />}\r\n            label=\"Complete Assets Folder\"\r\n          />\r\n          <FormControlLabel\r\n            value=\"file\"\r\n            control={<Radio />}\r\n            label=\"Individual Assets\"\r\n          />\r\n        </RadioGroup>\r\n      </FormControl>\r\n      {/* ) : <div />} */}\r\n      {renderAssetUploader(uploadType)}\r\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n        <Button\r\n          startIcon={<ArrowBack />}\r\n          style={{ margin: 10 }}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          children={\"Back\"}\r\n          onClick={() => setActiveDisplayIndex(activeDisplayIndex - 1)}\r\n        />\r\n        <Button\r\n          endIcon={isSubmitting && <CircularProgress color=\"inherit\" size={20} />}\r\n          disabled={isSubmitting || !isValid}\r\n          style={{ margin: 10 }}\r\n          color={submitError ? \"secondary\" : \"primary\"}\r\n          variant={submitError ? \"outlined\" : \"contained\"}\r\n          children={\r\n            submitError ? \"Retry\" : isSubmitting ? \"Submitting\" : \"Submit\"\r\n          }\r\n          onClick={() => handleSubmitForm(videoObj)}\r\n        />\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  Typography, IconButton\r\n} from \"@material-ui/core\";\r\nimport RotateLeftIcon from '@material-ui/icons/RotateLeft';\r\nimport { makeStyles, } from \"@material-ui/core/styles\";\r\nimport { ArrowBack, ArrowForward } from \"@material-ui/icons\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport FileUploader from \"common/FileUploader\";\r\nimport { SubHeading, Text } from \"common/Typography\";\r\nimport useActions from \"contextStore/actions\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { getLayersFromComposition } from \"helpers\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    border: `1px solid ${theme.palette.divider}`,\r\n  },\r\n}));\r\ntype IProps = {\r\n  compositions: any,\r\n  isFontNavigated: boolean,\r\n  setIsFontNavigated: Function,\r\n  setActiveDisplayIndex: (value: number) => void,\r\n  activeDisplayIndex: number,\r\n  fonts: Array<{ name: string, src: string }>\r\n}\r\nexport default function FontUpload({\r\n  compositions, fonts,\r\n  setActiveDisplayIndex,\r\n  setIsFontNavigated, isFontNavigated,\r\n  activeDisplayIndex,\r\n}: IProps) {\r\n  const { editVideoKeys } = useActions();\r\n  const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext);\r\n  const classes = useStyles()\r\n  const [fontList, setFontList] = useState<Array<{ name: string, src: string }>>([]);\r\n  const [isValid, setIsValid] = useState(false);\r\n  // takes all font used in template\r\n  useEffect(() => {\r\n    setIsFontNavigated(true)\r\n    setFontList(isFontNavigated ? videoObj?.fonts || [] : fonts.map(fontName => videoObj?.fonts?.find(({ name }) => name === fontName.name) || fontName))\r\n\r\n  }, [])\r\n\r\n  const handleReset = () => {\r\n    setFontList(fonts.map(fontName => videoObj?.fonts?.find(({ name }) => name === fontName.name) || fontName))\r\n  }\r\n\r\n  useEffect(() => {\r\n    editVideoKeys({ fonts: fontList });\r\n    setIsValid(fontList.every((i) => !!i.src));\r\n  }, [fontList]);\r\n\r\n  return (\r\n    <Box>\r\n      <Box style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\r\n        <SubHeading>Upload Font Files</SubHeading>\r\n        <IconButton onClick={handleReset}>\r\n          <RotateLeftIcon />\r\n        </IconButton>\r\n      </Box>\r\n      <Box mt={2}>\r\n        <List className={classes.root}>\r\n          {fontList.length ? (\r\n            fontList.map((font, index) => (\r\n              <Box key={font.name}>\r\n                <ListItem>\r\n                  <FileUploader\r\n                    uploadFileNameColor=\"#4BB543\"\r\n                    value={font.src}\r\n                    storageType=\"archive\"\r\n                    label={font.name}\r\n                    helperText={font.src ? \"\" : \"Upload Font or Ignore to continue\"}\r\n                    name={font.name}\r\n                    forceUploadDirectory={true}\r\n                    uploadDirectory={`templates/${videoObj?.title}/fonts`}\r\n                    onChange={(value: string) => {\r\n                      setFontList((list) => {\r\n                        return list?.map((item) => item.name === font.name\r\n                          ? ({ ...item, src: value })\r\n                          : item)\r\n                      });\r\n                    }}\r\n                    accept={\".ttf,.otf\"}\r\n                  />\r\n                  <ListItemSecondaryAction>\r\n                    <Button\r\n                      disabled={!!font.src}\r\n                      onClick={() => {\r\n                        setFontList(fontList.filter(({ name }, i) => name !== font.name));\r\n                      }}\r\n                      color=\"secondary\">\r\n                      Ignore\r\n                    </Button>\r\n                  </ListItemSecondaryAction>\r\n                </ListItem>\r\n                {index !== fontList.length - 1 && <Divider />}\r\n              </Box>\r\n            ))\r\n          ) : (\r\n            <Box\r\n              display=\"flex\"\r\n              alignItems=\"center\"\r\n              justifyContent=\"center\"\r\n              minHeight={200}>\r\n              <Text color=\"textSecondary\">No Fonts Found in this template!</Text>\r\n            </Box>\r\n          )}\r\n        </List>\r\n      </Box>\r\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n        <Button\r\n          startIcon={<ArrowBack />}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          onClick={() => setActiveDisplayIndex(activeDisplayIndex - 1)}>\r\n          Back\r\n        </Button>\r\n\r\n        <Button\r\n          disabled={!isValid}\r\n          endIcon={<ArrowForward />}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            setActiveDisplayIndex(activeDisplayIndex + 1)\r\n          }}>\r\n          Next\r\n        </Button>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport Step from \"@material-ui/core/Step\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\n\r\nexport default ({ activeDisplayIndex, type = 'ae' }) => {\r\n  const steps = type === 'ae' ? [`File Meta`, `Versions`, `Font Files`, `Assets Files`] : [`File Meta`, `Versions`];\r\n  return (\r\n    <Stepper\r\n      style={{ background: \"transparent\" }}\r\n      activeStep={activeDisplayIndex}>\r\n      {steps.map((label) => (\r\n        <Step key={label}>\r\n          <StepLabel\r\n            style={{\r\n              fontWeight: 700,\r\n            }}>\r\n            {label}\r\n          </StepLabel>\r\n        </Step>\r\n      ))}\r\n    </Stepper>\r\n  );\r\n};\r\n","import { Box } from '@material-ui/core'\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport CheckCircleOutlineOutlinedIcon from '@material-ui/icons/CheckCircleOutlineOutlined';\r\nimport { Text } from 'common/Typography'\r\nimport ReportProblemOutlinedIcon from '@material-ui/icons/ReportProblemOutlined';\r\nimport React from 'react'\r\ntype IProps = {\r\n    text: string,\r\n    style?: React.CSSProperties,\r\n    textStyle?: React.CSSProperties,\r\n    type?: 'upper' | 'lower',\r\n    variant: \"error\" | \"success\" | \"warning\" | 'info'\r\n}\r\nexport default ({ text, style = {}, textStyle = {}, type = \"lower\", variant }: IProps) => {\r\n    const variants = {\r\n        \"error\": {\r\n            background: \"#d32f2f\", text: \"#fff\", secondary: '#871b1b',\r\n            icon: <InfoOutlinedIcon style={{ color: \"#fff\", paddingLeft: 5, paddingRight: 5 }} fontSize={\"inherit\"} />\r\n\r\n        },\r\n        \"info\": {\r\n            background: \"#2196f3\", text: \"#fff\", secondary: '#1b4667',\r\n            icon: <InfoOutlinedIcon style={{ color: \"#fff\", paddingLeft: 5, paddingRight: 5 }} fontSize={\"inherit\"} />\r\n        },\r\n        \"warning\": {\r\n            background: \"#ffc372\", text: \"#663c00\", secondary: '#b68749',\r\n            icon: <ReportProblemOutlinedIcon style={{ color: \"#663c00\", paddingLeft: 5, paddingRight: 5 }} fontSize={\"inherit\"} />\r\n\r\n        },\r\n        \"success\": {\r\n            background: \"#8bc34a\", text: \"#fff\", secondary: '#507129',\r\n            icon: <CheckCircleOutlineOutlinedIcon style={{ color: \"#fff\", paddingLeft: 5, paddingRight: 5 }} fontSize={\"inherit\"} />\r\n\r\n        }\r\n    }\r\n    const styles = {\r\n        upperRibon: {\r\n            // justifyContent: 'center',\r\n            fontSize:25,\r\n            alignItems: 'center',\r\n            display: 'flex',\r\n            backgroundColor: variants[variant].background,//\"#db2828\",\r\n            borderTopRightRadius: 3,\r\n            borderBottomRightRadius: 3,\r\n        },\r\n        smallRibbon: {\r\n            width: 0,\r\n            height: 0,\r\n            backgroundColor: 'transparent',\r\n            borderStyle: 'solid',\r\n            borderWidth: 5,\r\n            borderColor: 'transparent',\r\n            borderTopColor: variants[variant].secondary,// '',\r\n            borderRightColor: variants[variant].secondary,// '#b21e1e',\r\n        },\r\n        text: { color: variants[variant].text, padding: 5, fontSize: 12, marginBottom: 0, marginTop: 0 },\r\n\r\n    }\r\n    return <Box style={{ position: 'absolute', zIndex: 1, top: 5, left: 5, ...style }}>\r\n        {type === 'upper' ? <Box\r\n            style={{ ...styles.smallRibbon, transform: 'rotate(90deg)' }}\r\n        /> : <Box />}\r\n        <Box\r\n            style={styles.upperRibon}>\r\n            {variants[variant]?.icon}\r\n            <Text style={{ ...styles.text, ...textStyle }}>{text}</Text>\r\n        </Box>\r\n        {type === 'lower' ? <Box\r\n            style={{\r\n                ...styles.smallRibbon,\r\n            }}\r\n        /> : <Box />}\r\n    </Box>\r\n}","import React from \"react\";\r\nimport {\r\n  DialogActions,\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  FormControl,\r\n  FormHelperText,\r\n  InputLabel, FormLabel,\r\n  FormControlLabel, RadioGroup, Radio,\r\n  Switch,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { getUniqueId } from \"helpers\"\r\nimport { imageComp, textComp } from \"common/types\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  type: Yup.string().required(\"Layer type is required!\"),\r\n  propertyType: Yup.string().required(\"Property Type is required!\"),\r\n  property: Yup.string().when(\"propertyType\", {\r\n    is: \"image\",\r\n    then: Yup.string(),\r\n    otherwise: Yup.string().required(\"Property of the layer is required!\")\r\n  }),\r\n  placeholder: Yup.string().when('type', {\r\n    is: 'data',\r\n    then: Yup.string().required('Placeholder is required!'),\r\n    otherwise: Yup.string()\r\n  }),\r\n  layerName: Yup.string().required(\"Layer name is required!\"),\r\n  label: Yup.string().required(\"Field Label is required!\"),\r\n  maxLength: Yup.number().when(\"type\", {\r\n    is: \"data\", // alternatively: (val) => val == true\r\n    then: Yup.number().required(\"Max Length is required\"),\r\n    otherwise: Yup.number(),\r\n  }),\r\n  width: Yup.number().when(\"type\", {\r\n    is: \"image\", // alternatively: (val) => val == true\r\n    then: Yup.number().required(\"Width of image is required\"),\r\n    otherwise: Yup.number(),\r\n  }),\r\n  height: Yup.number().when(\"type\", {\r\n    is: \"image\", // alternatively: (val) => val == true\r\n    then: Yup.number().required(\"Height of image is required\"),\r\n    otherwise: Yup.number(),\r\n  }),\r\n});\r\ntype IProps = {\r\n  editField: boolean,\r\n  templateType: \"ae\" | \"remotion\",\r\n  textLayers: Array<textComp>,\r\n  imageLayers: Array<imageComp>,\r\n  onClose: Function,\r\n  onDataSubmit: Function,\r\n  initialValue: any\r\n\r\n}\r\nexport default ({ textLayers = [], onDataSubmit, initialValue, imageLayers = [], templateType = 'ae', editField, onClose }: IProps) => {\r\n\r\n  const onSubmit = ({ key = \"\", property, label, layerName, maxLength, placeholder, propertyType, required, type, extension, height, width }: {\r\n    key?: string,\r\n    property: string,\r\n    placeholder: string,\r\n    extension?: string,\r\n    propertyType: string,\r\n    type: \"data\" | \"image\",\r\n    label: string,\r\n    required: boolean, maxLength: number,\r\n    layerName: string, width?: number, height?: number\r\n  }) => {\r\n    switch (type) {\r\n      case \"data\":\r\n        onDataSubmit({\r\n          key: editField ? key : getUniqueId(),\r\n          type: propertyType,\r\n          label, placeholder,\r\n          constraints: property === \"Source Text.text\" ? {\r\n            required,\r\n            maxLength,\r\n          } : { required },\r\n          rendererData: { layerName, property: templateType === 'ae' ? property : '', type }\r\n        })\r\n        break;\r\n\r\n      case \"image\":\r\n        onDataSubmit({\r\n          key: editField ? key : getUniqueId(),\r\n          type: propertyType,\r\n          label,\r\n          constraints: propertyType === \"image\"\r\n            ? {\r\n              required,\r\n              width,\r\n              height\r\n            }\r\n            : { required },\r\n          rendererData: propertyType === \"image\"\r\n            ? { layerName, type, extension: extension === \"null\" ? \"png\" : (extension || \"png\") }\r\n            : { layerName, property: templateType === 'ae' ? property : '', type }\r\n\r\n        })\r\n        break;\r\n      default:\r\n        throw new Error();\r\n    }\r\n    toggleDialog(false);\r\n  };\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleSubmit,\r\n    resetForm,\r\n    handleChange,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: initialValue,\r\n    validationSchema,\r\n    onSubmit,\r\n  });\r\n\r\n  const inputTypes = [\r\n    { label: \"Text\", value: \"data\" },\r\n    { label: \"Image\", value: \"image\" },\r\n  ];\r\n\r\n  const toggleDialog = (state: boolean) => {\r\n    onClose(state);\r\n  };\r\n\r\n  const handleLayerChange = (value: string) => {\r\n    setFieldValue('layerName', value)\r\n    // set default text value to placeholder\r\n    if (values?.type === \"data\") {\r\n      const layerNames = textLayers.map((layer) => layer?.name ?? layer)\r\n      setFieldValue('property', 'Source Text.text')\r\n      setFieldValue('placeholder', textLayers[layerNames.indexOf(value)]?.text || \"\")\r\n    }\r\n    //set height and width coming from layer\r\n    else {\r\n      const layerNames = imageLayers.map((layer) => layer?.name ?? layer)\r\n      setFieldValue('height', imageLayers[layerNames.indexOf(value)][\"height\"] || 0)\r\n      setFieldValue('width', imageLayers[layerNames.indexOf(value)][\"width\"] || 0)\r\n      setFieldValue('extension', imageLayers[layerNames.indexOf(value)]?.extension === \"null\" ? \"png\" : (imageLayers[layerNames.indexOf(value)]?.extension || \"png\"))\r\n    }\r\n  }\r\n  const renderPropertyPicker = () => {\r\n    const layerProperties = [\"scale\", \"color\"];\r\n    const propertiesByType = {\r\n      data: [\r\n        \"Source Text.text\",\r\n        \"Source Text.font\",\r\n        \"Source Text.fontSize\",\r\n        \"Source Text.fillColor\",\r\n      ],\r\n      image: [\"opacity\"],\r\n    };\r\n\r\n    const p = layerProperties.concat(propertiesByType[values?.type]);\r\n    if (!values?.type || !values?.propertyType || values?.propertyType === \"image\" || values?.propertyType === \"string\" || templateType === 'remotion') return <div />;\r\n    return (\r\n      <FormControl\r\n        required={values?.propertyType === 'image' ? false : true}\r\n        fullWidth\r\n        margin=\"dense\"\r\n        variant=\"outlined\"\r\n        error={touched?.property && !!errors?.property}>\r\n        <InputLabel id=\"property-select\">Select Property</InputLabel>\r\n        <Select\r\n          labelId=\"property-select\"\r\n          id=\"property-select\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          name=\"property\"\r\n          value={values.property}\r\n          placeholder=\"Click to Pick Property\"\r\n          label=\"Select Property\">\r\n          {p.map((item, index) => (\r\n            <MenuItem\r\n              key={item}\r\n              id={item}\r\n              value={item}\r\n              children={item}\r\n              selected={values.property === item}\r\n            />\r\n          ))}\r\n        </Select>\r\n        <FormHelperText\r\n          error={touched?.property && !!errors?.property}\r\n        >{touched?.property && !!errors?.property ? errors?.property : \"\"}</FormHelperText>\r\n      </FormControl>\r\n    );\r\n  }\r\n  const renderPropertyTypeSelector = () => {\r\n    return (<FormControl\r\n      required\r\n      style={{ marginTop: 8, marginBottom: 8 }}\r\n      component=\"fieldset\">\r\n      <FormLabel component=\"legend\">Select Field Type</FormLabel>\r\n      <RadioGroup aria-label=\"propertyType\" name=\"propertyType\" row\r\n        defaultValue={'string'}\r\n        value={values?.propertyType} onChange={handleChange}>\r\n        <FormControlLabel value=\"string\" disabled={values?.type === \"image\"} control={<Radio />} label=\"Text\" />\r\n        <FormControlLabel value=\"image\" disabled={values?.type === \"data\"}\r\n          control={<Radio />} label=\"Image\" />\r\n      </RadioGroup>\r\n      <FormHelperText\r\n        error={touched?.propertyType && !!errors?.propertyType}\r\n      >{touched?.propertyType && !!errors?.propertyType ? errors?.propertyType\r\n        : \"Field type describes, what you want to input from a user, Text for date and text, while image is for picture\"}</FormHelperText>\r\n    </FormControl>)\r\n\r\n  }\r\n  const renderTextInputCreator = () => (\r\n    <div>\r\n      <TextField\r\n        required\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        value={values?.label}\r\n        name=\"label\"\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        error={touched?.label && !!errors?.label}\r\n        helperText={touched?.label && !!errors?.label ? errors?.label : \"\"}\r\n        type=\"text\"\r\n        label=\"Field Title\"\r\n        placeholder=\"Field Title\"\r\n      />\r\n      <TextField\r\n        required={values?.type === 'data' ? true : false}\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        value={values?.placeholder}\r\n        name=\"placeholder\"\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        error={touched?.placeholder && !!errors?.placeholder}\r\n        helperText={touched?.placeholder && !!errors?.placeholder ? errors?.placeholder : \"\"}\r\n        type=\"text\"\r\n        label=\"Field Placeholder\"\r\n        placeholder=\"Enter Field Placeholder Text\"\r\n      />\r\n      {values?.property === \"Source Text.text\" && <>   <TextField\r\n        fullWidth\r\n        required={values?.type === 'data' ? true : false}\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        value={values?.maxLength}\r\n        error={touched?.maxLength && !!errors?.maxLength}\r\n        helperText={touched?.maxLength && !!errors?.maxLength ? errors?.maxLength : \"\"}\r\n        type=\"number\"\r\n        name=\"maxLength\"\r\n        label=\"Max length\"\r\n        placeholder=\"Max length\"\r\n      /></>}\r\n      <br />\r\n\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            checked={values?.required}\r\n            onBlur={handleBlur}\r\n            name=\"required\"\r\n            onChange={handleChange}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Required\"\r\n      />\r\n    </div>\r\n  );\r\n\r\n  const renderImageCreator = () => (\r\n    <div>\r\n      <TextField\r\n        required\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        margin=\"dense\"\r\n        value={values?.label}\r\n        name=\"label\"\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        error={touched?.label && !!errors?.label}\r\n        helperText={touched?.label && !!errors?.label ? errors?.label : \"\"}\r\n        type=\"text\"\r\n        label=\"Field Title\"\r\n        placeholder=\"Field Title\"\r\n      />\r\n\r\n      {values?.propertyType === \"image\" && <>\r\n        <TextField\r\n          required={values?.type === \"image\" ? true : false}\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          value={values?.width ?? 0}\r\n          name=\"width\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched?.width && !!errors?.width}\r\n          helperText={touched?.width && !!errors?.width ? errors?.width : \"\"}\r\n          type=\"number\"\r\n          label=\"Image Width\"\r\n          placeholder=\"Enter Width\"\r\n        />\r\n        <TextField\r\n          required={values?.type === \"image\" ? true : false}\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          value={values?.height ?? 0}\r\n          name=\"height\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched?.height && !!errors?.height}\r\n          helperText={touched?.height && !!errors?.height ? errors?.height : \"\"}\r\n          type=\"number\"\r\n          label=\"Image Height\"\r\n          placeholder=\"Enter Height\"\r\n        /></>\r\n      }\r\n      <br />\r\n      <FormControlLabel\r\n        control={\r\n          <Switch\r\n            checked={values?.required}\r\n            onBlur={handleBlur}\r\n            name=\"required\"\r\n            onChange={handleChange}\r\n            color=\"primary\"\r\n          />\r\n        }\r\n        label=\"Required\"\r\n      />\r\n    </div>\r\n  );\r\n  const renderInputForm = () => {\r\n    switch (values?.type) {\r\n      case \"data\":\r\n        return renderTextInputCreator();\r\n\r\n      case \"image\":\r\n        return renderImageCreator();\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n  const renderOptions = () => {\r\n    switch (values?.type) {\r\n      case \"data\":\r\n        if (textLayers.length) {\r\n          return textLayers.map((layer, index) => layer?.name ?? layer);\r\n        } else {\r\n          return [];\r\n        }\r\n\r\n      case \"image\":\r\n        if (imageLayers.length) {\r\n          return imageLayers.map((layer, index) => layer?.name ?? layer);\r\n        } else {\r\n          return [];\r\n        }\r\n      default:\r\n        return [];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      fullWidth\r\n      open\r\n      scroll=\"paper\"\r\n      onClose={() => toggleDialog(false)}\r\n      aria-labelledby=\"form-dialog-title\"\r\n    >\r\n      <DialogTitle id=\"form-dialog-title\">{editField ? \"Edit Field\" : \"Add Field\"}</DialogTitle>\r\n      <DialogContent dividers={true}>\r\n        <FormControl\r\n          fullWidth\r\n          margin=\"dense\"\r\n          disabled={editField}\r\n          variant=\"outlined\"\r\n          error={touched?.type && !!errors?.type}\r\n        >\r\n          <InputLabel id=\"demo-simple-select-outlined-label\">\r\n            Layer Type\r\n          </InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-outlined-label\"\r\n            id=\"demo-simple-select-outlined\"\r\n            onBlur={handleBlur}\r\n            onChange={ev => {\r\n              if (ev.target.value) {\r\n                setFieldValue('propertyType', ev.target.value === 'data' ? 'string' : ev.target.value === 'image' ? 'image' : \"\")\r\n              }\r\n              handleChange(ev)\r\n\r\n            }}\r\n            name=\"type\"\r\n\r\n            value={values?.type}\r\n            placeholder=\"Select Layer Type\"\r\n            label=\"Layer Type\"\r\n          >\r\n            {inputTypes.map((item, index) => {\r\n              return (\r\n                <MenuItem\r\n                  key={index}\r\n                  disabled={values?.type === item.value}\r\n                  value={item.value}\r\n                  children={item.label}\r\n                  selected={values?.type === item.value}\r\n                />\r\n              );\r\n            })}\r\n          </Select>\r\n          <FormHelperText>{touched?.type && errors?.type}</FormHelperText>\r\n        </FormControl>\r\n        <Autocomplete\r\n          value={values?.layerName}\r\n          onChange={(event, newValue) => {\r\n            if (newValue) {\r\n              handleLayerChange(newValue as string)\r\n            }\r\n          }}\r\n          autoHighlight={true}\r\n          id=\"controllable-states-demo\"\r\n          options={renderOptions()}\r\n          renderInput={(params) => <TextField\r\n            // fullWidth={true}\r\n            margin=\"dense\"\r\n            {...params}\r\n            label=\"Select Layer\" variant=\"outlined\"\r\n            error={!!(touched?.layerName && !!errors?.layerName)}\r\n            helperText={touched?.layerName && !!errors?.layerName ? errors?.layerName : \"\"}\r\n\r\n          />}\r\n        />\r\n        {renderPropertyTypeSelector()}\r\n        {renderPropertyPicker()}\r\n        {renderInputForm()}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => toggleDialog(false)} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          onClick={e => handleSubmit()}\r\n          color=\"primary\"\r\n          children={editField ? \"Save\" : \"Add\"}\r\n        />\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { Box, Chip, TextField, TextFieldProps } from \"@material-ui/core\"\r\nimport { SmallText } from \"common/Typography\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { FieldInterface } from \"services/buzzle-sdk/types\"\r\ntype IProps = {\r\n    mode: \"preview\" | \"form\",\r\n    value?: string\r\n    onBlur?: (name: string, touched: boolean) => void,\r\n    onChange?: (name: string, value: string) => void,\r\n    onError?: (name: string, message: string) => void,\r\n    helperText?: string,\r\n    name: string,\r\n    otherProps?: TextFieldProps,\r\n    tags?: React.ReactNode\r\n}\r\nexport default ({ mode, label, tags, type, constraints = {}, onBlur, value = \"\", onChange,\r\n    helperText = \"\", onError,\r\n    name, placeholder, rendererData, key, otherProps = {} }: IProps & FieldInterface) => {\r\n    const { required = false, maxLength } = constraints\r\n    const { layerName } = rendererData\r\n    const [input, setInput] = useState<string>((mode === \"form\" ? value : placeholder) || \"\")\r\n    const handleBlur = (e: any) => {\r\n        onBlur && onBlur(name || key, true)\r\n    }\r\n    const handleChange = (e: any) => {\r\n        setInput(e?.target?.value || \"\")\r\n    }\r\n    useEffect(() => {\r\n        onChange && onChange(name || key, input)\r\n    }, [input])\r\n    return <Box key={key} style={{ display: 'flex', flexDirection: 'column' }}>\r\n        {mode === \"preview\" ? <Box style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap' }}>\r\n            <Chip style={{\r\n                fontSize: 12, height: 20,\r\n                alignSelf: 'flex-start',\r\n                marginRight: 10, marginBottom: 15\r\n            }} label={`Layer name → ${layerName}`} size=\"small\" />\r\n            {tags ? tags : <div />}\r\n        </Box> : <div />}\r\n        <TextField label={label}\r\n            style={{ alignSelf: 'flex-start' }}\r\n            required={required}\r\n            value={mode === \"preview\" ? placeholder : input}\r\n            onBlur={handleBlur}\r\n            helperText={mode === \"form\" ? helperText : required ? \"* Field required\" : \"\"}\r\n            onChange={handleChange}\r\n            placeholder={placeholder}\r\n            inputProps={{\r\n                ...(maxLength ? { maxLength } : {})\r\n            }}\r\n            InputProps={{\r\n                ...(mode === \"preview\" ? { readOnly: true } : {}),\r\n                endAdornment: <SmallText color=\"textSecondary\">{`${input.length}/${maxLength}`}</SmallText>\r\n            }}\r\n            {...otherProps}\r\n        />\r\n    </Box>\r\n}","import { Box, Card, Chip, TextField, TextFieldProps, CircularProgress, CircularProgressProps, Button, FormHelperText } from \"@material-ui/core\"\r\nimport FileUploader from \"common/FileUploader\"\r\nimport { ExtraSmallText, SmallText } from \"common/Typography\"\r\nimport ImageOutlinedIcon from '@material-ui/icons/ImageOutlined';\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { FieldInterface } from \"services/buzzle-sdk/types\"\r\nimport { useAuth } from \"services/auth\";\r\nimport { ManagedUpload } from \"aws-sdk/clients/s3\";\r\nimport { CameraAlt } from \"@material-ui/icons\";\r\nimport { upload } from \"services/awsService\";\r\ntype IProps = {\r\n    mode: \"preview\" | \"form\",\r\n    value?: string\r\n    onBlur?: (name: string, touched: boolean) => void,\r\n    onChange?: (name: string, value: string) => void,\r\n    onError?: (name: string, message: string) => void,\r\n    name: string,\r\n    tags?: React.ReactNode\r\n    otherProps?: TextFieldProps,\r\n    helperText?: string\r\n}\r\nfunction CircularProgressWithLabel(props: CircularProgressProps & { value: number }) {\r\n    return (\r\n        <Box position=\"relative\" display=\"inline-flex\">\r\n            <CircularProgress variant=\"determinate\" {...props} />\r\n            <Box\r\n                top={0}\r\n                left={0}\r\n                bottom={0}\r\n                right={0}\r\n                position=\"absolute\"\r\n                display=\"flex\"\r\n                alignItems=\"center\"\r\n                justifyContent=\"center\"\r\n            >\r\n                <ExtraSmallText color=\"textSecondary\">{`${Math.round(\r\n                    props.value,\r\n                )}%`}</ExtraSmallText>\r\n            </Box>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default ({ mode, label, tags, type, onError, constraints = {}, onBlur, value = \"\", helperText, onChange,\r\n    name, placeholder, rendererData, key, otherProps = {} }: IProps & FieldInterface) => {\r\n    const { required = false, width, height } = constraints\r\n    const { user } = useAuth()\r\n    const [fileName, setFileName] = useState<string>(\"\")\r\n    const [error, setError] = useState<Error | null>(null)\r\n    const [progress, setProgress] = useState<number>(0)\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const [taskController, setTaskController] = useState<ManagedUpload | null>(null);\r\n    const { layerName, extension } = rendererData\r\n    const [input, setInput] = useState<string>(mode === \"form\" ? value : \"\")\r\n    const handleBlur = (e?: any) => {\r\n        onBlur && onBlur(name || key, true)\r\n    }\r\n    const handleChange = async (e: any) => {\r\n        setError(null)\r\n        onError && onError(name || key, \"\")\r\n        const file: File =\r\n            (e?.target?.files ?? [null])[0] ||\r\n            (e?.dataTransfer?.files ?? [null])[0];\r\n        if (!file) {\r\n            return;\r\n        }\r\n        setFileName(file.name)\r\n        const fileExt = file.name.split(\".\").pop() || \"\"\r\n        console.log(fileExt, extension)\r\n        if (fileExt !== extension) {\r\n            handleBlur()\r\n            onError ? onError(name || key, `Image required in ${extension} format`) : setError(new Error(`Image required in ${extension} format`))\r\n            return;\r\n        }\r\n        if (mode === 'preview') {\r\n            setInput(URL.createObjectURL(file))\r\n            return\r\n        }\r\n        await handleUpload(file, fileExt)\r\n    }\r\n\r\n    const handleUpload = async (file: any, extension: string) => {\r\n        try {\r\n            setLoading(true);\r\n            const task = upload(\r\n                `jobData/${Date.now()}.${extension}`,\r\n                file, 'deleteAfter90Days'\r\n            );\r\n            setTaskController(task);\r\n            task.on(\"httpUploadProgress\", ({ loaded, total }) =>\r\n                setProgress(Math.floor((loaded / total) * 100))\r\n            );\r\n            let { Location: uri } = await task.promise();\r\nuri=uri.startsWith(\"http\")? uri : `https://${uri}`\r\n            setLoading(false);\r\n            setInput(uri);\r\n        } catch (err) {\r\n            handleBlur()\r\n            setTaskController(null)\r\n            setLoading(false);\r\n            onError ? onError(name || key, (err as Error).message) : setError((err as Error))\r\n        }\r\n\r\n    }\r\n    useEffect(() => {\r\n        if (input) {\r\n            let isValid = (input.split('.').pop() === extension || fileName.split('.').pop() === extension)\r\n            if (isValid) {\r\n                onChange && onChange(name || key, input)\r\n                handleBlur()\r\n            } else {\r\n                onError ? onError(name || key, `Image required in ${extension} format`) : setError(new Error(`Image required in ${extension} format`))\r\n                onChange && onChange(name || key, \"\")\r\n            }\r\n        }\r\n    }, [input])\r\n    return <Box key={key}>\r\n        {mode === \"preview\" ? <Box>\r\n            <Chip  style={{\r\n                fontSize: 12, height: 20,\r\n                alignSelf: 'flex-start',\r\n                marginRight: 10, marginBottom: 15\r\n            }} label={`Layer name → ${layerName}`} size=\"small\" />\r\n            {tags ? tags : <div />}\r\n        </Box> : <div />}\r\n        <input type=\"file\" accept={`.${extension}`} id={key || name || label} onChange={handleChange}\r\n            style={{ display: 'none' }} />\r\n\r\n        <Card variant=\"outlined\" style={{\r\n            borderRadius: 5, padding: input ? 0 : 10, display: 'flex',\r\n            width: 110, height: 110,\r\n            alignItems: 'center', justifyContent: 'center'\r\n        }}>\r\n            {loading ?\r\n                <CircularProgressWithLabel value={progress} /> : input ? <img height={\"100%\"}\r\n                    width=\"100%\" src={input} /> : <Box style={{\r\n                        display: 'flex',\r\n                        flexDirection: 'column', textAlign: 'center',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center'\r\n                    }}>\r\n                    <ExtraSmallText>{label}{required ? \"*\" : \"\"}{`${mode === 'preview' ? ` (${extension})` : \"\"}`}</ExtraSmallText>\r\n                    <ImageOutlinedIcon fontSize=\"large\" />\r\n                    {mode == \"preview\" ? <ExtraSmallText color=\"textPrimary\">{width} x {height}</ExtraSmallText> : <div />}\r\n                </Box>}\r\n        </Card>\r\n        <FormHelperText error={!!error}>\r\n            {!!error ? error?.message : mode === \"preview\" ? required ? \"* Required Field\" : \"\" : helperText}\r\n        </FormHelperText>\r\n        {mode === 'preview' ? <div /> : <label htmlFor={key || name || label}>\r\n            <Button style={{ marginTop: 15, alignSelf: 'center' }}\r\n                size=\"small\"\r\n                component=\"span\"\r\n                disabled={loading}\r\n                startIcon={<CameraAlt color=\"inherit\" fontSize={\"small\"} />}\r\n                children={input ? \"Change\" : \"Upload\"} color=\"primary\" variant=\"outlined\" />\r\n        </label>}\r\n    </Box>\r\n}","/* eslint-disable default-case */\r\nimport useActions from \"contextStore/actions\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { getLayersFromComposition } from \"helpers\";\r\nimport AddAndUpdateFieldsDialog from \"./AddAndUpdateFieldsDialog\";\r\nimport {\r\n  Button, Paper, Typography, Tooltip, Box, TextField, Divider, MenuItem, Card,\r\n  ListItem, ListItemText, ListItemSecondaryAction, IconButton, List, Chip\r\n} from \"@material-ui/core\";\r\nimport { Wallpaper, TextFields, Add, Edit, Delete } from \"@material-ui/icons\";\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport { FieldInterface, VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { imageComp, textComp } from \"common/types\";\r\nimport Ribbon from \"common/Ribbon\";\r\nimport { Text } from \"common/Typography\";\r\nimport FormTextInput from \"common/FormTextInput\";\r\nimport FormImageInput from \"common/FormImageInput\";\r\n\r\n\r\nconst getItemStyle = (isDragging: boolean, draggableStyle: any, style: React.CSSProperties) => ({\r\n  // styles we need to apply on draggables\r\n  ...(isDragging ? {\r\n    background: \"#e4f5fa\",\r\n    border: \"2px solid #4894fa\",\r\n  } : {}),\r\n  ...style,\r\n  ...draggableStyle,\r\n});\r\n\r\nconst getListStyle = (isDraggingOver: boolean) => ({\r\n  ...(isDraggingOver ? {\r\n    background: \"#fbe3e7\",\r\n  } : {}),\r\n  padding: 8,\r\n  maxWidth: 600\r\n});\r\ntype IProps = {\r\n  compositions: any, editVersion: boolean, activeVersionIndex: number\r\n}\r\nexport default React.memo(({ compositions, editVersion, activeVersionIndex }: IProps) => {\r\n  const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext);\r\n  const {\r\n    updateField,\r\n    addField,\r\n    removeField,\r\n    restoreFieldsFromPreviousVersion,\r\n    restoreChanges,\r\n    swapFields\r\n  } = useActions();\r\n  const [currentCompositionFields, setCurrentCompositionFields] = useState<Array<string>>([]);\r\n  const [editIndex, setEditIndex] = useState<null | number>(null);\r\n  const [isDialogVisible, setIsDialogVisible] = useState<boolean>(false);\r\n  const [restoreStatus, setRestoreStatus] = useState<boolean>(false);\r\n  const layerWithProperty = videoObj.versions[activeVersionIndex]?.fields?.map(({ rendererData: { layerName, property } }) => layerName + property)\r\n  const [importVersionIndex, setImportVersionIndex] = useState<number | null>(null)\r\n\r\n  let layers: any[]\r\n  useEffect(() => {\r\n    const fieldsFromComp = getLayersFromComposition(\r\n      compositions[videoObj.versions[activeVersionIndex].composition], undefined, videoObj?.type ?? 'ae'\r\n    );\r\n    layers = Object.keys(fieldsFromComp)\r\n      .map((layerType) => fieldsFromComp[layerType].map((layer: textComp | imageComp) => layer?.name ?? layer))\r\n      .flat()\r\n    setCurrentCompositionFields(layers);\r\n  }, [])\r\n  // useEffect(() => {\r\n  //   let layers = getLayersFromComposition(\r\n  //     compositions[videoObj.versions[activeVersionIndex].composition], undefined, videoObj?.type ?? 'ae'\r\n  //   );\r\n  //   layers = Object.keys(layers)\r\n  //     .map((layerType) => layers[layerType].map((layer: textComp | imageComp) => layer?.name ?? layer))\r\n  //     .flat();\r\n  //   setCurrentCompositionFields(layers);\r\n  //     // get common layers stringified\r\n  //     const mainVersionFields = videoObj.versions[0]?.fields.map(({ type, rendererData, constraints, placeholder, label }) =>\r\n  //       rendererData?.layerName + rendererData?.property)\r\n  //     const mainVersionFieldsStringified = videoObj.versions[0]?.fields.map(({ type, rendererData, constraints, placeholder, label }) =>\r\n  //       JSON.stringify({ type, rendererData, constraints, placeholder, label }))\r\n  //     const commonFieldsInCurrentVersion = videoObj?.versions[activeVersionIndex]?.fields?.filter(({ type, rendererData, constraints, placeholder, label }) =>\r\n  //       mainVersionFields.includes(rendererData?.layerName + rendererData?.property))\r\n  //     const isCommonLayersDifferent = !(commonFieldsInCurrentVersion.map(({ type, rendererData, constraints, placeholder, label }) =>\r\n  //       mainVersionFieldsStringified.includes(JSON.stringify({ type, rendererData, constraints, placeholder, label })))).every(value => value)\r\n  //     if (isCommonLayersDifferent) {\r\n  //TODO NEW\r\n  //       if (window.confirm(\"Some layers in this version are changed in the main version, Do you like to reflect the changes in this version?\"))\r\n  //         restoreChanges(activeVersionIndex, mainVersionFields)\r\n  //     }\r\n  //   \r\n  // }, []);\r\n\r\n  const handleAddField = (field: any) => {\r\n    addField(activeVersionIndex, field);\r\n  };\r\n\r\n  const editField = (index: number) => {\r\n    setEditIndex(index);\r\n    setIsDialogVisible(true);\r\n  };\r\n\r\n  const deleteField = (item: any, index: number) => {\r\n    removeField(activeVersionIndex, index);\r\n  };\r\n\r\n  const editFieldValue = (field: any) => {\r\n    updateField(activeVersionIndex, editIndex, field);\r\n    setEditIndex(null);\r\n  };\r\n  const onDragEnd = (result: any) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    swapFields(activeVersionIndex, result.source.index, result.destination.index)\r\n  };\r\n  const renderFieldPreview = (item: FieldInterface, index: number) => {\r\n    return (\r\n      <Draggable key={item.key} draggableId={item.key} index={index}>\r\n        {(provided, snapshot) => (\r\n          <FieldPreviewContainer\r\n            provided={provided}\r\n            style={getItemStyle(\r\n              snapshot.isDragging,\r\n              provided.draggableProps.style, styles.fieldPreview\r\n            )}\r\n            editField={() => editField(index)}\r\n            deleteField={() => deleteField(item, index)}\r\n            index={index}\r\n            children={\r\n              <Box\r\n                style={{ display: \"flex\", position: 'relative' }}>\r\n                {item?.rendererData?.type === \"data\" ? (\r\n                  <FormTextInput\r\n                    tags={<>{!currentCompositionFields.includes(item?.rendererData?.layerName ?? \"\") ? <Chip color=\"primary\" style={{\r\n                      fontSize: 12, height: 20,\r\n                      alignSelf: 'flex-start',\r\n                      background: \"#d32f2f\", color: \"#fff\",\r\n                      marginRight: 10, marginBottom: 15\r\n                    }} label={\"Field not found in this compostion!\"} size=\"small\" /> : <div />}\r\n                      {layerWithProperty.filter(v => v === item?.rendererData?.layerName + item?.rendererData?.property).length !== 1\r\n                        ? <Chip color=\"primary\" style={{\r\n                          fontSize: 12, height: 20,\r\n                          alignSelf: 'flex-start',\r\n                          backgroundColor: \"#ffc372\", color: \"#663c00\",\r\n                          marginRight: 10, marginBottom: 15\r\n                        }} label={\"Duplicate Field!\"} size=\"small\" /> : <div />\r\n                      }\r\n                    </>}\r\n                    otherProps={{ variant: 'outlined' }} name={item.key} {...item} mode=\"preview\" />) : (\r\n                  <FormImageInput\r\n                  tags={<>{!currentCompositionFields.includes(item?.rendererData?.layerName ?? \"\") ? <Chip color=\"primary\" style={{\r\n                    fontSize: 12, height: 20,\r\n                    alignSelf: 'flex-start',\r\n                    background: \"#d32f2f\", color: \"#fff\",\r\n                    marginRight: 10, marginBottom: 15\r\n                  }} label={\"Field not found in this compostion!\"} size=\"small\" /> : <div />}\r\n                    {layerWithProperty.filter(v => v === item?.rendererData?.layerName + item?.rendererData?.property).length !== 1\r\n                      ? <Chip color=\"primary\" style={{\r\n                        fontSize: 12, height: 20,\r\n                        alignSelf: 'flex-start',\r\n                        backgroundColor: \"#ffc372\", color: \"#663c00\",\r\n                        marginRight: 10, marginBottom: 15\r\n                      }} label={\"Duplicate Field!\"} size=\"small\" /> : <div />\r\n                    }\r\n                  </>}\r\n                    mode=\"preview\" name={item.key} {...item} />\r\n                )}\r\n              </Box>\r\n            }\r\n          />)}</Draggable>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Box style={styles.container}>\r\n      <Box style={{ display: 'flex', alignItems: 'center', marginBottom: 10, flexWrap: 'wrap' }}>\r\n        <Tooltip title=\"Adds Field to version\">\r\n          <Button\r\n            style={{ marginBottom: 10 }}\r\n            endIcon={<Add />}\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              setEditIndex(null);\r\n              setIsDialogVisible(true);\r\n            }}\r\n            children=\"Add Field\"\r\n          />\r\n        </Tooltip>\r\n        {((videoObj?.versions?.length ?? 1) - 1) !== 0 ?\r\n          <>\r\n            <Text style={{ margin: 10, marginTop: 0 }} color=\"textSecondary\">Or</Text>\r\n            <TextField\r\n              select\r\n              style={{ maxWidth: 320, marginTop: 0, marginBottom: 10 }}\r\n              label=\"Import Common fields from other version\"\r\n              placeholder=\"Select Version\"\r\n              margin=\"dense\"\r\n              onChange={(e) => setImportVersionIndex(parseInt(e.target.value))}\r\n              fullWidth\r\n              size=\"small\"\r\n              InputProps={{\r\n                startAdornment: <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n                  <Button\r\n                    disabled={importVersionIndex == null}\r\n                    color=\"primary\"\r\n                    size=\"small\"\r\n                    children=\"import\" onClick={() =>\r\n                      restoreFieldsFromPreviousVersion(importVersionIndex, activeVersionIndex, currentCompositionFields.length ? currentCompositionFields : layers)} />\r\n                  <Divider style={{\r\n                    height: 28,\r\n                    margin: 4,\r\n                  }} orientation=\"vertical\" />\r\n                </Box>\r\n              }}\r\n              variant=\"outlined\"\r\n              value={importVersionIndex}>\r\n              {videoObj.versions.slice(0, videoObj.versions.length - 1).map((option, index) => (\r\n                <MenuItem key={option.title} value={index}>\r\n                  {option.title}\r\n                </MenuItem>\r\n              ))}\r\n            </TextField></> : <div />}\r\n      </Box>\r\n      <Text style={{ fontWeight: 700 }}>Field Previews</Text>\r\n      {videoObj.versions[activeVersionIndex]?.fields.length ? <List>\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n          <Droppable droppableId=\"droppable\" >\r\n            {(provided, snapshot) => (\r\n              <div style={getListStyle(snapshot.isDraggingOver)} ref={provided.innerRef}\r\n              >{videoObj.versions[activeVersionIndex]?.fields?.map(renderFieldPreview)}\r\n                {provided.placeholder}\r\n              </div>\r\n            )}\r\n          </Droppable>\r\n        </DragDropContext></List> : <Text style={{ marginTop: 10 }} color=\"textSecondary\">No Fields added yet!</Text>\r\n      }\r\n      {isDialogVisible ? (\r\n        <AddAndUpdateFieldsDialog\r\n          templateType={videoObj?.type ?? 'ae'}\r\n          textLayers={getLayersFromComposition(\r\n            compositions[videoObj?.versions[activeVersionIndex]?.composition],\r\n            \"textLayers\", videoObj?.type ?? 'ae'\r\n          )}\r\n          imageLayers={getLayersFromComposition(\r\n            compositions[videoObj?.versions[activeVersionIndex]?.composition],\r\n            \"imageLayers\", videoObj?.type ?? 'ae'\r\n          )}\r\n          initialValue={{\r\n            key:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]?.key :\r\n                \"\",\r\n            property:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.rendererData?.property : \"\",\r\n            propertyType:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]?.type :\r\n                \"\",\r\n            placeholder:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.placeholder : \"\",\r\n            type:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.rendererData?.type : \"\",\r\n            layerName:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.rendererData?.layerName : \"\",\r\n            label:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]?.label :\r\n                \"\",\r\n            required:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.constraints?.required : false,\r\n            width:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.constraints?.width : 400,\r\n            extension:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.rendererData?.extension : \"png\",\r\n            height:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.constraints?.height : 400,\r\n            maxLength:\r\n              editIndex !== null ? videoObj.versions[activeVersionIndex]?.fields[editIndex]\r\n                ?.constraints?.maxLength : 50,\r\n          }}\r\n          editField={editIndex !== null}\r\n          onClose={setIsDialogVisible}\r\n          onDataSubmit={editIndex !== null ? editFieldValue : handleAddField}\r\n        />\r\n      ) : <div />}\r\n    </Box>\r\n  );\r\n}, (prev, next) => JSON.stringify(prev) === JSON.stringify(next)\r\n)\r\n\r\nconst FieldPreviewContainer = ({\r\n  editField,\r\n  deleteField,\r\n  ref,\r\n  index, provided,\r\n  children, style,\r\n  ...props\r\n}: any) => {\r\n  return (\r\n    <Card\r\n      variant=\"outlined\"\r\n      {...props}\r\n      ref={provided.innerRef}\r\n      {...provided.draggableProps}\r\n      {...provided.dragHandleProps}\r\n      style={style}\r\n    >\r\n      <ListItem>\r\n        <ListItemText>\r\n          {children}\r\n        </ListItemText>\r\n        <ListItemSecondaryAction>\r\n          <IconButton edge=\"end\" onClick={editField} aria-label=\"edit\">\r\n            <Edit />\r\n          </IconButton>\r\n          <IconButton onClick={deleteField} edge=\"end\" aria-label=\"delete\">\r\n            <Delete />\r\n          </IconButton>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n    </Card>\r\n\r\n  );\r\n};\r\n\r\nconst styles = {\r\n  container: {\r\n    marginTop: 10,\r\n    marginBottom: 10,\r\n    padding: 15,\r\n  },\r\n  fieldPreview: { margin: 10 },\r\n};\r\n","import React, { useContext, useEffect } from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport LayerBuilder from \"./LayerBuilder\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\ntype IProps = {\r\n  activeVersionIndex: number,\r\n  editVersion: boolean,\r\n  compositions: any,\r\n  onSubmit: Function,\r\n  onBack: Function,\r\n}\r\nexport default ({\r\n  activeVersionIndex,\r\n  editVersion,\r\n  compositions,\r\n  onSubmit,\r\n  onBack,\r\n}: IProps) => {\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}>\r\n      <LayerBuilder\r\n        compositions={compositions}\r\n        editVersion={editVersion}\r\n        activeVersionIndex={activeVersionIndex}\r\n      />\r\n      <div>\r\n        <Button\r\n          onClick={() => onBack()}\r\n          size=\"small\"\r\n          style={{ width: \"fit-content\", marginTop: 10 }}\r\n          children=\"back\"\r\n        />\r\n        <Button\r\n          style={{ marginTop: 10 }}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          onClick={() => onSubmit()}\r\n          children={\"Next\"}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  title: Yup.string()\r\n    .min(3, \"Lenght Too Short!\")\r\n    .max(80, \"Length Too Long!\")\r\n    .required(\"Version title is required!\"),\r\n  description: Yup.string()\r\n    .max(200, \"Lenght Too Long!\"),\r\n});\r\n\r\nexport default ({ onSubmit, initialValue, onBack }) => {\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleSubmit,\r\n    handleChange,\r\n  } = useFormik({\r\n    initialValues: initialValue,\r\n    validationSchema,\r\n    onSubmit,\r\n  });\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmit}\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <TextField\r\n        required\r\n        variant=\"outlined\"\r\n        name=\"title\"\r\n        value={values.title}\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        error={touched.title && errors.title}\r\n        helperText={touched.title && errors.title}\r\n        type=\"text\"\r\n        margin=\"dense\"\r\n        placeholder=\"Enter Version Title\"\r\n        label=\"Version Title\"\r\n      />\r\n\r\n      <TextField\r\n        variant=\"outlined\"\r\n        name=\"description\"\r\n        value={values.description}\r\n        onBlur={handleBlur}\r\n        onChange={handleChange}\r\n        error={touched.description && errors.description}\r\n        helperText={touched.description && errors.description}\r\n        type=\"text\"\r\n        multiline\r\n        rows={3}\r\n        margin=\"dense\"\r\n        placeholder=\"Enter Version Description\"\r\n        label=\"Version Description\"\r\n      />\r\n      <div>\r\n        <Button\r\n          onClick={() => onBack()}\r\n          size=\"small\"\r\n          style={{ width: 'fit-content', marginTop: 10 }}\r\n          children=\"back\"\r\n        />\r\n        <Button\r\n          size=\"small\"\r\n          style={{ width: 'fit-content', marginTop: 10 }}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          children=\"Next\"\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\n\r\nexport default ({ activeStep, editVersion, renderStep }) => {\r\n  const steps = [\r\n    `${editVersion ? \"Edit\" : \"Add\"} Version`,\r\n    `${editVersion ? \"Edit\" : \"Add\"} Version Meta`,\r\n    `${editVersion ? \"Edit\" : \"Add\"} Fields`,\r\n    `${editVersion ? \"Edit\" : \"Add\"} Sample Video`\r\n  ];\r\n  return (\r\n    <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n      {steps.map((label) => (\r\n        <Step key={label}>\r\n          <StepLabel>{label}</StepLabel>\r\n          <StepContent>{renderStep(activeStep)}</StepContent>\r\n        </Step>\r\n      ))}\r\n    </Stepper>\r\n  );\r\n};\r\n","import {\r\n  Button,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default ({\r\n  composition,\r\n  setComposition,\r\n  compositions,\r\n  openVersionMeta,\r\n}) => {\r\n  return (\r\n    <form\r\n      style={{\r\n        display: \"flex\",\r\n\r\n        alignItems: \"center\",\r\n      }}\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}>\r\n      <FormControl style={{ width: 400 }} margin=\"dense\" variant=\"outlined\">\r\n        <InputLabel id=\"demo-simple-select-outlined-label\">\r\n          Select Composition\r\n        </InputLabel>\r\n        <Select\r\n          labelId=\"demo-simple-select-outlined-label\"\r\n          id=\"demo-simple-select-outlined\"\r\n          onChange={(e) => setComposition(e.target.value)}\r\n          value={composition}\r\n          placeholder=\"Select Composition\"\r\n          label=\"Select Composition\">\r\n          {Object.keys(compositions).length === 0 && (\r\n            <MenuItem disabled={true}>No Compositions Found:(</MenuItem>\r\n          )}\r\n          {Object.keys(compositions).map((item, index) => {\r\n            return (\r\n              <MenuItem key={index} id={index} value={item}>\r\n                {item}\r\n              </MenuItem>\r\n            );\r\n          })}\r\n        </Select>\r\n      </FormControl>\r\n      <Button\r\n        style={{ marginLeft: 10 }}\r\n        color={\"primary\"}\r\n        variant=\"outlined\"\r\n        onClick={() => openVersionMeta()}\r\n        disabled={composition === \"\"}\r\n        children={composition ? \"Next\" : \"Add\"}\r\n      />\r\n    </form>\r\n  );\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport useActions from \"contextStore/actions\";\r\nimport FileUploader from \"common/FileUploader\";\r\n\r\nexport default ({\r\n  isEdit,\r\n  activeVersionIndex,\r\n  editVersion,\r\n  setActiveVersionIndex,\r\n  openVersionDisplay,\r\n  onBack,\r\n}) => {\r\n  const [error, setError] = useState(null);\r\n  const [videoObj] = useContext(VideoTemplateContext);\r\n  const { editversionKeys } = useActions();\r\n  return (\r\n    <form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n      }}>\r\n      <FileUploader\r\n        uploadDirectory={\"samples\"}\r\n        name={\"sample\" + Math.random()}\r\n        value={videoObj?.versions[activeVersionIndex]?.sample}\r\n        onError={(e) => setError(e.message)}\r\n        onChange={(url) =>\r\n          editversionKeys(activeVersionIndex, {\r\n            sample: url,\r\n          })\r\n        }\r\n\r\n        label=\"Version Sample Video\"\r\n        onTouched={() => setError(null)}\r\n        error={error}\r\n        accept={\"video/*\"}\r\n        helperText={\r\n          \"Sample Video of your template should be specific to version you are creating.\"\r\n        }\r\n      />\r\n\r\n      <div>\r\n        <Button\r\n          onClick={() => onBack()}\r\n          size=\"small\"\r\n          style={{ width: \"fit-content\", marginTop: 10 }}\r\n          children=\"back\"\r\n        />\r\n        <Button\r\n          //disabled={!videoObj?.versions[activeVersionIndex]?.sample}\r\n          style={{ marginTop: 10 }}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          onClick={() => {\r\n            if (!editVersion) {\r\n              setActiveVersionIndex(activeVersionIndex + 1);\r\n            }\r\n            openVersionDisplay();\r\n          }}\r\n          children={\r\n            isEdit\r\n              ? \"Save Edits\"\r\n              : editVersion\r\n                ? \"Save Edits\"\r\n                : \"Create Version\"\r\n          }\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport LayerAdder from \"../LayerAdder\";\r\nimport VersionMeta from \"../VersionMeta\";\r\nimport VersionStepper from \"../VersionStepper\";\r\nimport CompositionPicker from \"../CompositionPicker\";\r\nimport VersionSampleField from \"../VersionSampleField\";\r\nimport { TransitionProps } from '@material-ui/core/transitions';\r\nimport useActions from 'contextStore/actions';\r\nimport { VideoTemplateContext } from 'contextStore/store';\r\nimport { VideoTemplate } from 'services/buzzle-sdk/types';\r\nimport { SubHeading } from 'common/Typography';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        appBar: {\r\n            position: 'relative',\r\n        },\r\n        title: {\r\n            marginLeft: theme.spacing(2),\r\n            flex: 1,\r\n        },\r\n    }),\r\n);\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n    props: TransitionProps & { children?: React.ReactElement },\r\n    ref: React.Ref<unknown>,\r\n) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\ntype IProps = {\r\n    handleClose: Function,\r\n    isEdit: boolean,\r\n    editIndex: number | null,\r\n    compositions: any,\r\n    onDone: Function\r\n}\r\nexport default ({ handleClose, isEdit, compositions, editIndex, onDone }: IProps) => {\r\n    const classes = useStyles();\r\n    const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext);\r\n    const [composition, setComposition] = useState<string>(isEdit ? videoObj.versions[editIndex as number]?.composition : \"\");\r\n    const { editversionKeys } = useActions();\r\n    const [activeVersionIndex, setActiveVersionIndex] = useState<number>(0);\r\n    const [activeStep, setActiveStep] = useState(isEdit ? 1 : 0);\r\n    const onRequestClose = () => {\r\n        handleClose()\r\n    }\r\n    useEffect(() => {\r\n        setActiveVersionIndex(videoObj.versions.length);\r\n    }, [activeVersionIndex]);\r\n    const openVersionMeta = () => {\r\n        editversionKeys((isEdit ? editIndex : activeVersionIndex) as number, {\r\n            composition,\r\n        });\r\n        setActiveStep(activeStep + 1);\r\n    }\r\n    const renderStep = (activeStep: number) => {\r\n        switch (activeStep) {\r\n            case 0:\r\n                return (\r\n                    <CompositionPicker\r\n                        composition={composition}\r\n                        setComposition={setComposition}\r\n                        compositions={compositions}\r\n                        openVersionMeta={openVersionMeta}\r\n                    />\r\n                );\r\n            case 1:\r\n                return (\r\n                    <VersionMeta\r\n                        onBack={() => {\r\n                            setComposition(\r\n                                videoObj?.versions[(isEdit ? editIndex : activeVersionIndex) as number]\r\n                                    ?.composition\r\n                            );\r\n                            setActiveStep(activeStep - 1);\r\n                        }}\r\n                        onSubmit={(data: { title: string, description: string }) => {\r\n                            editversionKeys((isEdit ? editIndex : activeVersionIndex) as number, {\r\n                                title: data.title,\r\n                                description: data.description,\r\n                            });\r\n                            setActiveStep(activeStep + 1);\r\n                        }}\r\n                        initialValue={{\r\n                            title:\r\n                                videoObj?.versions[(isEdit ? editIndex : activeVersionIndex) as number]\r\n                                    ?.title,\r\n                            description:\r\n                                videoObj?.versions[(isEdit ? editIndex : activeVersionIndex) as number]\r\n                                    ?.description,\r\n                        }}\r\n                    />\r\n                );\r\n            case 2:\r\n                return (\r\n                    <LayerAdder\r\n                        onBack={() => setActiveStep(activeStep - 1)}\r\n                        editVersion={isEdit}\r\n                        compositions={compositions}\r\n                        activeVersionIndex={(isEdit ? editIndex : activeVersionIndex) as number}\r\n                        onSubmit={() => setActiveStep(activeStep + 1)}\r\n                    />\r\n                );\r\n            case 3:\r\n                return (\r\n                    <VersionSampleField\r\n                        onBack={() => setActiveStep(activeStep - 1)}\r\n                        isEdit={isEdit}\r\n                        editVersion={isEdit}\r\n                        activeVersionIndex={(isEdit ? editIndex : activeVersionIndex) as number}\r\n                        setActiveVersionIndex={setActiveVersionIndex}\r\n                        openVersionDisplay={onDone}\r\n                    />\r\n                );\r\n            default:\r\n                return;\r\n        }\r\n    };\r\n\r\n    return (<Dialog fullScreen open={true} onClose={onRequestClose}\r\n        TransitionComponent={Transition}>\r\n        <AppBar className={classes.appBar}>\r\n            <Toolbar>\r\n                <IconButton edge=\"start\" color=\"inherit\" onClick={onRequestClose} aria-label=\"close\">\r\n                    <CloseIcon />\r\n                </IconButton>\r\n                <SubHeading className={classes.title}>\r\n                    {!isEdit ? \"Add Version\" : \"Update Version\"}\r\n                </SubHeading>\r\n            </Toolbar>\r\n        </AppBar>\r\n        <VersionStepper editVersion={isEdit} activeStep={activeStep} renderStep={renderStep} />\r\n    </Dialog>\r\n    );\r\n}","import React, { useContext, useEffect, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n  Box,\r\n  Paper,\r\n  CircularProgress,\r\n  CardActionArea,\r\n  Card,\r\n  CardMedia,\r\n  CardContent,\r\n  CardActions,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport useActions from \"contextStore/actions\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { ExpandMore, ArrowForward, ArrowBack, Add } from \"@material-ui/icons\";\r\n\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\n\r\nimport { getLayersFromComposition } from \"helpers\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { SmallText, SubHeading, Text } from \"common/Typography\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Ribbon from \"common/Ribbon\";\r\nimport AddOrUpdateVersionDialog from \"./AddOrUpdateVersionDialog\";\r\n\r\ntype IProps = {\r\n  isEdit: boolean,\r\n  isSubmitting?: boolean,\r\n  handleSubmitForm: Function,\r\n  submitError: Error | null,\r\n  compositions: any,\r\n  activeDisplayIndex: number,\r\n  setActiveDisplayIndex: (value: number) => void,\r\n}\r\nexport default ({\r\n  isEdit,\r\n  isSubmitting,\r\n  handleSubmitForm,\r\n  submitError,\r\n  compositions,\r\n  activeDisplayIndex,\r\n  setActiveDisplayIndex,\r\n}: IProps) => {\r\n  const [videoObj]: Array<VideoTemplate> = useContext(VideoTemplateContext);\r\n  const [activeVersionIndex, setActiveVersionIndex] = useState<number>(0);\r\n  const [editIndex, setEditIndex] = useState<number | null>(null);\r\n  const [mode, setMode] = React.useState<\"edit\" | \"add\" | \"\">(\"\");\r\n \r\n  const handleAdd = () => {\r\n    setMode(\"add\");\r\n  };\r\n  const { removeVersion, } = useActions();\r\n  const [isVersionValid, setIsVersionValid] = useState(\r\n    videoObj?.versions?.map(({ fields, composition }) => {\r\n      const extracted = getLayersFromComposition(compositions[composition], undefined, videoObj?.type || 'ae');\r\n      const compLayer = Object.keys(extracted)?.flatMap((k) =>\r\n        extracted[k]?.map((layer: any) => layer?.name ?? layer)\r\n      );\r\n      return fields\r\n        ?.map(({ rendererData }) => rendererData?.layerName as string)\r\n        .every((layer) => compLayer.includes(layer));\r\n    })\r\n  );\r\n  const [isVersionsFieldsDuplicate, setIsVersionsFieldsDuplicate] = useState(\r\n    videoObj?.versions?.map(({ fields }) => {\r\n      const layerWithProperty = fields?.map(\r\n        ({ rendererData: { layerName, property } }) => layerName + property\r\n      );\r\n      if (new Set(layerWithProperty)?.size !== layerWithProperty.length) {\r\n        return true;\r\n      } else return false;\r\n    })\r\n  );\r\n  useEffect(() => {\r\n    setIsVersionValid(\r\n      videoObj?.versions?.map(({ fields, composition }) => {\r\n        const extracted = getLayersFromComposition(compositions[composition], undefined, videoObj?.type ?? 'ae');\r\n        const compLayer = Object.keys(extracted)?.flatMap((k) =>\r\n          extracted[k]?.map((layer: any) => layer?.name ?? layer)\r\n        );\r\n        return fields\r\n          ?.map(({ rendererData: { layerName } }) => layerName)\r\n          .every((layer) => compLayer.includes(layer));\r\n      })\r\n    );\r\n    setIsVersionsFieldsDuplicate(\r\n      videoObj?.versions?.map(({ fields }) => {\r\n        const layerWithProperty = fields?.map(\r\n          ({ rendererData: { layerName, property } }) => layerName + property\r\n        );\r\n        if (new Set(layerWithProperty)?.size !== layerWithProperty.length) {\r\n          return true;\r\n        } else return false;\r\n      })\r\n    );\r\n  }, [videoObj]);\r\n\r\n  useEffect(() => {\r\n    setActiveVersionIndex(videoObj.versions.length);\r\n  }, [videoObj]);\r\n\r\n  const handleDeleteVersion = (index: number) => {\r\n    setActiveVersionIndex(activeVersionIndex - 1);\r\n    removeVersion(index);\r\n  }\r\n  const handleCancel = () => {\r\n    if (mode === \"edit\") {\r\n      handleClose();\r\n    } else {\r\n      removeVersion(activeVersionIndex);\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const handleEdit = (index: number) => {\r\n    setEditIndex(index);\r\n    setMode('edit')\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setMode(\"\")\r\n    setEditIndex(null);\r\n  };\r\n\r\n\r\n  return (\r\n    <Box >\r\n      <Box style={{ marginBottom: 10, display: 'flex', alignItems: 'center' }}>\r\n        <SubHeading>Versions</SubHeading>\r\n        {videoObj.versions.length ? <Button\r\n          style={{ margin: 10 }}\r\n          endIcon={<Add />}\r\n          size=\"small\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          onClick={handleAdd}\r\n          children=\"Add Version\"\r\n        /> : <div />}\r\n      </Box>\r\n      <Box style={{ display: 'flex', flexWrap: 'wrap', alignItems: 'center', padding: 15, paddingLeft: 0, }}>\r\n        {!videoObj.versions.length ? (\r\n          <Card variant=\"outlined\" style={{ display: 'flex', flexDirection: 'column', width: '100%', alignItems: 'center', justifyContent: 'center', height: 200 }}>\r\n            <Text color=\"textSecondary\">\r\n              No Version Added Yet.\r\n            </Text>\r\n            <Button\r\n              style={{ marginLeft: 20 }}\r\n              endIcon={<Add />}\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleAdd}\r\n              children=\"Add Version\"\r\n            />\r\n          </Card>\r\n        ) : (\r\n          videoObj?.versions?.map((item, index) => {\r\n            const noOfImageInputs = item?.fields?.filter(({ type }) => type === 'image').length\r\n            const noOfTextInputs = item?.fields?.filter(({ type }) => (type === 'string' || type === 'data')).length\r\n            if (index === activeVersionIndex) {\r\n              return <div />;\r\n            }\r\n            if (index === editIndex) {\r\n              return <div />;\r\n            }\r\n            return (\r\n              <Card key={item?.title} style={{\r\n                maxWidth: 345, position: 'relative',\r\n                overflow: 'visible', marginRight: 20, marginBottom: 20\r\n              }}>\r\n                {!isVersionValid[index] && (\r\n                  <Ribbon variant=\"error\" text=\"Some fields not found in this composition!\" type=\"lower\" style={{ left: -10, top: -5 }} />\r\n                )}\r\n                {isVersionsFieldsDuplicate[index] && (\r\n                  <Ribbon variant=\"warning\" text=\"Contains Duplicate Fields!\" type=\"lower\" style={{\r\n                    left: -10,\r\n                    top: 35\r\n                  }} />\r\n                )}\r\n                <video\r\n                  height={150}\r\n                  controls\r\n                  width=\"100%\"\r\n                  style={{ backgroundColor: '#000' }}\r\n                  poster={videoObj?.thumbnail}\r\n                  src={item?.sample} />\r\n                <CardContent>\r\n                  <Text style={{ fontWeight: 600 }}>\r\n                    {item.title}\r\n                  </Text>\r\n                  <SmallText color=\"textSecondary\" >\r\n                    Contains {noOfTextInputs} Text fields and {noOfImageInputs} Image fields\r\n                  </SmallText>\r\n                </CardContent>\r\n                <CardActions disableSpacing>\r\n                  <IconButton style={{ marginLeft: 'auto' }} onClick={() => handleEdit(index)} aria-label={`Edit this version ${item.title}`}>\r\n                    <EditIcon />\r\n                  </IconButton>\r\n                </CardActions>\r\n              </Card>\r\n            );\r\n          })\r\n        )}\r\n      </Box>\r\n      {mode ? <AddOrUpdateVersionDialog\r\n        editIndex={editIndex}\r\n        compositions={compositions}\r\n        onDone={handleClose}\r\n        handleClose={handleCancel}\r\n        isEdit={mode === 'edit'}\r\n      /> : <div />}\r\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n        <Button\r\n          startIcon={<ArrowBack />}\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          onClick={() => setActiveDisplayIndex(activeDisplayIndex - 1)}>\r\n          Back\r\n        </Button>\r\n        {(videoObj?.type ?? 'ae') === 'ae' ? <Button\r\n          disabled={\r\n            videoObj.versions.length === 0 ||\r\n            !!mode ||\r\n            !isVersionValid?.every((v) => v) ||\r\n            !isVersionsFieldsDuplicate?.every((v) => !v)\r\n          }\r\n          endIcon={<ArrowForward />}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            setActiveDisplayIndex(activeDisplayIndex + 1)\r\n          }}>\r\n          Next\r\n        </Button> : <Button\r\n          endIcon={isSubmitting && <CircularProgress color=\"inherit\" size={15} />}\r\n          disabled={isSubmitting}\r\n          style={{ margin: 10 }}\r\n          color={submitError ? \"secondary\" : \"primary\"}\r\n          variant={submitError ? \"outlined\" : \"contained\"}\r\n          children={\r\n            submitError ? \"Retry\" : isSubmitting ? \"Submitting\" : \"Submit\"\r\n          }\r\n          onClick={() => handleSubmitForm(videoObj)}\r\n        />}\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport {\r\n  Button,\r\n  Container,\r\n  Box,\r\n  RadioGroup,\r\n  Radio,\r\n  Paper,\r\n  FormHelperText,\r\n  Snackbar,\r\n  TextField,\r\n  Typography,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport path from \"path\"\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport { upload } from \"services/awsService\";\r\nimport { getLayersFromComposition, extractStructureFromFile, extractedDataSample } from \"helpers\";\r\nimport JSZip from \"jszip\";\r\nimport { getExtractionServerIP } from \"services/api\";\r\nimport { SmallText, Text } from \"common/Typography\";\r\nimport { useAuth } from \"services/auth\";\r\nconst useStyles = makeStyles((theme) =>\r\n  createStyles({\r\n    content: {\r\n      border: \" dashed #ccc\",\r\n      flexDirection: 'column',\r\n      display: \"flex\",\r\n      minHeight: \"10rem\",\r\n      borderRadius: \"0.2rem\",\r\n      alignItems: 'center',\r\n      padding: theme.spacing(2),\r\n      textAlign: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    label: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n    spacedText: {\r\n      marginTop: theme.spacing(3),\r\n      marginBottom: theme.spacing(1),\r\n    },\r\n    invisible: {\r\n      opacity: 0,\r\n      height: 0,\r\n      width: 0,\r\n    },\r\n  })\r\n);\r\ntype IProps = {\r\n  value: string,\r\n  compositions: any,\r\n  assets: Array<{ name: string, type: 'static', src: string }>,\r\n  isEdit: boolean,\r\n  onData: Function,\r\n  placeholder: string,\r\n  name: string, templateType: \"ae\" | \"remotion\",\r\n  onTouched: (value: boolean) => void,\r\n  onError: (message: string) => void,\r\n}\r\nexport default ({\r\n  value: defaultValue,\r\n  compositions,\r\n  assets,\r\n  isEdit,\r\n  placeholder,\r\n  onData,\r\n  name, templateType,\r\n  onTouched,\r\n  onError,\r\n}: IProps) => {\r\n  const classes = useStyles();\r\n  const { user } = useAuth()\r\n  const [value, setValue] = useState<string>(defaultValue);\r\n  const [extractionServer, setExtractionServer] = useState<string>(\"\")\r\n  const [isUploadFailed, setIsUploadFailed] = useState<boolean>(false)\r\n  const [extractionUrlError, setExtractionUrlError] = useState<Error | null>(null)\r\n  const [isUploading, setIsUploading] = useState<boolean>(false)\r\n  const [edit, setEdit] = useState(isEdit);\r\n  const [type, setType] = useState<\"url\" | \"file\">(\"file\");\r\n  const [hasPickedFile, setHasPickedFile] = useState(!!defaultValue);\r\n  const [hasExtractedData, setHasExtractedData] = useState(\r\n    isEdit ? compositions.length !== 0 : !!defaultValue\r\n  );\r\n  const [extractionUrlLoading, setExtractionUrlLoading] = useState<boolean>(!hasExtractedData)\r\n  const [message, setMessage] = useState(\r\n    compositions.length === 0 ? null : getCompositionDetails(compositions, templateType)\r\n  );\r\n  const filePickerRef = useRef<any>(null)\r\n\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const handleFetchExtractionUrl = async () => {\r\n    try {\r\n      setExtractionUrlLoading(true)\r\n      const url = (await getExtractionServerIP(templateType) as string)\r\n      if (url) {\r\n        setExtractionServer(url)\r\n      } else {\r\n        setExtractionUrlError(new Error(\"No Extraction Server URL Found!\"))\r\n        setExtractionUrlLoading(false)\r\n      }\r\n      setExtractionUrlLoading(false)\r\n    } catch (err) {\r\n      setExtractionUrlError(err as Error)\r\n      setExtractionUrlLoading(false)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    if (!hasExtractedData) {\r\n      handleFetchExtractionUrl()\r\n    }\r\n  }, [])\r\n  useEffect(() => {\r\n    // if template is in edit mode and no error in server and not loading\r\n    if (edit && value && !extractionUrlLoading && !!!extractionUrlError) {\r\n      // in edit mode and no composition is extracted till yet\r\n      if (compositions.length === 0) {\r\n        setType(\"file\");\r\n        handlePickFile();\r\n      }\r\n      // in edit mode but compositions are already extracted (i.e. when  user press back button)\r\n      else {\r\n        onData({\r\n          compositions,\r\n          staticAssets: assets,\r\n          fileUrl: value,\r\n        });\r\n      }\r\n    } else {\r\n      // if in create mode and value is there that means user pressed the back button\r\n      if (value && !edit) {\r\n        onData({\r\n          compositions,\r\n          staticAssets: assets,\r\n          fileUrl: value,\r\n        });\r\n      }\r\n    }\r\n  }, [edit, extractionUrlLoading, extractionUrlError]);\r\n  const uploadFile = async (file: File) => {\r\n    try {\r\n      setIsUploading(true)\r\n      setIsUploadFailed(false)\r\n      const task = upload(\r\n        `${user?.uid ?? \"users\"}/templates/${Date.now()}.${file.name.split(\".\").pop()}`,\r\n        file\r\n      );\r\n      task.on(\"httpUploadProgress\", ({ loaded, total }) =>\r\n        setMessage(`${Math.floor((loaded / total) * 100)}% uploaded`)\r\n      );\r\n      const { Location } = await task.promise();\r\n      setIsUploading(false)\r\n      return Location.startsWith(\"http\") ? Location : `https://${Location}`\r\n    } catch (err) {\r\n      setIsUploading(false)\r\n      setIsUploadFailed(true)\r\n      return ''\r\n    }\r\n  }\r\n  const handlePickFile = async (e?: any, forceExtract?: boolean) => {\r\n    e && e.preventDefault()\r\n    e && e.stopPropagation()\r\n    setMessage(null);\r\n    setError(null);\r\n    setHasPickedFile(true);\r\n    setHasExtractedData(false);\r\n    var config = null\r\n    var uri = \"\"\r\n    try {\r\n      if (!value) {\r\n        var file =\r\n          (e?.target?.files ?? [null])[0] ||\r\n          (e?.dataTransfer?.files ?? [null])[0];\r\n        if (!file) return;\r\n        if (templateType === 'remotion' && file.name.split(\".\").pop() !== 'zip') {\r\n          setHasPickedFile(false);\r\n          setHasExtractedData(false);\r\n          onError(\"Invalid file, Remotion project zip file required!\");\r\n          return\r\n        }\r\n        if (templateType === 'remotion') {\r\n          //check for buzzle.config.json in zip, if found proceedd further else set error config.json file required!\r\n          config = await JSZip.loadAsync(file)\r\n          const fileNames = Object.keys(config.files)\r\n\r\n          if (fileNames.toString().includes(\"node_modules\")) {\r\n            setHasPickedFile(false);\r\n            setHasExtractedData(false);\r\n            onError(\"Remove node_modules folder from the zip and try again!\");\r\n            return\r\n          }\r\n          try {\r\n            config = await (config?.file('buzzle.config.json')?.async('text'))\r\n            //@ts-ignore\r\n            config = (JSON.parse(config))\r\n          } catch (err) {\r\n            config = null\r\n            console.log(err)\r\n            setHasPickedFile(false);\r\n            setHasExtractedData(false);\r\n            onError(\"buzzle.config.json file not found, Please upload zip file with the same\");\r\n            return\r\n          }\r\n        }\r\n        setMessage(\"Processing...\");\r\n        uri = await uploadFile(file)\r\n\r\n        if (!uri) {\r\n          setHasPickedFile(false);\r\n          setHasExtractedData(false);\r\n          onError(\"Failed to upload file, Try again\");\r\n          return\r\n        }\r\n        setValue(uri);\r\n      } else {\r\n        uri = value;\r\n      }\r\n      setMessage(\"Extracting Layer and compositions ...\");\r\n      const { compositions, staticAssets, url }: any = await extractStructureFromFile(extractionServer,\r\n        uri ? uri : value,\r\n        templateType\r\n      );\r\n      if (!compositions) {\r\n        setError(new Error(\"Could not extract project structure.\"));\r\n      } else {\r\n        setHasExtractedData(true);\r\n        setMessage(getCompositionDetails(compositions, templateType));\r\n        setHasExtractedData(true);\r\n        onData({\r\n          compositions,\r\n          staticAssets: staticAssets.map((asset: string) => ({\r\n            name: path.basename(asset),\r\n            type: \"static\",\r\n            src: \"\",\r\n          })),\r\n          fileUrl: url,\r\n        });\r\n      }\r\n\r\n    } catch (error) {\r\n      setHasPickedFile(false);\r\n      setHasExtractedData(false);\r\n      setError((error as Error));\r\n    }\r\n  };\r\n\r\n  const handleReset = (e?: any) => {\r\n    // filePickerRef.current.click()////TODO\r\n    e && e.preventDefault();\r\n    setError(null)\r\n    setHasPickedFile(false);\r\n    setHasExtractedData(false);\r\n    setMessage(\"\");\r\n    setValue(\"\");\r\n\r\n  }\r\n  function getCompositionDetails(comp: any, fileType?: \"ae\" | \"remotion\") {\r\n    if (fileType === 'ae') {\r\n      try {\r\n        const allLayers = Object.values(comp)\r\n          .map((c) => {\r\n            const { textLayers, imageLayers } = getLayersFromComposition(c, undefined, fileType || \"ae\");\r\n            return [...textLayers, ...imageLayers];\r\n          })\r\n          .flat();\r\n        return `${Object.keys(comp).length} compositions & ${allLayers.length\r\n          } layers found`;\r\n      } catch (err) {\r\n        onError((err as Error)?.message);\r\n      }\r\n    } else {\r\n      const allFields: Array<string> = Object.keys(comp)?.map(key => comp[key]?.fields ?? [])?.flat()\r\n      const uniqueFields: Array<string> = []\r\n      for (let index = 0; index < allFields.length; index++) {\r\n        const field = allFields[index];\r\n        if (!uniqueFields.includes(field)) {\r\n          uniqueFields.push(field)\r\n        }\r\n\r\n      }\r\n      return `${Object.keys(comp)?.length} Compositions & ${uniqueFields?.length} Input Fields Found`;\r\n    }\r\n\r\n  }\r\n\r\n  const render = {\r\n    url: (\r\n      <Box>\r\n        <Box style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <TextField\r\n            disabled={extractionUrlLoading || isUploading || extractionUrlError !== null}\r\n            label=\"File URL\"\r\n            placeholder=\"Paste URL here\"\r\n            margin=\"dense\"\r\n            style={{ marginRight: 20 }}\r\n            variant=\"outlined\"\r\n            value={value}\r\n            onChange={({ target: { value } }) => {\r\n              if (!(hasPickedFile && !hasExtractedData || extractionUrlLoading || extractionUrlError !== null)) {\r\n                setValue(value)\r\n              }\r\n              if (hasExtractedData) {\r\n                setMessage(\"\");\r\n                setHasExtractedData(false);\r\n                setHasPickedFile(false)\r\n              }\r\n            }\r\n            }\r\n          />\r\n          <Button\r\n            disabled={hasPickedFile && !hasExtractedData || extractionUrlLoading || extractionUrlError !== null\r\n              || hasExtractedData || !value}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            children={\r\n              isUploading ? \"Uploading File\" : error !== null ? \"Retry\" : hasExtractedData && hasPickedFile\r\n                ? \"Extract\"\r\n                : hasPickedFile\r\n                  ? \"Extracting Data\"\r\n                  : \"Extract\"\r\n            }\r\n            onClick={(e) => {\r\n              handlePickFile();\r\n            }}\r\n          />\r\n        </Box>\r\n        {!isUploadFailed ? <FormHelperText error={error !== null || extractionUrlError !== null}\r\n          style={hasExtractedData && hasPickedFile ? { color: \"green\" } : {}}>\r\n          {(extractionUrlError?.message) || (error?.message ?? message)}\r\n        </FormHelperText> : <div />}\r\n      </Box>\r\n    ),\r\n    file: (\r\n      <Box>\r\n        <label onDragOver={(e) => {\r\n          e.preventDefault()\r\n          e.stopPropagation()\r\n        }}\r\n          onDrop={e => (hasPickedFile || extractionUrlLoading || extractionUrlError !== null || error !== null) ? console.log(\"Disabled drop\") : handlePickFile(e)} htmlFor=\"contained-button-file\">\r\n          <Box className={classes.content}>\r\n            {extractionUrlError !== null ?\r\n              <SmallText color=\"error\">{extractionUrlError?.message}</SmallText>\r\n              : extractionUrlLoading ? <>\r\n                <CircularProgress color=\"primary\" size={20} />\r\n                <SmallText style={{ marginTop: 10 }}>Please wait while we load some resources...</SmallText>\r\n              </>\r\n                : !hasPickedFile && !!!error ? (<>\r\n                  <CloudUploadIcon fontSize={\"large\"} />\r\n                  <Text>{placeholder}</Text>\r\n                  <Text>OR</Text>\r\n                  <Text color=\"primary\">Browse file</Text>\r\n                </>\r\n                ) :\r\n                  (<>\r\n                    {hasExtractedData ? (\r\n                      <Button\r\n                        style={{ marginBottom: 5 }}\r\n                        color=\"primary\"\r\n                        variant=\"contained\"\r\n                        children=\"Change\"\r\n                        disabled={!hasExtractedData}\r\n                        onClick={handleReset}\r\n                      />\r\n                    ) : <div />}\r\n                  </>)}\r\n            {!isUploadFailed\r\n              ? <Text color={error !== null ? \"error\" : \"initial\"}\r\n                style={hasExtractedData && hasPickedFile ? { color: \"green\" } : {}}>\r\n                {(error?.message ?? message)}\r\n              </Text>\r\n              : <div />}\r\n            {error !== null && !isUploadFailed ? (<Box style={{ display: 'flex', alignItems: 'center', marginTop: 10 }}>\r\n              <Button\r\n                style={{ marginRight: 10 }}\r\n                color=\"primary\"\r\n                size=\"small\"\r\n                children=\"Change File\"\r\n                onClick={handleReset}\r\n              />\r\n              <Button\r\n                onClick={handlePickFile}\r\n                size=\"small\"\r\n                children=\"Retry\"\r\n                color=\"secondary\"\r\n                variant=\"contained\"\r\n              />\r\n            </Box>\r\n            ) : <div />}\r\n          </Box>\r\n        </label>\r\n      </Box>\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <FormControl component=\"fieldset\">\r\n        <FormLabel component=\"legend\">Select file input type</FormLabel>\r\n        <RadioGroup\r\n          aria-label=\"type\"\r\n          name=\"type\"\r\n          value={type}\r\n          onChange={({ target: { value } }) => setType(value as (\"file\" | \"url\"))}\r\n          row>\r\n          <FormControlLabel value=\"file\" control={<Radio />} label=\"File\" />\r\n          <FormControlLabel value=\"url\" control={<Radio />} label=\"URL\" />\r\n          {/* {templateType === 'ae' && <TextField\r\n            label=\"AE extract URL\"\r\n            placeholder=\"Paste URL here\"\r\n            margin=\"dense\"\r\n            style={{ marginLeft: 20 }}\r\n            variant=\"outlined\"\r\n            value={extractionServer}\r\n            onChange={({ target: { value } }) => setExtractionServer(value)}\r\n          />} */}\r\n        </RadioGroup>\r\n      </FormControl>\r\n      <input\r\n        ref={filePickerRef}\r\n        disabled={hasPickedFile || extractionUrlLoading || extractionUrlError !== null || error !== null}\r\n        onChange={handlePickFile}\r\n        style={{ display: 'none' }}\r\n        id=\"contained-button-file\"\r\n        type=\"file\"\r\n        name={name}\r\n        accept={templateType === 'remotion' ? \"zip,application/octet-stream,application/zip,application/x-zip,application/x-zip-compressed\" : \".aepx,.aep\"}\r\n      />\r\n      {render[type]}\r\n    </>\r\n  );\r\n};\r\n","import { Chip, TextField } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\n\r\nexport default ({\r\n  disabled,\r\n  onChange,\r\n  keywords,\r\n  placeholder = \"Enter Value\",\r\n  label = \"Value\",\r\n  maxKeywords,\r\n  variant = \"outlined\",\r\n}) => {\r\n  const [tagInput, setTagInput] = useState(\"\");\r\n  const handleTagInput = (value) => {\r\n    if (\r\n      (value.substr(-1) === \",\" || value.substr(-1) === \" \") &&\r\n      value.substr(0, 1) !== \" \" &&\r\n      value.substr(0, 1) !== \",\"\r\n    ) {\r\n      onChange([...keywords, value.substr(0, value.length - 1)]);\r\n      setTagInput(\"\");\r\n    } else {\r\n      setTagInput(value);\r\n    }\r\n  };\r\n  const handleDelete = (tagValue) => {\r\n    // delete the tag\r\n    onChange(keywords.filter((tag) => tag !== tagValue));\r\n  };\r\n  return (\r\n    <TextField\r\n      fullWidth\r\n      margin={\"dense\"}\r\n      disabled={\r\n        disabled\r\n          ? disabled\r\n          : maxKeywords\r\n          ? keywords.length >= maxKeywords\r\n          : false\r\n      }\r\n      variant={variant}\r\n      onChange={({ target: { value } }) => handleTagInput(value)}\r\n      value={tagInput}\r\n      type=\"text\"\r\n      placeholder={placeholder}\r\n      label={label}\r\n      error={\r\n        (maxKeywords && keywords.length > maxKeywords) ||\r\n        tagInput.substr(0, 1) === \" \" ||\r\n        tagInput.substr(0, 1) === \",\"\r\n      }\r\n      helperText={\r\n        tagInput.substr(0, 1) === \" \" || tagInput.substr(0, 1) === \",\"\r\n          ? \"Invalid Keyword Value\"\r\n          : maxKeywords\r\n          ? `You can add maximum of ${maxKeywords} keywords`\r\n          : \"\"\r\n      }\r\n      InputProps={{\r\n        startAdornment: keywords.map((tag, index) => {\r\n          return (\r\n            <Chip\r\n              key={index}\r\n              style={{ margin: 6 }}\r\n              size=\"small\"\r\n              label={tag}\r\n              onDelete={() => handleDelete(tag)}\r\n            />\r\n          );\r\n        }),\r\n      }}\r\n    />\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\n\r\nimport { ArrowForward } from \"@material-ui/icons\";\r\nimport { Button, TextField, FormHelperText, Radio, FormControlLabel, RadioGroup, FormControl, Typography, Box, CircularProgress } from \"@material-ui/core\";\r\n\r\nimport ProjectFilePicker from \"./ProjectFilePicker\";\r\nimport ArrayInput from \"common/ArrayInput\";\r\nimport FileUploader from \"common/FileUploader\";\r\n\r\nconst validationSchema = Yup.object({\r\n  title: Yup.string().required(\"Title is Required\"),\r\n  projectFile: Yup.object().required(\"Project File is required\").nullable(),\r\n  orientation: Yup.string().oneOf([\"landscape\", \"portrait\"]).required(\"Video orientation is required\"),\r\n  thumbnail: Yup.string().required(\"Thumbnail is required!\"),\r\n});\r\ntype IProps = {\r\n  initialValues?: any,\r\n  isEdit: boolean,\r\n  type?: \"ae\" | \"remotion\",\r\n  assets: Array<{ name: string, type: 'static', src: string }>,\r\n  compositions: any,\r\n  onSubmit: Function,\r\n}\r\nexport default ({\r\n  initialValues = {},\r\n  isEdit,\r\n  type = 'ae',\r\n  assets,\r\n  compositions,\r\n  onSubmit,\r\n}: IProps) => {\r\n  const [keywords, setKeywords] = useState(initialValues?.keywords ?? []);\r\n  const [isExtractionDone, setIsExtractionDone] = useState<boolean>(false)\r\n  const {\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    isSubmitting,\r\n    setFieldValue,\r\n    setFieldError,\r\n    setFieldTouched,\r\n    values,\r\n    errors,\r\n    touched,\r\n  } = useFormik({\r\n    initialValues,\r\n    validationSchema,\r\n    onSubmit: (values) => {\r\n      onSubmit({ ...values, keywords });\r\n    },\r\n  });\r\n  \r\n  return (\r\n    <form onSubmit={handleSubmit} noValidate>\r\n      <Box style={{ marginBottom: 20 }}>\r\n        <ProjectFilePicker\r\n          templateType={type}\r\n          isEdit={isEdit}\r\n          assets={assets}\r\n          compositions={compositions}\r\n          onData={(value: any) => {\r\n            setIsExtractionDone(true)\r\n            setFieldValue(\"projectFile\", value)\r\n          }}\r\n          onError={(message) => {\r\n            setFieldTouched(\"projectFile\", !!message, false)\r\n            setFieldError(\"projectFile\", message)\r\n          }}\r\n          onTouched={(value) => setFieldTouched(\"projectFile\", value, false)}\r\n          value={values.projectFile}\r\n          name={\"projectFile\"}\r\n          placeholder={`Drag & Drop Your ${type === 'remotion' ? \"Remotion project zip file here\" : \"After effects file here\"}`}\r\n        />\r\n        {touched?.projectFile && errors.projectFile && (\r\n          <FormHelperText error={true}>{errors.projectFile}</FormHelperText>\r\n        )}\r\n      </Box>\r\n      <FileUploader\r\n        storageType=\"archive\"\r\n        required={true}\r\n        accept={\"image/*\"}\r\n        value={values.thumbnail}\r\n        onError={(message) => {\r\n          setFieldTouched(\"thumbnail\", !!message, false)\r\n          setFieldError(\"thumbnail\", message)\r\n        }}\r\n        onChange={(value: string) => setFieldValue(\"thumbnail\", value)}\r\n        uploadDirectory={\"thumbnails\"}\r\n        label=\"Template Thumbnail\"\r\n        onTouched={(value: boolean) => setFieldTouched(\"thumbnail\", value, false)}\r\n        error={touched.thumbnail && !!errors.thumbnail\r\n          ? new Error(errors?.thumbnail as string)\r\n          : undefined}\r\n        helperText={\"Thumbnail for video template\"}\r\n        name={\"thumbnail\"}\r\n      />\r\n      <Typography>Video orientation *</Typography>\r\n      <FormControl style={{ marginBottom: 15 }} component=\"fieldset\">\r\n        <RadioGroup\r\n          aria-label=\"orientation\"\r\n          name=\"orientation\"\r\n          value={values.orientation}\r\n          onChange={({ target: { value } }) => {\r\n            setFieldValue(\"orientation\", value, false)\r\n          }}\r\n          row>\r\n          <FormControlLabel value=\"portrait\" control={<Radio />} label=\"Portrait\" />\r\n          <FormControlLabel value=\"landscape\" control={<Radio />} label=\"Landscape\" />\r\n        </RadioGroup>\r\n        <FormHelperText error={!!errors.orientation}>\r\n          {!!errors.orientation ? errors.orientation : \"\"}\r\n        </FormHelperText>\r\n      </FormControl>\r\n      <TextField\r\n        required\r\n        fullWidth\r\n        margin={\"dense\"}\r\n        variant={\"outlined\"}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        value={values.title}\r\n        name={\"title\"}\r\n        type=\"text\"\r\n        placeholder=\"Enter title\"\r\n        label=\"Title\"\r\n        error={touched.title && !!errors.title}\r\n        helperText={\r\n          touched.title && errors.title\r\n            ? errors.title\r\n            : \"Do not include generic terms like 'video', 'template' etc. in your title\"\r\n        }\r\n      />\r\n      <TextField\r\n        fullWidth\r\n        margin={\"dense\"}\r\n        variant={\"outlined\"}\r\n        multiline={true}\r\n        rows={3}\r\n        onChange={handleChange}\r\n        onBlur={handleBlur}\r\n        value={values.description}\r\n        name={\"description\"}\r\n        type=\"text\"\r\n        placeholder=\"Enter description\"\r\n        label=\"Description\"\r\n        error={touched.description && !!errors.description}\r\n        helperText={\r\n          touched.description && errors?.description\r\n            ? errors.description\r\n            : \"Keep your description short and simple.\"\r\n        }\r\n      />\r\n      <ArrayInput\r\n        disabled={false}\r\n        maxKeywords={5}\r\n        onChange={setKeywords}\r\n        placeholder=\"Enter Keywords\"\r\n        label=\"Keywords\"\r\n        keywords={keywords}\r\n      />\r\n      <Box display=\"flex\" justifyContent=\"space-between\" mt={4}>\r\n        <div />\r\n        <Button\r\n          endIcon={<ArrowForward color=\"inherit\" fontSize=\"small\" />}\r\n          color=\"primary\"\r\n          style={{ marginTop: 5, alignSelf: 'flex-end' }}\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          children={isSubmitting ? <CircularProgress color=\"inherit\" size={20} /> : \"Next\"}\r\n          disabled={isSubmitting || !isExtractionDone}\r\n        />\r\n      </Box>\r\n    </form >\r\n  );\r\n};\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport { Paper, Container, Box, CircularProgress } from \"@material-ui/core\";\r\n\r\nimport useActions from \"contextStore/actions\";\r\nimport { VideoTemplateContext } from \"contextStore/store\";\r\nimport AlertHandler from \"common/AlertHandler\";\r\nimport AssetUpload from \"./AssetUpload\";\r\nimport FontUpload from \"./FontUpload\";\r\nimport FormStepper from \"./FormStepper\";\r\nimport VersionDisplay from \"./VersionDisplay\";\r\nimport VideoTemplateMetaForm from \"./VideoTemplateMetaForm\";\r\n\r\nimport { useAuth } from \"services/auth\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { getLayersFromComposition } from \"helpers\";\r\ntype IProps = {\r\n  submitForm: Function, isEdit?: boolean, isDrafted?: boolean,\r\n  video: VideoTemplate,\r\n  type: 'ae' | \"remotion\"\r\n}\r\nexport default ({ submitForm, isEdit, isDrafted = false, video, type }: IProps) => {\r\n  const { user } = useAuth();\r\n  const [videoObj] = useContext(VideoTemplateContext);\r\n  const { resetVideo, editVideoKeys, loadVideo } = useActions();\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [activeDisplayIndex, setActiveDisplayIndex] = useState<number>(0);\r\n  const [compositions, setCompositions] = useState<Array<any>>([]);\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [fonts, setFonts] = useState<Array<{ name: string, src: string }>>([])\r\n  const [assets, setAssets] = useState<Array<{ name: string, type: string, src: string }>>([])\r\n  const [isAssetNavigated, setIsAssetNavigated] = useState<boolean>(false)\r\n  const [isFontNavigated, setIsFontNavigated] = useState<boolean>(false)\r\n  const [isVideoObjLoading, setIsVideoObjLoading] = useState<boolean>(isEdit || isDrafted)\r\n  const handleSubmitForm = async () => {\r\n    try {\r\n      setError(null);\r\n      setLoading(true);\r\n      await submitForm(videoObj);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(err as Error);\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if ((isEdit || isDrafted) && JSON.stringify(video) === JSON.stringify(videoObj)) {\r\n      setIsVideoObjLoading(false)\r\n    }\r\n  }, [videoObj])\r\n  const handleVideoTemplateMetaSubmit = async ({\r\n    keywords,\r\n    title,\r\n    orientation,\r\n    description,\r\n    thumbnail,\r\n    projectFile: { fileUrl = \"\", staticAssets = [], compositions = [] },\r\n  }: {\r\n    keywords: Array<string>,\r\n    title: string,\r\n    orientation: 'portrait' | \"landscape\",\r\n    description: string,\r\n    thumbnail: string,\r\n    projectFile: { fileUrl: string, staticAssets: Array<{ name: string, type: 'static', src: string }>, compositions: Array<any> },\r\n  }) => {\r\n    const savedStaticAssetNames = isEdit ? (video?.staticAssets ?? [])?.map(({ name }) => name) : []\r\n    setCompositions(compositions);\r\n    const allTextLayers = Object.values(compositions)\r\n      .map((c) => getLayersFromComposition(c, \"textLayers\"))\r\n      .flat();\r\n    const fontNames: Array<string> = []\r\n    allTextLayers.map(({ font = \"\" }) => {\r\n      if (!fontNames.includes(font)) {\r\n        fontNames.push(font)\r\n      }\r\n    })\r\n    const sAssets = isEdit\r\n      ? staticAssets.map((asset, index) => (video?.staticAssets ?? [])?.find(({ name }) => name === asset.name) || asset) : staticAssets\r\n    const fontsTemp = fontNames.map((fontName) => ({\r\n      name: fontName,\r\n      src: (video?.fonts ?? [])?.find(({ name }) => name === fontName)?.src || \"\",\r\n    }))\r\n    setAssets(sAssets)\r\n    setFonts(fontsTemp)\r\n\r\n    editVideoKeys({\r\n      ...((isEdit || isDrafted) ? {} : { type }),\r\n      keywords,\r\n      title,\r\n      orientation,\r\n      description,\r\n      src: fileUrl,\r\n      thumbnail,\r\n      fonts: fontsTemp,\r\n      staticAssets: sAssets,\r\n    });\r\n    setActiveDisplayIndex(1);\r\n  };\r\n  const Steps = [<VideoTemplateMetaForm\r\n    type={(isEdit || isDrafted) ? video?.type : type}\r\n    isEdit={isEdit || isDrafted}\r\n    assets={videoObj.staticAssets}\r\n    compositions={compositions}\r\n    initialValues={{ ...videoObj, projectFile: videoObj?.src ?? \"\" }}\r\n    onSubmit={handleVideoTemplateMetaSubmit}\r\n  />,\r\n  <VersionDisplay\r\n    isEdit={isEdit || isDrafted}\r\n    compositions={compositions}\r\n    activeDisplayIndex={activeDisplayIndex}\r\n    setActiveDisplayIndex={setActiveDisplayIndex}\r\n    isSubmitting={loading}\r\n    handleSubmitForm={handleSubmitForm}\r\n    submitError={error}\r\n  />,\r\n  ...(((isEdit || isDrafted) ? video?.type : type) === 'ae' ? [\r\n    <FontUpload\r\n      isFontNavigated={isFontNavigated}\r\n      setIsFontNavigated={setIsFontNavigated}\r\n      compositions={compositions}\r\n      setActiveDisplayIndex={setActiveDisplayIndex}\r\n      activeDisplayIndex={activeDisplayIndex}\r\n      fonts={fonts}\r\n    />\r\n    , <AssetUpload\r\n      isAssetNavigated={isAssetNavigated}\r\n      setIsAssetNavigated={setIsAssetNavigated}\r\n      isSubmitting={loading}\r\n      handleSubmitForm={handleSubmitForm}\r\n      submitError={error}\r\n      setActiveDisplayIndex={setActiveDisplayIndex}\r\n      activeDisplayIndex={activeDisplayIndex}\r\n      staticAssets={assets}\r\n    />\r\n  ] : [])\r\n  ]\r\n  useEffect(() => {\r\n    if (isEdit || isDrafted) {\r\n      loadVideo(video);\r\n    } else {\r\n      resetVideo(user?.id, type);\r\n    }\r\n  }, [isDrafted, isEdit]);\r\n  return (\r\n    <Box>\r\n      {error !== null ? <AlertHandler severity=\"error\" message={error?.message || \"Oop's, something went wrong, action failed !\"} /> : <div />}\r\n      <FormStepper type={(isEdit || isDrafted) ? video?.type : type} activeDisplayIndex={activeDisplayIndex} />\r\n      <Paper elevation={2} style={{ padding: 32 }}>\r\n        {isVideoObjLoading ? <div /> : Steps[activeDisplayIndex]}\r\n      </Paper>\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Prompt, useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport { useAPI } from \"services/APIContext\";\r\n\r\nimport FormBuilder from \"./FormBuilder\";\r\nimport { StateProvider, VideoTemplateContext } from \"contextStore/store\";\r\n\r\nconst AddTemplate = ({ location }) => {\r\n  const [isBlocking, setIsBlocking] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { VideoTemplate } = useAPI()\r\n  const { type = 'ae' } = useParams();\r\n  const [videoObj] = useContext(VideoTemplateContext);\r\n  const { video, isEdit, draftIndex = null } = location?.state ?? {};\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = async (data) => {\r\n    console.log(data);\r\n    try {\r\n      isEdit\r\n        ? await VideoTemplate.update(data.id, data)\r\n        : await VideoTemplate.create(data);\r\n\r\n      setIsBlocking(false);\r\n      history.push({\r\n        pathname: \"/home/videoTemplates\",\r\n        state: {\r\n          statusObj: {\r\n            status: {\r\n              message: `Video Template ${isEdit ? \"Edited\" : \"Added\"\r\n                } Successfully.`,\r\n            },\r\n            err: false,\r\n          },\r\n        },\r\n      });\r\n    } catch (err) {\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error && <Alert severity=\"error\" children={error.message} />}\r\n      {/* <Prompt //TODO NEW\r\n        when={isBlocking}\r\n        message={(location, action) => {\r\n          console.log(action);\r\n          if (action && !isEdit) {\r\n            const confirm = window.confirm(\"Save template as draft?\");\r\n            if (confirm) {\r\n              const temp = localStorage.getItem(\"draftTemplates\")\r\n                ? JSON.parse(localStorage.getItem(\"draftTemplates\"))\r\n                : [];\r\n              if (draftIndex !== null) {\r\n                localStorage.setItem(\r\n                  \"draftTemplates\",\r\n                  JSON.stringify(\r\n                    temp.map((item, index) =>\r\n                      draftIndex === index\r\n                        ? { ...videoObj, draftedAt: new Date() }\r\n                        : item\r\n                    )\r\n                  )\r\n                );\r\n              } else {\r\n                temp.push({ ...videoObj, draftedAt: new Date() });\r\n                localStorage.setItem(\"draftTemplates\", JSON.stringify(temp));\r\n              }\r\n            } else {\r\n              console.log(\"Exit\");\r\n            }\r\n          } else return `You will lose all your data.`;\r\n        }}\r\n      /> */}\r\n      <FormBuilder\r\n        type={type}\r\n        isEdit={isEdit}\r\n        isDrafted={draftIndex !== null}\r\n        video={video}\r\n        submitForm={handleSubmit}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default (props) => (\r\n  <StateProvider>\r\n    <AddTemplate {...props} />\r\n  </StateProvider>\r\n);\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n    Dialog, DialogTitle, Button, DialogActions, DialogContent\r\n} from \"@material-ui/core\";\r\nimport { JsonEditor as Editor } from 'jsoneditor-react';\r\nimport 'jsoneditor-react/es/editor.min.css';\r\n\r\nexport default ({ json, onSubmit, onClose }) => {\r\n    const [value, setValue] = useState(json)\r\n    return (<>\r\n        <Dialog\r\n            fullWidth\r\n            onClose={onClose} aria-labelledby=\"simple-dialog-title\" open={true}>\r\n            <DialogTitle id=\"simple-dialog-title\">Edit/View JSON</DialogTitle>\r\n            <DialogContent>\r\n                <Editor\r\n                    value={value}\r\n                    onChange={setValue}\r\n                />\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={onClose} color=\"primary\">\r\n                    Cancel\r\n          </Button>\r\n                <Button onClick={() => {\r\n                    delete value['tableData']\r\n                    onSubmit(value)\r\n                }}\r\n                    variant=\"contained\"\r\n                    color=\"primary\">\r\n                    Update\r\n          </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    </>)\r\n}","import React from \"react\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\n\r\nexport default ({ activeStep, renderStep }: any) => {\r\n  const steps = [`Average Render Time`, `Set Loyalty Amount`];\r\n  return (\r\n    <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n      {steps.map((label) => (\r\n        <Step key={label}>\r\n          <StepLabel>{label}</StepLabel>\r\n          <StepContent>{renderStep(activeStep)}</StepContent>\r\n        </Step>\r\n      ))}\r\n    </Stepper>\r\n  );\r\n};\r\n","export default (duration) => {\r\n  const portions = [];\r\n\r\n  const msInHour = 1000 * 60 * 60;\r\n  const hours = Math.trunc(duration / msInHour);\r\n  if (hours > 0) {\r\n    portions.push(hours + \"h\");\r\n    duration = duration - hours * msInHour;\r\n  }\r\n\r\n  const msInMinute = 1000 * 60;\r\n  const minutes = Math.trunc(duration / msInMinute);\r\n  if (minutes > 0) {\r\n    portions.push(minutes + \"m\");\r\n    duration = duration - minutes * msInMinute;\r\n  }\r\n\r\n  const seconds = Math.trunc(duration / 1000);\r\n  if (seconds > 0) {\r\n    portions.push(seconds + \"s\");\r\n  }\r\n\r\n  return portions.join(\" \");\r\n};\r\n","import { TestJobVersionsParams, fillType } from \"common/types\";\r\nimport { FieldInterface, VersionInterface } from \"services/buzzle-sdk/types\";\r\nexport default (id: string, versions: TestJobVersionsParams) => {\r\n  return versions.map((version) => {\r\n    return {\r\n      idVideoTemplate: id || \"\",\r\n      idVersion: version?.id ?? \"\",\r\n      renderPrefs: {\r\n        ...(version?.settingsTemplate ? { settingsTemplate: version?.settingsTemplate } : {}),\r\n        ...(version?.incrementFrame !== undefined ? { incrementFrame: version?.incrementFrame } : {}),\r\n      },\r\n      data: fieldsToData(version?.fields ?? [], version.dataFillType),\r\n    };\r\n  });\r\n};\r\n\r\nfunction fieldsToData(fields: Array<FieldInterface>, dataFillType: fillType): Record<string, string> {\r\n  const data: any = {};\r\n  fields.map((f) => {\r\n    switch (f.type) {\r\n      case \"image\":\r\n        data[f.key] = `https://via.placeholder.com/${f.constraints.width}x${f.constraints.height}/dceef7/000.${f.rendererData?.extension}`\r\n        break;\r\n      default:\r\n        switch (dataFillType) {\r\n          case \"label\":\r\n            data[f.key] = f.label;\r\n            break;\r\n          case \"placeholder\":\r\n            data[f.key] = f.placeholder;\r\n            break;\r\n          case \"maxLength\":\r\n            data[f.key] = getNumberPalindrome(\r\n              f.constraints?.maxLength || 80,\r\n              f.label\r\n            );\r\n            break;\r\n        }\r\n    }\r\n  });\r\n  return data;\r\n}\r\n\r\nconst getNumberPalindrome = (len: number, label: string) => {\r\n  if (label?.length > len) {\r\n    return label.substr(0, len)\r\n  }\r\n  const n = len - label?.length || 0;\r\n  const s1 = Array.from({ length: len / 2 }, (v, k) => k + 1)\r\n    .join(\"-\")\r\n    .substr(0, n / 2);\r\n\r\n  const s2 = s1.split(\"\").reverse().join(\"\");\r\n  return s1 + label + s2;\r\n};\r\n","import { Box, Button, Table, Card, TableBody, TableHead, TableCell, TextField, TableRow, InputAdornment, TableContainer, Container, CircularProgress } from \"@material-ui/core\"\r\nimport React, { useEffect, useState } from \"react\"\r\nimport { VideoTemplate, Pricing, VersionInterface } from \"services/buzzle-sdk/types\"\r\nimport { useConfig } from \"services/RemoteConfigContext\"\r\nimport formatTime from \"helpers/formatTime\";\r\nimport { TestJobVersionsParams } from \"common/types\";\r\nimport createTestJobs from \"helpers/createTestJobs\";\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\ntype IProps = {\r\n    handleSubmit: () => void,\r\n    data: VideoTemplate,\r\n    pricing: Array<Pricing>\r\n\r\n}\r\nexport default ({ handleSubmit, data, pricing }: IProps) => {\r\n    const { Job } = useAPI()\r\n    const history = useHistory()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const handleRenderJob = async () => {\r\n        try {\r\n            const testJobs: TestJobVersionsParams = data?.versions?.map((version) => {\r\n                const { full, half, idVersion = version?.id } = (pricing?.find(({ idVersion }) => idVersion === version?.id) || {}) as Pricing\r\n                return ([...!half?.render?.averageTime ? [{\r\n                    ...version,\r\n                    id: idVersion,\r\n                    settingsTemplate: \"half\",\r\n                    dataFillType: \"maxLength\"\r\n                }] : [],\r\n                ...!full?.render?.averageTime ? [{\r\n                    ...version,\r\n                    id: idVersion,\r\n                    settingsTemplate: \"full\",\r\n                    dataFillType: \"maxLength\"\r\n                }] : []])\r\n            }).flat()\r\n            setLoading(true)\r\n            const jobs = createTestJobs(data?.id || \"\", testJobs)\r\n           await Promise.all(jobs?.map(async (data) => await Job.create(data)))\r\n            history.push(\"/home/jobs\", {\r\n                message: \"Video renders created successfully, Once finished you can continue to publish the template section.\"\r\n            })\r\n            setLoading(false)\r\n        } catch (err) {\r\n            setLoading(false)\r\n            enqueueSnackbar((err as Error)?.message || \"Failed to create renders, Please Try later\", {\r\n                variant: 'error'\r\n            })\r\n        }\r\n\r\n    }\r\n    const isAllVersionHasRenderTime = pricing.length ? pricing.every(({ half, full }) => half?.render?.averageTime && full?.render?.averageTime) : false\r\n    return <Container>\r\n        <Card style={{ margin: 15 }} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell><b>Version Name</b></TableCell>\r\n                        <TableCell><b>Avg. Render Time (HD)</b></TableCell>\r\n                        <TableCell><b>Avg. Render Time (Full HD)</b></TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {data?.versions?.map(\r\n                        ({ id, title, averageRenderTime = \"\" }) => {\r\n                            const priceAndTimeForThiVersion = pricing?.find(({ idVersion }) => id === idVersion)\r\n                            return (\r\n                                <TableRow key={id}>\r\n                                    <TableCell>{title}</TableCell>\r\n                                    <TableCell>\r\n                                        {(formatTime(priceAndTimeForThiVersion?.half?.render?.averageTime ?? 0)) || \"NA\"}\r\n                                    </TableCell>\r\n                                    <TableCell>\r\n                                        {(formatTime(priceAndTimeForThiVersion?.full?.render?.averageTime ?? 0)) || \"NA\"}\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            )\r\n                        }\r\n                    )}\r\n                </TableBody>\r\n            </Table>\r\n        </Card>\r\n        <Box style={{ display: 'flex', alignItems: 'center', margin: 15 }}>\r\n            <Button\r\n                disabled={isAllVersionHasRenderTime || loading}\r\n                onClick={handleRenderJob}\r\n                style={{ marginTop: 10, marginRight: 10 }}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                children={loading ? <CircularProgress color=\"inherit\" size={20} /> : \"Render\"}\r\n            />\r\n            <Button\r\n                disabled={!isAllVersionHasRenderTime}\r\n                style={{ marginTop: 10, }}\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={handleSubmit}\r\n                children=\"Next\"\r\n            />\r\n        </Box>\r\n    </Container>\r\n}","import { Box, Button, Table, Card, TableBody, TableHead, TableCell, TextField, TableRow, InputAdornment, TableContainer, Container, CircularProgress } from \"@material-ui/core\"\r\nimport { SmallText, Text } from \"common/Typography\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useState } from \"react\"\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { VideoTemplate } from 'services/buzzle-sdk/types';\r\nimport { useConfig } from \"services/RemoteConfigContext\";\r\n\r\ntype IProps = {\r\n    onBackPress: () => void,\r\n    handlePublish: (data: VideoTemplate) => void,\r\n    data: VideoTemplate\r\n}\r\nexport default ({ onBackPress, handlePublish, data: defaultValue }: IProps) => {\r\n    const { user } = useAuth()\r\n    const { VideoTemplate } = useAPI()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const [loading, setLoading] = useState<boolean>(false)\r\n    const { createrLoyaltyPercentageShareValue } = useConfig()\r\n    const [data, setData] = useState<VideoTemplate>(defaultValue)\r\n    const handleSubmit = async () => {\r\n        try {\r\n            setLoading(true)\r\n            const updated= await VideoTemplate.update(data?.id || \"\", data, { publishAction: \"publish\" })\r\n            handlePublish(updated?.data)\r\n            setLoading(false)\r\n        } catch (err) {\r\n            setLoading(false)\r\n            enqueueSnackbar(`Failed to publish, due to ${(err as Error)?.message}`, {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }\r\n    return <Container>\r\n        <Card style={{ marginTop: 15, marginBottom: 15 }} variant=\"outlined\">\r\n            <Table size=\"small\" >\r\n                <TableHead>\r\n                    <TableRow>\r\n                        {[\"Version Title\", \"Loyalty Amount in USD\", user?.role === \"admin\" ? \"Creator get\" : \"You Get\", \"We get\"]?.map((title) =>\r\n                            <TableCell><Text style={{ fontWeight: 600 }}>{title}</Text></TableCell>)}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {data?.versions?.map((version) => <TableRow key={version?.title}>\r\n                        <TableCell>\r\n                            <SmallText>{version?.title}</SmallText>\r\n                        </TableCell>\r\n                        <TableCell>\r\n                            <TextField\r\n                                size=\"small\"\r\n                                margin=\"dense\"\r\n                                variant=\"filled\"\r\n                                label=\"Loyalty Amount in USD\"\r\n                                inputProps={{\r\n                                    type: 'number',\r\n                                }}\r\n                                onChange={(e) => {\r\n                                    e.persist();\r\n                                    console.log(e?.target?.value)\r\n                                    setData(data => ({\r\n                                        ...data,\r\n                                        versions: data?.versions?.map((vItem) => {\r\n                                            if (vItem.id === version?.id) {\r\n                                                return {\r\n                                                    ...vItem, loyaltyCurrency: 'USD',\r\n                                                    loyaltyValue: e?.target?.value ? parseInt(`${e?.target?.value || 0}`) : undefined\r\n                                                }\r\n                                            } else return vItem\r\n                                        })\r\n                                    }))\r\n                                }}\r\n                                placeholder={\"Enter Amount in USD\"}\r\n                                value={version?.loyaltyValue ? version?.loyaltyValue : undefined}\r\n                                InputProps={{\r\n                                    startAdornment: <InputAdornment position=\"start\">$</InputAdornment>\r\n                                }}\r\n                            />\r\n                        </TableCell>\r\n                        <TableCell><SmallText>{((version?.loyaltyValue ?? 0) * ((100 - createrLoyaltyPercentageShareValue) / 100)).toFixed(2)} {\"USD\"}</SmallText></TableCell>\r\n                        <TableCell><SmallText>{((version?.loyaltyValue ?? 0) * (createrLoyaltyPercentageShareValue / 100)).toFixed(2)} {\"USD\"}</SmallText></TableCell>\r\n                    </TableRow>)}\r\n                </TableBody>\r\n            </Table>\r\n        </Card >\r\n        <Box style={{ display: 'flex', alignItems: 'center', marginTop: 10 }}>\r\n            <Button\r\n                disabled={loading}\r\n                onClick={onBackPress}\r\n                style={{ marginTop: 10, marginRight: 10 }}\r\n                size=\"small\"\r\n                children=\"back\"\r\n            />\r\n            <Button\r\n                disabled={!data?.versions?.every(\r\n                    ({ loyaltyValue = null }) =>\r\n                        loyaltyValue !== null && !!loyaltyValue\r\n                ) || loading}\r\n                style={{ marginTop: 10, }}\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={handleSubmit}\r\n                children={loading ? <CircularProgress color=\"inherit\" size={20} /> : \"Submit\"}\r\n            />\r\n        </Box>\r\n    </Container>\r\n}","import { Box, Button, Table, Card, TableBody, TableHead, TableCell, TextField, TableRow, InputAdornment, TableContainer, Container, CircularProgress } from \"@material-ui/core\"\r\nimport AlertHandler from \"common/AlertHandler\";\r\nimport { SmallText, Text } from \"common/Typography\";\r\nimport formatTime from \"helpers/formatTime\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useState } from \"react\"\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { Pricing, VideoTemplate } from 'services/buzzle-sdk/types';\r\nimport { useConfig } from \"services/RemoteConfigContext\";\r\n\r\ntype IProps = {\r\n    onSubmit: (data: VideoTemplate) => void,\r\n    data: VideoTemplate,\r\n    pricing: Array<Pricing>\r\n}\r\nexport default ({ onSubmit, data, pricing }: IProps) => {\r\n    const { user } = useAuth()\r\n    const { VideoTemplate } = useAPI()\r\n    const { enqueueSnackbar } = useSnackbar()\r\n    const [loading, setLoading] = useState<\"reject\" | \"publish\" | \"\">(\"\")\r\n    const { createrLoyaltyPercentageShareValue } = useConfig()\r\n    const [rejectReason, setRejectReason] = useState<string>(\"\")\r\n    const handleSubmit = async (state: \"reject\" | \"publish\") => {\r\n        try {\r\n            setLoading(state)\r\n            const updated = await VideoTemplate.update(data?.id || \"\", {\r\n                ...(state === \"publish\" ? { publishState: 'published', rejectionReason: \"\" } : { publishState: 'rejected', rejectionReason: rejectReason })\r\n            })\r\n            onSubmit(updated?.data)\r\n            setLoading(\"\")\r\n        } catch (err) {\r\n            setLoading(\"\")\r\n            enqueueSnackbar(`Failed to ${state}, due to ${(err as Error)?.message}`, {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }\r\n    return <Box style={{ padding: 15, marginLeft: 15, marginRight: 15 }}>\r\n        {data?.rejectionReason && data.publishState === \"rejected\" ? <AlertHandler\r\n            title=\"Previous Rejection Reason\"\r\n            severity=\"error\" message={data?.rejectionReason} /> : <div />}\r\n        <Card style={{ marginTop: 15, marginBottom: 15 }} variant=\"outlined\">\r\n            <Table size=\"small\" >\r\n                <TableHead>\r\n                    <TableRow>\r\n                        {[\"Version Title\",\r\n                            \"Avg. Time(HD)\",\r\n                            \"Avg. Time(Full HD)\",\r\n                            \"Loyalty Amount in USD\",\r\n                            \"Creators Profit\",\r\n                            \"Buzzle Profit\"]?.map((title) =>\r\n                                <TableCell><Text style={{ fontWeight: 600 }}>{title}</Text></TableCell>)}\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {data?.versions?.map((version) => {\r\n                        const priceAndTimeForThiVersion = pricing?.find(({ idVersion }) => version?.id === idVersion)\r\n                        return (<TableRow key={version?.title}>\r\n                            <TableCell>\r\n                                <SmallText>{version?.title}</SmallText>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <SmallText>{(formatTime(priceAndTimeForThiVersion?.half?.render?.averageTime ?? 0)) || \"NA\"}</SmallText>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <SmallText>{(formatTime(priceAndTimeForThiVersion?.full?.render?.averageTime ?? 0)) || \"NA\"}</SmallText>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <SmallText>{version?.loyaltyValue} {version?.loyaltyCurrency || \"USD\"}</SmallText>\r\n                            </TableCell>\r\n                            <TableCell><SmallText>{((version?.loyaltyValue ?? 0) * ((100 - createrLoyaltyPercentageShareValue) / 100)).toFixed(2)} {\"USD\"}</SmallText></TableCell>\r\n                            <TableCell><SmallText>{((version?.loyaltyValue ?? 0) * (createrLoyaltyPercentageShareValue / 100)).toFixed(2)} {\"USD\"}</SmallText></TableCell>\r\n                        </TableRow>)\r\n                    })}\r\n                </TableBody>\r\n            </Table>\r\n        </Card>\r\n        <TextField value={rejectReason}\r\n            fullWidth={true}\r\n            variant=\"filled\"\r\n            label=\"Rejection Reason (If any)\"\r\n            placeholder=\"Enter rejection reason for template\"\r\n            onChange={e => setRejectReason(e.target.value)} />\r\n        <Box style={{ display: 'flex', alignItems: 'center', marginTop: 10 }}>\r\n            <Button\r\n                disabled={!!loading || !rejectReason}\r\n                onClick={() => handleSubmit('reject')}\r\n                style={{ marginTop: 10, marginRight: 10 }}\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                children={loading === \"reject\" ? <CircularProgress color=\"inherit\" size={20} /> : \"Reject\"}\r\n                variant=\"contained\"\r\n            />\r\n            <Button\r\n                disabled={!!loading}\r\n                style={{ marginTop: 10, }}\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n                onClick={() => handleSubmit('publish')}\r\n                children={loading === \"publish\" ? <CircularProgress color=\"inherit\" size={20} /> : \"Approve\"}\r\n            />\r\n        </Box>\r\n    </Box>\r\n}","import React, { useContext, useEffect, useState } from 'react';\r\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport PublishSteps from \"./PublishSteps\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport Slide from '@material-ui/core/Slide';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { Text } from \"common/Typography\"\r\nimport { TransitionProps } from '@material-ui/core/transitions';\r\nimport { VideoTemplate, Pricing } from 'services/buzzle-sdk/types';\r\nimport { SubHeading } from 'common/Typography';\r\nimport RenderTimeStep from './RenderTimeStep';\r\nimport LoyaltyAmountStep from './LoyaltyAmountStep';\r\nimport { useAPI } from 'services/APIContext';\r\nimport { useAuth } from 'services/auth';\r\nimport ApproveStep from './ApproveStep';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      position: 'relative',\r\n    },\r\n    title: {\r\n      marginLeft: theme.spacing(2),\r\n      flex: 1,\r\n    },\r\n  }),\r\n);\r\n\r\nconst Transition = React.forwardRef(function Transition(\r\n  props: TransitionProps & { children?: React.ReactElement },\r\n  ref: React.Ref<unknown>,\r\n) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\ntype IProps = {\r\n  handleClose: Function,\r\n  data: VideoTemplate,\r\n  pricing?: Array<Pricing>,\r\n  onDone: (data: VideoTemplate) => void,\r\n}\r\nexport default ({ handleClose, data, onDone, ...props }: IProps) => {\r\n  const classes = useStyles();\r\n  const isRepublish = data?.rejectionReason && data.publishState === 'rejected'\r\n  const { user } = useAuth()\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [pricing, setPricing] = useState<Array<Pricing>>(props?.pricing || [])\r\n  const [loading, setLoading] = useState<boolean>(true)\r\n  const [error, setError] = useState<Error | null>(null)\r\n  const { Pricing } = useAPI()\r\n  useEffect(() => {\r\n    if (pricing.length === 0) {\r\n      fetchPricing()\r\n    } else {\r\n      setLoading(false)\r\n    }\r\n  }, [])\r\n  const fetchPricing = async () => {\r\n    try {\r\n      setError(null)\r\n      setLoading(true)\r\n      setPricing((await Pricing.video(data.id || \"\", \"\", { duration: 'all' }))?.filter(({ idVersion }) => data.versions?.find(({ id }) => idVersion === id)))\r\n      setLoading(false)\r\n    } catch (err) {\r\n      setError(err as Error)\r\n      setLoading(false)\r\n    }\r\n  }\r\n  const onRequestClose = () => {\r\n    handleClose()\r\n  }\r\n  const navigateToNextStep = () => {\r\n    setActiveStep(1)\r\n  }\r\n  const handleBacPress = () => {\r\n    setActiveStep(0)\r\n  }\r\n  const onSubmit = (data: VideoTemplate) => {\r\n    onDone(data)\r\n  }\r\n  const renderStep = (activeStep: number) => {\r\n    switch (activeStep) {\r\n      case 0:\r\n        return (\r\n          <RenderTimeStep\r\n            pricing={pricing}\r\n            data={data} handleSubmit={navigateToNextStep} />\r\n        );\r\n      case 1:\r\n        return (\r\n          <LoyaltyAmountStep data={data}\r\n            onBackPress={handleBacPress} handlePublish={onSubmit} />\r\n        );\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  return (<Dialog fullScreen open={true} onClose={onRequestClose}\r\n    TransitionComponent={Transition}>\r\n    <AppBar className={classes.appBar}>\r\n      <Toolbar>\r\n        <IconButton edge=\"start\" color=\"inherit\" onClick={onRequestClose} aria-label=\"close\">\r\n          <CloseIcon />\r\n        </IconButton>\r\n        <SubHeading className={classes.title}>\r\n          {user?.role === \"admin\" ? \"Approve Template\" : isRepublish ? \"Re-Apply for review\" : \"Apply for review\"}\r\n        </SubHeading>\r\n      </Toolbar>\r\n    </AppBar>\r\n    <Paper elevation={0}>\r\n      {loading || error !== null ? <Box style={{\r\n        minHeight: 200, display: 'flex', width: '100%',\r\n        flexDirection: 'column',\r\n        alignItems: 'center', justifyContent: 'center'\r\n      }}>\r\n        {error ? <>\r\n          <Text color=\"textSecondary\" >{error?.message}</Text>\r\n          <Button size=\"small\" children=\"retry\"\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            style={{ marginTop: 10 }}\r\n            onClick={fetchPricing} />\r\n        </> : <CircularProgress color=\"primary\" size={25} />}\r\n      </Box> : user?.role === \"admin\" ? <ApproveStep pricing={pricing}\r\n        data={data}\r\n        onSubmit={onSubmit} /> : <PublishSteps activeStep={activeStep} renderStep={renderStep} />}\r\n    </Paper>\r\n  </Dialog>\r\n  );\r\n}","import React, { useCallback, useMemo, useRef, useState } from \"react\";\r\nimport {\r\n    Link as RouterLink,\r\n    useHistory,\r\n    useLocation,\r\n    useRouteMatch,\r\n} from \"react-router-dom\";\r\nimport ShopIcon from '@material-ui/icons/Shop';\r\n// libs\r\nimport * as timeago from \"timeago.js\";\r\nimport MaterialTable, { Query, Column, Action, MTableCell } from \"material-table\";\r\nimport {\r\n    Avatar,\r\n    Box,\r\n    Chip,\r\n    Fade,\r\n    Paper,\r\n    Tooltip,\r\n} from \"@material-ui/core\";\r\n// icons\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport { SnackbarKey, useSnackbar } from \"notistack\";\r\n// services\r\nimport { useAuth } from \"services/auth\";\r\nimport { useAPI } from \"services/APIContext\";\r\nimport JSONEditorDialoge from \"common/JSONEditorDialoge\";\r\nimport { publishState, VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { ExtraSmallText } from \"common/Typography\";\r\nimport VideoTemplatePublishDialog from \"domains/VideoTemplate/VideoTemplatePublishDialog\";\r\nimport { Add } from \"@material-ui/icons\";\r\nimport { useReAuthFlow } from \"services/Re-AuthContext\";\r\n\r\nfunction useQuery() {\r\n    return new URLSearchParams(useLocation().search);\r\n}\r\ntype IProps = {\r\n    ownership: 'public' | \"owned\"\r\n}\r\nexport default ({ ownership }: IProps) => {\r\n    const history = useHistory();\r\n    // const { } = useLocation()\r\n    const { VideoTemplate, User, } = useAPI()\r\n    let queryParam = useQuery();\r\n    let { url, path } = useRouteMatch();\r\n    // state variables\r\n    const [error, setError] = useState<Error | null>(null);\r\n    const [selectedVideoTemplate, setSelectedVideoTemplate] = useState<VideoTemplate | null>(null);\r\n    const [isDeleting, setIsDeleting] = useState(false);\r\n    const [mode, setMode] = useState<\"publish\" | \"editor\" | \"\">(\"\")\r\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n    const { user, refreshUser, } = useAuth();\r\n    const { reAuthInit } = useReAuthFlow()\r\n    const { role } = user;\r\n    const tableRef = useRef<any>(null);\r\n    const handleAddTemplate = async (id: string) => {\r\n        let loading: SnackbarKey | null = null\r\n        try {\r\n            loading = enqueueSnackbar(\"Adding template to your templates\", {\r\n                persist: true,\r\n            })\r\n            const user = await User.addTemplate([id])\r\n            refreshUser(user.data)\r\n            handleRefresh()\r\n            loading !== null ? closeSnackbar(loading) : console.log(\"not loading\")\r\n            enqueueSnackbar(\"Template added successfully, No you can render it from Your templates\", {\r\n                variant: 'success'\r\n            })\r\n\r\n        } catch (err) {\r\n            loading !== null ? closeSnackbar(loading) : console.log(\"not loading\")\r\n            enqueueSnackbar(\"Failed to add template to your templates\", {\r\n                variant: 'error'\r\n            })\r\n        }\r\n    }\r\n    const handleDelete = async (id: string) => {\r\n        try {\r\n            setIsDeleting(true);\r\n            await reAuthInit()\r\n            await VideoTemplate.delete(id);\r\n            tableRef.current && tableRef.current.onQueryChange();\r\n            setIsDeleting(false);\r\n        } catch (err) {\r\n            setIsDeleting(false);\r\n            setError(err as Error);\r\n        }\r\n    };\r\n\r\n\r\n    const handleRefresh = () => {\r\n        setError(null);\r\n        tableRef.current && tableRef.current.onQueryChange();\r\n    };\r\n\r\n\r\n    const getDataFromQuery = useCallback((query: Query<VideoTemplate>) => {\r\n        const {\r\n            page = 0,\r\n\r\n            pageSize = 50,\r\n            search = \"\",\r\n            orderBy: { field: orderBy = \"dateUpdated\" } = {},\r\n            orderDirection = \"desc\",\r\n        } = query;\r\n        history.push(\r\n            `?page=${page + 1}&size=${pageSize}${search ? \"&searchQuery=\" + search : \"\"\r\n            }`\r\n        );\r\n        // if has search query\r\n        // if (searchQuery) {\r\n        //   return ({ data: [], page: 1, totalCount: 0 }); //TODO\r\n        // }\r\n        return VideoTemplate.getAll(\r\n            page + 1,\r\n            pageSize,\r\n            \"\",\r\n            orderBy,\r\n            orderDirection ? orderDirection : \"desc\",\r\n            { type: ownership, fields: 'createdBy' }\r\n        )\r\n            .then(({ data, count: totalCount }) => {\r\n                return { data, page, totalCount };\r\n            })\r\n            .catch((err) => {\r\n                setError(err);\r\n                return {\r\n                    data: [],\r\n                    page,\r\n                    totalCount: 0,\r\n                };\r\n            });\r\n    }, []);\r\n\r\n    const handleVideoTemplateUpdate = useCallback(() => async (data: Partial<VideoTemplate>) => {\r\n        try {\r\n            if (!data.id) {\r\n                enqueueSnackbar(\r\n                    `Failed to update, Mssing Video Template Id!`,\r\n                    {\r\n                        variant: \"error\",\r\n                    }\r\n                );\r\n                return\r\n            }\r\n            await VideoTemplate.update(data?.id || \"\", { ...data });\r\n            enqueueSnackbar(`Video Template Updated successfully!`, {\r\n                variant: \"success\",\r\n\r\n            });\r\n            setSelectedVideoTemplate(null);\r\n            // tableRef.current && tableRef.current.onQueryChange();\r\n        } catch (err) {\r\n            setSelectedVideoTemplate(null);\r\n            enqueueSnackbar(\r\n                `Failed to update, ${(err as Error)?.message ?? \"Something went wrong\"}`,\r\n                {\r\n                    variant: \"error\",\r\n                }\r\n            );\r\n        }\r\n    }, [])\r\n    const onRowClick = useCallback((e?: React.MouseEvent<Element, MouseEvent>,\r\n        //@ts-ignore\r\n        { tableData, ...video }?: VideoTemplate) => {\r\n        if (!video?.id) {\r\n            return\r\n        }\r\n        history.push(`${path}${video?.slug || video?.id}`);\r\n    }, [path])\r\n    const handleReset = () => {\r\n        setSelectedVideoTemplate(null)\r\n        setMode(\"\")\r\n    }\r\n    const columns: Column<VideoTemplate>[] = useMemo(() => [\r\n        {\r\n            title: \"Title\",\r\n            field: \"title\",\r\n            render: ({ title, thumbnail }) => <div>\r\n                <Chip\r\n                    avatar={<Avatar alt=\"Natacha\" src={thumbnail} />}\r\n                    label={title}\r\n                    variant=\"outlined\"\r\n                />\r\n            </div>,\r\n        },\r\n        {\r\n            title: \"Owned by\",\r\n            render: function ({\r\n                idCreatedBy, createdBy = {}\r\n            }) {\r\n                return (\r\n                    <Tooltip\r\n                        TransitionComponent={Fade}\r\n                        title={idCreatedBy === user?.uid ? \"This template is owned by you\" : `Owned by ${createdBy?.name ?? \"Guest\"}`}>\r\n                        <Chip\r\n                            size=\"small\"\r\n                            label={idCreatedBy === user?.uid ? \"You\" : (createdBy?.name ?? \"Guest\")}\r\n                            style={{\r\n                                background: idCreatedBy === user?.uid ? \"#3742fa\" : \"#000\",\r\n                                color: \"white\",\r\n                            }}\r\n                        />\r\n                    </Tooltip>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: \"Versions\",\r\n            align: \"left\",\r\n            render: ({ versions }) => <ExtraSmallText>{versions.length}</ExtraSmallText>,\r\n        },\r\n        {\r\n            title: \"Publish State\",\r\n            render: function ({\r\n                publishState = \"unpublished\",\r\n                rejectionReason = \"\",\r\n            }) {\r\n                return (\r\n                    <Tooltip\r\n                        TransitionComponent={Fade}\r\n                        title={publishState.toLowerCase() === \"rejected\" && rejectionReason ? rejectionReason : publishState}>\r\n                        <Chip\r\n                            size=\"small\"\r\n                            label={publishState.toLowerCase()}\r\n                            style={{\r\n                                background: getColorFromState(publishState),\r\n                                color: \"white\",\r\n                            }}\r\n                        />\r\n                    </Tooltip>\r\n                );\r\n            },\r\n        },\r\n        {\r\n            title: \"Last Updated\",\r\n            render: ({ dateUpdated = \"\" }) => <ExtraSmallText>{timeago.format(new Date(dateUpdated))}</ExtraSmallText>\r\n        },\r\n    ], [])\r\n    return (\r\n        <Box>\r\n            <MaterialTable\r\n                components={{\r\n                    Container: props => <Paper {...props} elevation={0} />,\r\n                }}\r\n                tableRef={tableRef}\r\n                title=\"\"\r\n                onRowClick={onRowClick}\r\n                columns={columns}\r\n                // localization={{\r\n                //   body: {\r\n                //     emptyDataSourceMessage: error ? (\r\n                //       <Box>\r\n                //         <Typography>{error.message}</Typography>\r\n                //         <Button\r\n                //           onClick={handleRefresh}\r\n                //           color=\"secondary\"\r\n                //           variant=\"outlined\"\r\n                //           children={\"Retry\"}\r\n                //         />\r\n                //       </Box>\r\n                //     ) : (\r\n                //       <Typography>\r\n                //         <Link component={RouterLink} to={`${path}add`}>\r\n                //           Click here\r\n                //         </Link>{\" \"}\r\n                //         to create a Video Template😀\r\n                //       </Typography>\r\n                //     ),\r\n                //   },\r\n                // }}\r\n                actions={[\r\n                    ({ id = \"\", idCreatedBy = \"\" }) => (user?.uid === idCreatedBy ? false : !user?.guestTemplateUsed.includes(id)) && user?.role === \"user\" ? null : {\r\n                        icon: () => <Add />,\r\n                        tooltip: `Create render of this template`,\r\n                        //@ts-ignore\r\n                        onClick: (e, { tableData, ...data }) => {\r\n                            history.push({\r\n                                pathname: \"/testJob\",\r\n                                state: {\r\n                                    videoTemplate: data,\r\n                                    versions: data.versions,\r\n                                },\r\n                            });\r\n                        },\r\n                    },\r\n                    ({ idCreatedBy = \"\", publishState = \"\" }) => user?.role == \"admin\" && publishState.toLowerCase() === \"pending\" ? {\r\n                        icon: () => <PublishIcon />,\r\n                        tooltip: `Approve template`,\r\n                        //@ts-ignore\r\n                        onClick: (e, { tableData, ...data }) => {\r\n                            setSelectedVideoTemplate(data as VideoTemplate)\r\n                            setMode('publish')\r\n\r\n                        },\r\n                    } : (user?.uid === idCreatedBy && (publishState.toLowerCase() == \"unpublished\" || publishState.toLowerCase() === \"rejected\")) ? {\r\n                        icon: () => <PublishIcon />,\r\n                        tooltip: `Publish template`,\r\n                        //@ts-ignore\r\n                        onClick: (e, { tableData, ...data }) => {\r\n                            setSelectedVideoTemplate(data as VideoTemplate)\r\n                            setMode('publish')\r\n\r\n                        },\r\n                    } : null,\r\n                    ownership === \"public\" && user?.role === \"user\" ? {\r\n                        icon: () => <ShopIcon />,\r\n                        tooltip: `Add template to your templates`,\r\n                        //@ts-ignore\r\n                        onClick: (e, { tableData, ...data }) => {\r\n                            handleAddTemplate((data as VideoTemplate)?.id ?? \"\")\r\n                        }\r\n                    } : null,\r\n                    ({ idCreatedBy = \"\" }) => user?.uid === idCreatedBy || user?.role === \"admin\" ? {\r\n                        icon: \"edit\",\r\n                        tooltip: \"Edit Template\",\r\n                        onClick: (e: any, data: any) => {\r\n                            //@ts-ignore\r\n                            delete data[\"tableData\"];\r\n                            history.push({\r\n                                pathname: `${url}/${(data as VideoTemplate)?.slug || (data as VideoTemplate)?.id}/edit`,\r\n                                state: {\r\n                                    isEdit: true,\r\n                                    video: data,\r\n                                },\r\n                            });\r\n                        },\r\n                    } : null,\r\n                    ...(role === \"admin\" ? [{\r\n                        icon: \"code\",\r\n                        tooltip: \"View/Edit JSON\",\r\n                        position: \"row\",\r\n                        onClick: async (event: any, rowData: any) => {\r\n                            setSelectedVideoTemplate(rowData as VideoTemplate);\r\n                        },\r\n                    },\r\n                    {\r\n                        icon: \"delete\",\r\n                        tooltip: \"Delete Template\",\r\n                        disabled: isDeleting,\r\n                        onClick: async (event: any, item: any) => handleDelete((item as VideoTemplate)?.id || \"\"),\r\n                    }] : []) as any,\r\n                    {\r\n                        icon: \"refresh\",\r\n                        tooltip: \"Refresh Data\",\r\n                        isFreeAction: true,\r\n                        onClick: handleRefresh,\r\n                    },\r\n                ].filter(a => !!a)\r\n                }\r\n                data={getDataFromQuery}\r\n                options={{\r\n                    search: false,\r\n                    sorting: false,\r\n                    pageSize: parseInt(queryParam?.get(\"size\") || \"\") || 30,\r\n                    headerStyle: { fontWeight: 700, fontSize: 14, fontFamily: \"Poppins\" },\r\n                    actionsColumnIndex: -1,\r\n                }}\r\n            />\r\n            {selectedVideoTemplate !== null && mode !== \"publish\" && (\r\n                <JSONEditorDialoge\r\n                    json={selectedVideoTemplate}\r\n                    onSubmit={handleVideoTemplateUpdate}\r\n                    onClose={handleReset}\r\n                />\r\n            )}\r\n            {selectedVideoTemplate !== null && mode === \"publish\" && <VideoTemplatePublishDialog data={selectedVideoTemplate}\r\n                onDone={() => {\r\n                    handleReset()\r\n                    handleRefresh()\r\n                }}\r\n                handleClose={handleReset} />}\r\n        </Box>\r\n    );\r\n};\r\n\r\nconst getColorFromState = (state: publishState) => {\r\n    switch (state) {\r\n        case \"rejected\":\r\n            return \"#f44336\";\r\n        case \"pending\":\r\n            return \"#ffa502\";\r\n        case \"published\":\r\n            return `#4caf50`;\r\n        default:\r\n            return \"grey\";\r\n    }\r\n}","import React from \"react\"\r\nimport Table from \"../Table\"\r\nexport default () => {\r\n  return <Table  ownership=\"owned\"/>\r\n}","import React from \"react\"\r\nimport Table from \"../Table\"\r\nexport default () => {\r\n  return <Table ownership=\"public\" />\r\n}","\r\nimport React, { useEffect, useState } from \"react\";\r\nimport VerticalTabs from \"common/VerticalTabs\";\r\nimport MyTemplates from \"./MyTemplates\";\r\nimport PublicTemplates from \"./PublicTemplates\";\r\nimport { useHistory, useLocation, useRouteMatch } from \"react-router-dom\";\r\nimport { Button, Paper } from \"@material-ui/core\";\r\nimport { useAuth } from \"services/auth\"\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default () => {\r\n  const query = useQuery()\r\n  const tab = query.get(\"tab\") || \"templates\"\r\n  const history = useHistory()\r\n  let { url, path } = useRouteMatch();\r\n  const { user } = useAuth()\r\n  const [initialTab, setInitialTab] = useState(tab)\r\n  const tabs = [\r\n    {\r\n      label: user?.role == \"admin\" ? \"Templates\" : \"Your Templates\",\r\n      key: \"templates\",\r\n      component: <MyTemplates />,\r\n      allowedRoles: [\"admin\", \"user\"],\r\n    },\r\n    {\r\n      label: \"Public Templates\",\r\n      component: <PublicTemplates />,\r\n      key: \"public\",\r\n      allowedRoles: [\"user\"],\r\n    },\r\n  ]\r\n  // useEffect(() => {\r\n  //   setInitialTab(tab)\r\n  // }, [tab])\r\n  return (\r\n    <>\r\n      {user?.role === \"user\" ? <Paper style={{ marginBottom: 25, padding: 15 }}>\r\n        <Button\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          style={{ margin: 10 }}\r\n          onClick={() => history.push(`${url}/ae/add`)}>\r\n          Add After Effects Template\r\n        </Button>\r\n        <Button\r\n          color=\"primary\"\r\n          variant=\"outlined\"\r\n          style={{ margin: 10 }}\r\n          onClick={() => history.push(`${url}/remotion/add`)}>\r\n          Add Remotion Template\r\n        </Button>\r\n        <Button\r\n          variant=\"outlined\"\r\n          style={{ margin: 10 }}\r\n          onClick={() => {\r\n            history.push(`${url}/drafts`);\r\n          }}>\r\n          Drafted Templates\r\n        </Button>\r\n      </Paper> : <div />}\r\n      <VerticalTabs\r\n        //  onTabIndexChange={(index) => history.push(`/home/videoTemplates?tab=${tabs[index].key}`)}\r\n        //  initialTabIndex={tabs.findIndex(({ key }) => key === initialTab)}\r\n        tabs={tabs}\r\n      /></>\r\n\r\n  );\r\n};\r\n\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Container, Typography, Paper, Button, Box } from \"@material-ui/core\";\r\nimport {\r\n  Link as RouterLink,\r\n  useHistory,\r\n  useRouteMatch,\r\n} from \"react-router-dom\";\r\nexport default () => {\r\n  const [templates, setTemplates] = useState([]);\r\n  let { url, path } = useRouteMatch();\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    const temp = localStorage.getItem(\"draftTemplates\");\r\n    setTemplates(temp ? JSON.parse(temp) : []);\r\n  }, []);\r\n  const handleDelete = (index) => {\r\n    const temp = templates.filter((item, ix) => index !== ix);\r\n    setTemplates(temp);\r\n    localStorage.setItem(\"draftTemplates\", JSON.stringify(temp));\r\n  };\r\n  return (\r\n    <Container>\r\n      <Typography variant=\"h5\">Drafted Templates</Typography>\r\n      {templates.length ? (\r\n        templates.map((data, index) => (\r\n          <Paper style={{ marginTop: 10, padding: 10 }}>\r\n            <Typography variant=\"h6\">{data?.title}</Typography>\r\n            <Typography color=\"secondary\">\r\n              {new Date(data?.draftedAt).toLocaleString()}\r\n            </Typography>\r\n            <Box style={{ marginTop: 10 }}>\r\n              <Button\r\n                onClick={() =>\r\n                  history.push({\r\n                    pathname: `${url.substr(0, url.lastIndexOf(\"/\"))}/add`,\r\n                    state: {\r\n                      draftIndex: index,\r\n                      video: data,\r\n                    },\r\n                  })\r\n                }\r\n                children=\"EDIT\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              />\r\n              <Button\r\n                onClick={() => handleDelete(index)}\r\n                children=\"Delete\"\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n              />\r\n            </Box>\r\n          </Paper>\r\n        ))\r\n      ) : (\r\n        <Typography color=\"secondary\">No Drafted Template</Typography>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n","const JSZip = require(\"jszip\");\r\nconst zip = new JSZip();\r\n\r\n\r\nexport async function zipMaker(staticAssets, fonts, aepFile) {\r\n    try {\r\n        const name = aepFile.substr(aepFile.lastIndexOf(\"/\") + 1)\r\n        const file = await (await fetch(aepFile)).blob()\r\n        zip.file(name, file)\r\n        await Promise.all(\r\n            [\r\n                ...staticAssets.map(async ({ name, src }) =>\r\n                zip.file(`assets/${name}`, await (await fetch(src)).blob())),\r\n            ...fonts.map(async ({ name, src }) =>\r\n                zip.file(`fonts/${name}.${src?.split(\".\").pop()}`, await (await fetch(src)).blob()))]\r\n        )\r\n        downloadBlob(await zip.generateAsync({ type: \"blob\" }), `${name.substr(0, name.lastIndexOf(\".\"))}.zip`);\r\n        zip.remove(\"assets\")\r\n        zip.remove(\"name\")\r\n        zip.remove(\"fonts\")\r\n\r\n        return true\r\n    } catch (err) {\r\n        console.log(err);\r\n        // throwError\r\n    }\r\n}\r\n\r\nfunction downloadBlob(blob, filename) {\r\n    // Create an object URL for the blob object\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    // Create a new anchor element\r\n    const a = document.createElement(\"a\");\r\n\r\n    // Set the href and download attributes for the anchor element\r\n    // You can optionally set other attributes like `title`, etc\r\n    // Especially, if the anchor element will be attached to the DOM\r\n    a.href = url;\r\n    a.download = filename || \"download\";\r\n\r\n    // Click handler that releases the object URL after the element has been clicked\r\n    // This is required for one-off downloads of the blob content\r\n    const clickHandler = () => {\r\n        setTimeout(() => {\r\n            URL.revokeObjectURL(url);\r\n            a.removeEventListener(\"click\", clickHandler);\r\n        }, 150);\r\n    };\r\n\r\n    // Add the click event listener on the anchor element\r\n    // Comment out this line if you don't want a one-off download of the blob content\r\n    a.addEventListener(\"click\", clickHandler, false);\r\n\r\n    // Programmatically trigger a click on the anchor element\r\n    // Useful if you want the download to happen automatically\r\n    // Without attaching the anchor element to the DOM\r\n    // Comment out this line if you don't want an automatic download of the blob content\r\n    a.click();\r\n\r\n    // Return the anchor element\r\n    // Useful if you want a reference to the element\r\n    // in order to attach it to the DOM or use it in some other way\r\n    return a;\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation, useParams, useRouteMatch } from \"react-router-dom\";\r\nimport clsx from 'clsx';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  LinearProgress,\r\n  Paper,\r\n  Divider,\r\n  Typography,\r\n  withStyles,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  CircularProgress,\r\n  Card,\r\n  CardContent,\r\n  Chip,\r\n  IconButton,\r\n  Tooltip,\r\n  Collapse,\r\n  CardActions,\r\n  makeStyles,\r\n  createStyles,\r\n  Theme,\r\n} from \"@material-ui/core\";\r\n\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useCurrency } from \"services/currencyContext\";\r\n\r\nimport { zipMaker } from \"helpers/downloadTemplateHelper\";\r\nimport formatTime from \"helpers/formatTime\";\r\nimport VideoTemplatePublishDialog from \"../VideoTemplatePublishDialog\";\r\nimport { SmallText, SubHeading, Text } from \"common/Typography\";\r\nimport { Action, Pricing, publishState, VersionInterface, VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport { Delete, Description, Edit, ExpandMore, Folder } from \"@material-ui/icons\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { useConfig } from \"services/RemoteConfigContext\";\r\nimport { useReAuthFlow } from \"services/Re-AuthContext\";\r\nimport { getNameFromActionText } from \"helpers\";\r\nimport AlertHandler from \"common/AlertHandler\";\r\n\r\nconst CustomProgress = withStyles({\r\n  colorPrimary: {\r\n    backgroundColor: \"#b2dfdb\",\r\n  },\r\n  barColorPrimary: {\r\n    backgroundColor: \"#00695c\",\r\n  },\r\n\r\n})(LinearProgress);\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    expand: {\r\n      transform: 'rotate(0deg)',\r\n      marginLeft: 'auto',\r\n      transition: theme.transitions.create('transform', {\r\n        duration: theme.transitions.duration.shortest,\r\n      }),\r\n    },\r\n    expandOpen: {\r\n      transform: 'rotate(180deg)',\r\n    },\r\n\r\n  }),\r\n);\r\nexport default () => {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { VideoTemplate, Pricing } = useAPI()\r\n  const { state } = useLocation<{ videoTemplate?: VideoTemplate }>()\r\n  const { reAuthInit } = useReAuthFlow()\r\n  const [pricing, setPricing] = useState<Array<Pricing>>([])\r\n  const { url } = useRouteMatch();\r\n  const { user } = useAuth()\r\n  const history = useHistory();\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [operationInProgress, setOperationInProgress] = useState<\"file\" | \"folder\" | \"delete\" | \"\">(\"\")\r\n  const [isPublishDialogOpen, setIsPublishDialogOpen] = useState<boolean>(false);\r\n  const classes = useStyles();\r\n  const [data, setData] = useState<VideoTemplate>();\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const isGuestTemplate = data?.idCreatedBy !== user?.uid && user?.role !== \"admin\"\r\n  useEffect(() => {\r\n    init();\r\n  }, []);\r\n\r\n  const init = async () => {\r\n    try {\r\n      setError(null)\r\n      setLoading(true)\r\n      const template = (state?.videoTemplate || await VideoTemplate.get(id)) as VideoTemplate\r\n      setData(template);\r\n      setPricing((await Pricing.video(id, \"\", { duration: 'all' }))?.filter(({ idVersion }) => template?.versions?.find(({ id }) => id === idVersion)))\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(err as Error)\r\n    }\r\n  };\r\n  const toggleDialog = () => {\r\n    setIsPublishDialogOpen(v => !v)\r\n  }\r\n\r\n  const handleDownload = async () => {\r\n    try {\r\n      setOperationInProgress(\"folder\");\r\n      await zipMaker(data?.staticAssets, data?.fonts, data?.src);\r\n      setOperationInProgress(\"\");\r\n    } catch (err) {\r\n      setOperationInProgress(\"\");\r\n      enqueueSnackbar((err as Error)?.message, {\r\n        variant: 'error'\r\n      })\r\n    }\r\n  };\r\n\r\n  const handleEdit = async () => {\r\n    history.push({\r\n      pathname: `${url}/edit`,\r\n      state: {\r\n        isEdit: true,\r\n        video: data,\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      setOperationInProgress(\"delete\")\r\n      await reAuthInit()\r\n      await VideoTemplate.delete(id);\r\n      setOperationInProgress(\"\")\r\n    } catch (err) {\r\n      setOperationInProgress(\"\")\r\n      enqueueSnackbar(((err as Error)?.message || err) as string, {\r\n        variant: 'error'\r\n      })\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper style={{ minHeight: 300, width: '100%', padding: 15, }}>\r\n      {error\r\n        ? <Box style={{\r\n          width: '100%', display: 'flex',\r\n          minHeight: 300,\r\n          flexDirection: 'column',\r\n          alignItems: 'center', justifyContent: 'center'\r\n        }}>\r\n          <Text color=\"textSecondary\">{error?.message}</Text>\r\n          <Button onClick={init}\r\n            style={{ marginTop: 10 }}\r\n            children=\"retry\"\r\n            size=\"small\"\r\n            color=\"secondary\"\r\n            variant=\"outlined\" />\r\n        </Box>\r\n        : loading\r\n          ? <Box style={{\r\n            width: '100%', display: 'flex',\r\n            minHeight: 300,\r\n            alignItems: 'center', justifyContent: 'center'\r\n          }}>\r\n            <CircularProgress size={25} color=\"primary\" />\r\n          </Box>\r\n          : <>\r\n            <Box style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n              <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n                <SubHeading>{data?.title}</SubHeading>\r\n              </Box>\r\n              {isGuestTemplate ? <div /> : <Box style={{ display: 'flex', alignItems: 'center' }}>\r\n                {data?.type === 'ae' ? <Tooltip title=\"Download AEP File\">\r\n                  <IconButton disabled={operationInProgress == 'file'} href={data?.src}>\r\n                    {operationInProgress === 'file' ? <CircularProgress size={20} color=\"inherit\" /> : <Description />}\r\n                  </IconButton>\r\n                </Tooltip> : <div />}\r\n                <Tooltip title={operationInProgress === 'folder' ? \"Downloading, Please wait...\" : data?.type === \"remotion\" ? \"Download Template Bundle\" : \"Download Full Template\"}>\r\n                  <IconButton disabled={operationInProgress == 'folder'} onClick={handleDownload}>\r\n                    {operationInProgress === 'folder' ? <CircularProgress color=\"inherit\" size={20} /> : <Folder />}\r\n                  </IconButton>\r\n                </Tooltip>\r\n                <Tooltip title=\"Edit Video Template\">\r\n                  <IconButton onClick={handleEdit}>\r\n                    <Edit />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                {user?.role === \"admin\" ?\r\n                  <Tooltip title={operationInProgress === 'delete' ? \"Deleting Template\" : \"Delete Template\"}>\r\n                    <IconButton onClick={handleDelete}>\r\n                      {operationInProgress === 'delete' ? <CircularProgress color=\"inherit\" size={20} /> : <Delete />}\r\n                    </IconButton>\r\n                  </Tooltip> : <div />}\r\n              </Box>}\r\n            </Box>\r\n            <Divider style={{ marginTop: 8, marginBottom: 8 }} />\r\n            <Text color=\"textSecondary\">{data?.description || \"No Description added!\"}</Text>\r\n\r\n            <Text style={{ fontWeight: 600, marginTop: 10 }}>Versions</Text>\r\n            <Divider style={{ marginTop: 5, marginBottom: 5 }} />\r\n            <Box style={{\r\n              display: 'flex', flexWrap: 'wrap', alignItems: 'flex-start',\r\n              padding: 15, paddingLeft: 0,\r\n            }}>\r\n              {data?.versions?.map((version) => {\r\n                return <VideoTemplateCard isOwner={user?.uid === data?.idCreatedBy} price={pricing?.find(({ idVideoTemplate }) => idVideoTemplate === data?.id)} thumbnail={data?.thumbnail ?? \"\"} version={version} />\r\n              })}\r\n            </Box>\r\n            {isGuestTemplate ? <div /> : <><Text style={{ fontWeight: 600, }}>Status</Text>\r\n              <Divider style={{ marginTop: 5, marginBottom: 5 }} />\r\n              <Box style={{\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                alignItems: 'flex-start',\r\n                padding: 15, paddingLeft: 0,\r\n              }}>\r\n                <Chip\r\n                  size={\"small\"}\r\n                  label={data?.publishState?.toUpperCase() || \"\"}\r\n                  style={{\r\n                    background: getColorFromState(data?.publishState),\r\n                    color: \"white\",\r\n                    fontSize: 12,\r\n                    fontWeight: 500,\r\n                    fontFamily: 'Poppins',\r\n                    marginRight: 10,\r\n                  }}\r\n                />\r\n                {data?.rejectionReason && data?.publishState === 'rejected' ? <Box style={{ marginTop: 10 }}>\r\n                  <Text style={{ fontWeight: 600 }}>Reason</Text>\r\n                  <Text>{data?.rejectionReason}</Text>\r\n                </Box> : <div />}\r\n                {user?.role === \"user\" && (data?.publishState?.toLowerCase() === 'unpublished' || data?.publishState?.toLowerCase() === 'rejected')\r\n                  ? <Button\r\n                    onClick={toggleDialog}\r\n                    style={{ marginTop: 15 }}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    size=\"small\"\r\n                    children={user?.role === \"admin\" ? \"Review Template\" : data?.rejectionReason && data?.publishState === 'rejected'\r\n                      ? \"Re-Apply\"\r\n                      : \"Publish\"} /> : (user?.role === \"admin\" && data?.publishState?.toLowerCase() === \"pending\") ? <Button\r\n                        onClick={toggleDialog}\r\n                        style={{ marginTop: 15 }}\r\n                        color=\"primary\"\r\n                        variant=\"contained\"\r\n                        size=\"small\"\r\n                        children={\"Review Template\"} /> : <div />\r\n                }\r\n              </Box></>}\r\n          </>}\r\n      {isPublishDialogOpen ? <VideoTemplatePublishDialog\r\n        pricing={pricing}\r\n        data={data as VideoTemplate} handleClose={toggleDialog} onDone={(data) => {\r\n          toggleDialog()\r\n          setData(data)\r\n          enqueueSnackbar(`Template ${user?.role === \"admin\" && data?.publishState === \"rejected\" ? \"Rejected\" : \"Applied\"} successfully!`, {\r\n            variant: 'success'\r\n          })\r\n        }} /> : <div />}\r\n    </Paper>\r\n  );\r\n};\r\n\r\n// const getRenderCostForTemplate = (time, value) => {\r\n//   return (time / 60000) * value;\r\n// };\r\nconst getColorFromState = (state?: publishState) => {\r\n  switch (state) {\r\n    case \"rejected\":\r\n      return \"#f44336\";\r\n    case \"pending\":\r\n      return \"#ffa502\";\r\n    case \"published\":\r\n      return `#4caf50`;\r\n    default:\r\n      return \"grey\";\r\n  }\r\n};\r\n\r\nconst VideoTemplateCard = ({ version, thumbnail, price, isOwner }: {\r\n  isOwner: boolean,\r\n  version: VersionInterface,\r\n  thumbnail: string,\r\n  price?: Pricing\r\n}) => {\r\n  const classes = useStyles()\r\n  const { instances } = useConfig()\r\n  const instancePrice = instances.length ? parseFloat(instances[0]?.SpotPrice) / (60 * 60) : \"NA\"\r\n\r\n  const { getConvertedCurrency, getConvertedCurrencyValue } = useCurrency()\r\n  const [expanded, setExpanded] = useState<boolean>(false);\r\n  const handleExpandClick = () => {\r\n    setExpanded(!expanded);\r\n  };\r\n  const noOfImageInputs = version?.fields?.filter(({ type }) => type === 'image').length\r\n  const noOfTextInputs = version?.fields?.filter(({ type }) => (type === 'string' || type === 'data')).length\r\n  return <Card variant=\"outlined\" key={version.id}\r\n    style={{\r\n      maxWidth: 345,\r\n      width: '100%',\r\n      marginRight: 20, marginBottom: 20\r\n    }}\r\n  >\r\n    <video\r\n      height={150}\r\n      controls\r\n      width=\"100%\"\r\n      style={{ backgroundColor: '#000' }}\r\n      poster={thumbnail}\r\n      src={version?.sample} />\r\n    <CardContent>\r\n      <Text style={{ fontWeight: 600 }}>\r\n        {version.title}\r\n      </Text>\r\n      <SmallText color=\"textSecondary\" >\r\n        Contains {noOfTextInputs} Text fields and {noOfImageInputs} Image fields\r\n      </SmallText>\r\n    </CardContent>\r\n    <CardActions disableSpacing>\r\n      <Text style={{ fontWeight: 600 }}>Pricing</Text>\r\n      <IconButton\r\n        className={clsx(classes.expand, {\r\n          [classes.expandOpen]: expanded,\r\n        })}\r\n        onClick={handleExpandClick}\r\n        aria-expanded={expanded}\r\n        aria-label=\"show more\"\r\n      >\r\n        <ExpandMore />\r\n      </IconButton>\r\n    </CardActions>\r\n    <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\r\n      <AlertHandler style={{ borderRadius: 0, }} severity=\"info\" message=\"This is an approx estimation of cost of render and add-on actions, Render Cost will be calculated from time taken to render!\" />\r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell><b>Actions</b></TableCell>\r\n            <TableCell align=\"center\"><b>HD (Approx)</b></TableCell>\r\n            <TableCell align=\"center\"><b>Full HD (Approx)</b></TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {[\"render\", \"buzzle-action-watermark\", \"buzzle-action-merge-videos\", \"buzzle-action-add-audio\", \"buzzle-action-add-thumbnail\",\r\n            \"buzzle-action-video-orientation\"].map((action) => {\r\n              let half = price ? (price)?.half[action as Action]?.price || null : null\r\n              let full = price ? (price)?.full[action as Action]?.price || null : null\r\n              full = action === 'render' && !isOwner ? ((full || 0) as number) + (price?.loyaltyAmount || 0) : full\r\n              half = action === 'render' && !isOwner ? ((half || 0) as number) + (price?.loyaltyAmount || 0) : half\r\n              return (\r\n                <TableRow key={action}>\r\n                  <TableCell component=\"th\" scope=\"row\">\r\n                    {getNameFromActionText(action as Action)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{half\r\n                    ? getConvertedCurrency(half as number, true, false)\r\n                    : instancePrice !== \"NA\" ? `${getConvertedCurrency(instancePrice, true, false)}/sec` : \"NA\"}</TableCell>\r\n                  <TableCell align=\"center\">{full\r\n                    ? getConvertedCurrency(full as number, true, false)\r\n                    : instancePrice !== \"NA\" ? `${getConvertedCurrency(instancePrice, true, false)}/sec` : \"NA\"}</TableCell>\r\n                </TableRow>\r\n              )\r\n            })}\r\n        </TableBody>\r\n      </Table>\r\n    </Collapse>\r\n  </Card>\r\n}\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\n\r\nimport VideoTemplateForm from \"./VideoTemplateForm\";\r\nimport VideoTemplatesTable from \"./VideoTemplatesTable\";\r\nimport VideoTemplateDrafts from \"./VideoTemplateDrafts\";\r\nimport VideoTemplateDetails from \"./VideoTemplateDetails\";\r\nimport Page from \"common/Page\";\r\n\r\nexport default () => {\r\n  let { path } = useRouteMatch();\r\n\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/`} exact\r\n        render={props => (\r\n          <Page props={props} component={VideoTemplatesTable} title=\"Video Templates\" />\r\n        )} />\r\n      <Route path={`${path}/:type/add`}\r\n        render={props => (\r\n          <Page props={props} component={VideoTemplateForm} title=\"Create Video Template\" />\r\n        )} />\r\n      <Route path={`${path}/drafts`}\r\n        render={props => (\r\n          <Page props={props} component={VideoTemplateDrafts} title=\"Drafted Templates\" />\r\n        )} />\r\n      <Route path={`${path}/:uid/edit`}\r\n        render={props => {\r\n          return (\r\n            <Page props={props} component={VideoTemplateForm} title=\"Edit Video Template\" />\r\n          )\r\n        }} />\r\n      <Route path={`${path}/:id`}\r\n        render={props => (\r\n          <Page props={props} component={VideoTemplateDetails} title=\"Video Details\" />\r\n        )} />\r\n    </Switch>\r\n  );\r\n};\r\n","import {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport React from \"react\";\r\n\r\nexport default ({ title, handleClose, children, onSubmit }) => {\r\n    return (\r\n        <Dialog\r\n            fullWidth\r\n            open\r\n            onClose={handleClose}\r\n            aria-labelledby=\"form-dialog-title\">\r\n            <DialogTitle id=\"form-dialog-title\">{title}</DialogTitle>\r\n            <DialogContent children={children} />\r\n\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancel\r\n          </Button>\r\n                <Button\r\n                    variant=\"contained\"\r\n                    onClick={onSubmit}\r\n                    color=\"primary\"\r\n                    children={\"Save Action\"}\r\n                />\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n","import { Button, FormHelperText, Tooltip } from \"@material-ui/core\";\r\nimport { Close } from \"@material-ui/icons\";\r\nimport React, { useState } from \"react\";\r\nimport { upload } from \"services/awsService\";\r\n\r\n\r\nexport default ({ font, handleDelete, setFont }) => {\r\n  const [name, setName] = useState(\r\n    font?.name !== \"\" ? font?.name : \"No File Choosen\"\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  const [src, setSrc] = useState(Boolean(font?.src));\r\n  const [progress, setProgress] = useState(\"0%\");\r\n  const [error, setError] = useState(null);\r\n  const [taskController, setTaskController] = useState(null);\r\n  const handleFontUpload = async (e) => {\r\n    try {\r\n      const file =\r\n        (e?.target?.files ?? [null])[0] ||\r\n        (e?.dataTransfer?.files ?? [null])[0];\r\n      if (!file) return;\r\n      const temp = font?.name !== \"\" ? font?.name : file.name.split(\".\")[0];\r\n      setName(temp);\r\n      setLoading(true);\r\n      const task = upload(\r\n        `fonts/${Date.now()}${file.name.substr(file.name.lastIndexOf(\".\"))}`,\r\n        file\r\n      );\r\n      setTaskController(task);\r\n      task.on(\"httpUploadProgress\", ({ loaded, total }) =>\r\n        setProgress(`${parseInt((loaded * 100) / total)}%`)\r\n      );\r\n      let { Location: uri } = await task.promise();\r\nuri=uri.startsWith(\"http\")? uri : `https://${uri}`\r\n      setLoading(false);\r\n      setFont({ name: temp, src: uri });\r\n      setSrc(true);\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(err);\r\n    }\r\n  };\r\n  const handleUploadCancel = async () => {\r\n    try {\r\n      await taskController?.abort();\r\n    } catch (err) {\r\n      setLoading(false);\r\n      setError(err);\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        width: \"fit-content\",\r\n      }}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          marginTop: 4,\r\n          paddingLeft: 5,\r\n          paddingRight: 5,\r\n          background: \"lightgrey\",\r\n          alignItems: \"center\",\r\n        }}>\r\n        <label\r\n          style={{\r\n            padding: 5,\r\n            margin: 5,\r\n            marginTop: 0,\r\n            marginBottom: 0,\r\n            paddingTop: 0,\r\n            paddingBottom: 0,\r\n            background: \"white\",\r\n            border: \"1px solid grey\",\r\n            fontSize: \"13.3333px\",\r\n            fontFamily: \"Arial\",\r\n            borderRadius: 5,\r\n          }}>\r\n          {src ? \"Change Font\" : \"Upload Font\"}\r\n\r\n          <input\r\n            onClick={(event) => {\r\n              event.target.value = null;\r\n            }}\r\n            style={{ display: \"none\" }}\r\n            type=\"file\"\r\n            onChange={handleFontUpload}\r\n          />\r\n        </label>\r\n\r\n        <p\r\n          style={{\r\n            fontSize: 13,\r\n            marginLeft: 5,\r\n            marginRight: 5,\r\n            color: src ? \"#3742fa\" : \"black\",\r\n          }}>\r\n          <b>\r\n            {name} {loading && `(${progress})`}\r\n          </b>\r\n        </p>\r\n        {loading ? (\r\n          <>\r\n            <div\r\n              style={{\r\n                height: 13,\r\n                width: 80,\r\n                margin: 5,\r\n                marginTop: 0,\r\n                marginBottom: 0,\r\n                border: \"1px solid white\",\r\n                transition: \"background-color 0.5s ease\",\r\n                background: `linear-gradient(90deg, #3742fa ${progress}, #fff ${progress})`,\r\n              }}\r\n            />\r\n            <Button color=\"secondary\" size=\"small\" onClick={handleUploadCancel}>\r\n              cancel\r\n            </Button>\r\n          </>\r\n        ) : (\r\n          <Tooltip arrow={true} placement=\"right\" title=\"Remove Font\">\r\n            <Close\r\n              onClick={handleDelete}\r\n              align=\"right\"\r\n              style={{\r\n                margin: 5,\r\n                marginTop: 0,\r\n                marginBottom: 0,\r\n                color: \"grey\",\r\n              }}\r\n              fontSize=\"small\"\r\n            />\r\n          </Tooltip>\r\n        )}\r\n      </div>\r\n      {error && <FormHelperText error={true} children={error?.message} />}\r\n    </div>\r\n  );\r\n};\r\n","\r\n\r\n\r\nimport React, { useState } from \"react\";\r\nimport {\r\n    Button,\r\n    FormControl,\r\n    InputLabel,\r\n    Select,\r\n    MenuItem,\r\n} from \"@material-ui/core\";\r\nimport FontUploader from \"common/FontUploader\";\r\n\r\nexport default ({ initialValue, onSubmit, handleEdit }) => {\r\n    const actionName = Object.keys(initialValue)[0];\r\n    const actionValue = initialValue[actionName];\r\n    const [action, setAction] = useState(actionName);\r\n    const [fonts, setFonts] = useState(\r\n        actionName === \"installFonts\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-install-fonts\",\r\n                fonts: [{ name: \"\", src: \"\" }],\r\n            }\r\n    );\r\n    const renderFontInstall = () => (\r\n        <>\r\n            {fonts.fonts.map((font, index) => (\r\n                <FontUploader\r\n                    font={font}\r\n                    handleDelete={() => handleDelete(index)}\r\n                    setFont={(value) => handleFontInput(index, value)}\r\n                />\r\n            ))}\r\n        </>\r\n    );\r\n    const actions = {\r\n        installFonts: renderFontInstall(),\r\n    };\r\n    const handleAddFont = () => {\r\n        fonts.fonts.push({ name: \"\", src: \"\" });\r\n        setFonts({ ...fonts, fonts: fonts.fonts });\r\n        handleEdit({ installFonts: { ...fonts, fonts: fonts.fonts } });\r\n    };\r\n\r\n    const handleFontInput = (index, value) => {\r\n        fonts.fonts[index] = value;\r\n        setFonts({ ...fonts, fonts: fonts.fonts });\r\n        handleEdit({ installFonts: { ...fonts, fonts: fonts.fonts } });\r\n    };\r\n    const handleDelete = (index) => {\r\n        // delete the font\r\n        const temp = fonts.fonts.filter((font, i) => index !== i);\r\n        setFonts({ ...fonts, fonts: temp });\r\n        handleEdit({ installFonts: { ...fonts, fonts: temp } });\r\n    };\r\n    return (\r\n        <>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"property-select\">Action Name</InputLabel>\r\n                <Select\r\n                    labelId=\"property-select\"\r\n                    id=\"property-select\"\r\n                    onChange={(e) => setAction(e?.target?.value)}\r\n                    name=\"property\"\r\n                    value={actionName}\r\n                    placeholder=\"Select Action\"\r\n                    label=\"Action Name\">\r\n                    {Object.keys(actions).map((item, index) => (\r\n                        <MenuItem\r\n                            key={index}\r\n                            id={index}\r\n                            value={item}\r\n                            children={item}\r\n                            selected={actionName === item}\r\n                        />\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n            {action === \"installFonts\" && <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={handleAddFont}\r\n                children={\"Add Font\"}\r\n            />}\r\n            {actions[action]}\r\n        </>\r\n    );\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Typography,\r\n  IconButton,\r\n  ListItemSecondaryAction,\r\n  Paper,\r\n  Button,\r\n  RootRef,\r\n} from \"@material-ui/core\";\r\n\r\nimport { DragDropContext, Droppable, Draggable } from \"react-beautiful-dnd\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ActionDialog from \"./ActionDialog\";\r\nimport PreRender from \"./PreRender\";\r\nimport PostRender from \"./PostRender\";\r\n\r\nexport default ({ prerender = [], postrender = [], onSubmit }) => {\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [editIndex, setEditIndex] = useState(0);\r\n  const [actionType, setActionType] = useState(null);\r\n  const [initialValue, setInitialValue] = useState({});\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n\r\n  const [prerenderActions, setPrerenderActions] = useState(prerender);\r\n  const [postrenderActions, setPostrenderActions] = useState(postrender);\r\n\r\n  const onDragEndPrerender = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    setPrerenderActions(\r\n      reorder(prerenderActions, result.source.index, result.destination.index)\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleSubmit()\r\n  }, [postrenderActions, prerenderActions])\r\n\r\n  const handleSubmit = () => {\r\n    onSubmit({\r\n      prerender: prerenderActions.map(\r\n        (action, index) => Object.values(action)[0]\r\n      ),\r\n      postrender: postrenderActions.map(\r\n        (action, index) => Object.values(action)[0]\r\n      ),\r\n    });\r\n  };\r\n  const onDragEndPostrender = (result) => {\r\n    // dropped outside the list\r\n    if (!result.destination) {\r\n      return;\r\n    }\r\n    setPostrenderActions(\r\n      [...reorder(postrenderActions, result.source.index, result.destination.index)]\r\n    );\r\n  };\r\n  const handleActionSubmit = () => {\r\n    if (isEdit) {\r\n      switch (actionType) {\r\n        case \"prerender\":\r\n          prerenderActions[editIndex] = initialValue;\r\n          setPrerenderActions(prerenderActions);\r\n          handleSubmit();\r\n          handleClose();\r\n\r\n          break;\r\n        case \"postrender\":\r\n          postrenderActions[editIndex] = initialValue;\r\n          setPostrenderActions(postrenderActions);\r\n          handleSubmit();\r\n          handleClose();\r\n\r\n          break;\r\n\r\n        default:\r\n          break;\r\n      }\r\n    } else {\r\n      switch (actionType) {\r\n        case \"prerender\":\r\n          prerenderActions.push(initialValue);\r\n          setPrerenderActions(prerenderActions);\r\n          handleSubmit();\r\n          handleClose();\r\n\r\n          break;\r\n        case \"postrender\":\r\n          postrenderActions.push(initialValue);\r\n          setPrerenderActions(prerenderActions);\r\n          handleSubmit();\r\n          handleClose();\r\n\r\n          break;\r\n        default:\r\n          handleSubmit();\r\n          handleClose();\r\n          break;\r\n      }\r\n      // save initialValue as updated value\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setIsDialogOpen(false);\r\n    setActionType(null);\r\n    setInitialValue({});\r\n    setEditIndex(0);\r\n    setIsEdit(false);\r\n  };\r\n  const handleOpen = (type, value, index) => {\r\n    // set initial value\r\n    setEditIndex(index);\r\n    setIsEdit(true);\r\n    setActionType(type);\r\n    setInitialValue(value);\r\n    setIsDialogOpen(true);\r\n  };\r\n  const actions = {\r\n    postrender: (\r\n      <PostRender\r\n        initialValue={initialValue}\r\n        handleEdit={(obj) => setInitialValue(obj)}\r\n      />\r\n    ),\r\n    prerender: (\r\n      <PreRender\r\n        initialValue={initialValue}\r\n        handleEdit={(obj) => setInitialValue(obj)}\r\n      />\r\n    ),\r\n  };\r\n  return (\r\n    <Paper style={{ padding: 20 }}>\r\n      <Button\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          setIsDialogOpen(true);\r\n          setActionType(\"prerender\");\r\n        }}\r\n        variant=\"contained\"\r\n        children=\"Add Prerender Action\"\r\n      />\r\n      <DragDropContext onDragEnd={onDragEndPrerender}>\r\n        <Droppable droppableId=\"droppable\">\r\n          {(provided, snapshot) => (\r\n            <RootRef rootRef={provided.innerRef}>\r\n              <List style={getListStyle(snapshot.isDraggingOver)}>\r\n                {prerenderActions.length !== 0 ? (\r\n                  prerenderActions.map((item, index) => {\r\n                    const name = Object.keys(item)[0];\r\n                    return (\r\n                      <Draggable key={name} draggableId={name} index={index}>\r\n                        {(provided, snapshot) => (\r\n                          <Paper>\r\n                            <ListItem\r\n                              ContainerComponent=\"li\"\r\n                              ContainerProps={{ ref: provided.innerRef }}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                              style={getItemStyle(\r\n                                snapshot.isDragging,\r\n                                provided.draggableProps.style\r\n                              )}>\r\n                              <ListItemText\r\n                                primary={name}\r\n                                secondary={Object.keys(item[name])?.map(\r\n                                  (key, index) => (\r\n                                    <Typography>{`${[key]}: ${JSON.stringify(\r\n                                      item[name][key]\r\n                                    )}`}</Typography>\r\n                                  )\r\n                                )}\r\n                              />\r\n                              <ListItemSecondaryAction>\r\n                                <IconButton\r\n                                  onClick={() =>\r\n                                    handleOpen(\r\n                                      \"prerender\",\r\n                                      { [name]: item[name] },\r\n                                      index\r\n                                    )\r\n                                  }>\r\n                                  <EditIcon />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                  onClick={() => { setPrerenderActions(prerenderActions?.filter((item, i) => index !== i)) }\r\n                                  }>\r\n                                  <DeleteIcon />\r\n                                </IconButton>\r\n                              </ListItemSecondaryAction>\r\n                            </ListItem>\r\n                          </Paper>\r\n                        )}\r\n                      </Draggable>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <p>No Action</p>\r\n                )}\r\n                {provided.placeholder}\r\n              </List>\r\n            </RootRef>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      <Button\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          setActionType(\"postrender\");\r\n          setIsDialogOpen(true);\r\n        }}\r\n        variant=\"contained\"\r\n        children=\"Add Postrender Action\"\r\n      />\r\n      <DragDropContext onDragEnd={onDragEndPostrender}>\r\n        <Droppable droppableId=\"droppable\">\r\n          {(provided, snapshot) => (\r\n            <RootRef rootRef={provided.innerRef}>\r\n              <List style={getListStyle(snapshot.isDraggingOver)}>\r\n                {postrenderActions.length !== 0 ? (\r\n                  postrenderActions.map((item, index) => {\r\n                    const name = Object.keys(item)[0];\r\n                    return (\r\n                      <Draggable key={name} draggableId={name} index={index}>\r\n                        {(provided, snapshot) => (\r\n                          <Paper>\r\n                            <ListItem\r\n                              ContainerComponent=\"li\"\r\n                              ContainerProps={{ ref: provided.innerRef }}\r\n                              {...provided.draggableProps}\r\n                              {...provided.dragHandleProps}\r\n                              style={getItemStyle(\r\n                                snapshot.isDragging,\r\n                                provided.draggableProps.style\r\n                              )}>\r\n                              <ListItemText\r\n                                primary={name}\r\n                                secondary={Object.keys(item[name] || {})?.map(\r\n                                  (key, index) => (\r\n                                    <Typography>{`${[key]}: ${JSON.stringify(\r\n                                      item[name][key] || {}\r\n                                    )}`}</Typography>\r\n                                  )\r\n                                )}\r\n                              />\r\n                              <ListItemSecondaryAction>\r\n                                <IconButton\r\n                                  onClick={() =>\r\n                                    handleOpen(\r\n                                      \"postrender\",\r\n                                      { [name]: item[name] },\r\n                                      index\r\n                                    )\r\n                                  }>\r\n                                  <EditIcon />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                  onClick={() => { setPostrenderActions(postrenderActions?.filter((item, i) => index !== i)) }\r\n                                  }>\r\n                                  <DeleteIcon />\r\n                                </IconButton>\r\n                              </ListItemSecondaryAction>\r\n                            </ListItem>\r\n                          </Paper>\r\n                        )}\r\n                      </Draggable>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <p>No Action</p>\r\n                )}\r\n                {provided.placeholder}\r\n              </List>\r\n            </RootRef>\r\n          )}\r\n        </Droppable>\r\n      </DragDropContext>\r\n      {isDialogOpen && (\r\n        <ActionDialog\r\n          children={actions[actionType]}\r\n          title={\r\n            actionType === \"postrender\"\r\n              ? \"Post Render Action\"\r\n              : \"Pre Render Action\"\r\n          }\r\n          handleClose={handleClose}\r\n          onSubmit={handleActionSubmit}\r\n        />\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\n// a little function to help us with reordering the result\r\nconst reorder = (listArray, sourceIndex, targetIndex) => {\r\n  const temp = listArray[sourceIndex];\r\n  listArray[sourceIndex] = listArray[targetIndex];\r\n  listArray[targetIndex] = temp;\r\n  return listArray;\r\n};\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n  // styles we need to apply on draggables\r\n  ...draggableStyle,\r\n  ...(isDragging && {\r\n    background: \"rgb(235,235,235)\",\r\n  }),\r\n});\r\n\r\nconst getListStyle = () => ({\r\n  //background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n});\r\n","import React, { createRef, useEffect, useState } from \"react\";\r\nimport {\r\n  RadioGroup,\r\n  FormControl,\r\n  FormControlLabel,\r\n  Radio,\r\n  TextField, Button\r\n} from \"@material-ui/core\";\r\nimport FileUploader from \"common/FileUploader\";\r\nimport Jimp from 'jimp/es';\r\nconst imageEditComponent = {\r\n  image: function (\r\n    value,\r\n    onChange,\r\n    uploadDirectory,\r\n    onError,\r\n    key,\r\n    height,\r\n    width,\r\n    isValid,\r\n\r\n  ) {\r\n    return (\r\n      <FileUploader\r\n        value={value}\r\n        cropEnabled={true}\r\n        height={height}\r\n        width={width}\r\n        onChange={onChange}\r\n        uploadDirectory={\"jobImages\"}\r\n        onError={null}\r\n        error={isValid ? null : \"Invalid image/format\"}\r\n        name={key}\r\n      />\r\n    );\r\n  },\r\n  text: function (value, onChange) {\r\n    return (\r\n      <TextField\r\n        fullWidth\r\n        value={value}\r\n        onChange={(e) => onChange(e?.target?.value)}\r\n      />\r\n    );\r\n  },\r\n};\r\nexport default ({ onChange, value, height, width, extension = 'png', name = `${Date.now()}` }) => {\r\n  const [imageEditType, setImageEditType] = useState(\"image\");\r\n  const [isValid, setIsValid] = useState(value.split(\".\").pop() === extension)\r\n  const [isConverting, setIsConverting] = useState(false)\r\n  const ref = createRef()\r\n  const handleChange = (v) => {\r\n    setIsValid(v.split(\".\").pop() === extension)\r\n    onChange(v)\r\n  }\r\n  const handleConvert = async () => {\r\n    if (ref?.current) {\r\n      setIsConverting(true)\r\n      let image = await Jimp.read(value)\r\n      image = await image.quality(extension === 'png' ? 5 : 20).getBufferAsync(extension === 'png' ? Jimp.MIME_PNG : Jimp.MIME_JPEG)\r\n      setIsConverting(false)\r\n      setIsValid(true)\r\n      await ref?.current?.handleUpload(image, extension)\r\n    }\r\n  }\r\n  useEffect(() => {\r\n  }, [ref])\r\n  return (\r\n    <>\r\n      {/* <FormControl component=\"fieldset\">\r\n        <RadioGroup\r\n          value={imageEditType}\r\n          onChange={(e) => setImageEditType(e.target.value)}\r\n          row>\r\n          <FormControlLabel\r\n            value=\"image\"\r\n            control={<Radio />}\r\n            label=\"Image\"\r\n            labelPlacement=\"end\"\r\n          />\r\n          <FormControlLabel\r\n            value=\"text\"\r\n            control={<Radio />}\r\n            label=\"URL\"\r\n            labelPlacement=\"end\"\r\n          />\r\n        </RadioGroup>\r\n      </FormControl> \r\n       {imageEditComponent[imageEditType](\r\n        value,\r\n        onChange,\r\n        \"jobImages\",\r\n        null,\r\n        Date.now(),\r\n        height,\r\n        width, isValid\r\n      )}\r\n      */}\r\n      <FileUploader\r\n        ref={ref}\r\n        label={\"Image\"}\r\n        value={value}\r\n        extension={extension}\r\n        helperText=\"\"\r\n        storageType=\"deleteAfter90Days\"\r\n        cropEnabled={true}\r\n        height={height}\r\n        width={width}\r\n        accept={`image/${extension}`}\r\n        onChange={handleChange}\r\n        uploadDirectory={\"jobImages\"}\r\n        error={isValid ? undefined : new Error(\"Invalid image/format\")}\r\n        name={name}\r\n      />\r\n      {!isValid && <div style={{ marginTop: 5 }}>\r\n        <Button\r\n          children={isConverting ? 'converting...' : `Convert to ${extension}`}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          disabled={isConverting}\r\n          onClick={handleConvert}\r\n        />\r\n      </div>}\r\n    </>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { TextField } from \"@material-ui/core\";\r\n\r\nexport default ({ maxLength, value, onChange, }) => {\r\n  const [charsLeft, setCharsLeft] = useState(maxLength - value.length);\r\n  const isValid = value.length <= maxLength\r\n  const handleChangeInput = (e) => {\r\n    console.log(e.target.value);\r\n    var input = e.target.value;\r\n    onChange(e.target.value);\r\n    setCharsLeft(maxLength - input.length);\r\n  };\r\n  return (\r\n    <div>\r\n      <TextField\r\n        error={!isValid}\r\n        helperText={!isValid && 'Invalid value'}\r\n        fullWidth\r\n        value={value}\r\n        onChange={(e) => handleChangeInput(e)}\r\n      />\r\n      <text>{maxLength - charsLeft + \" / \" + maxLength}</text>\r\n    </div>\r\n  );\r\n};\r\n","\r\nimport React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Box,\r\n    Typography,\r\n} from \"@material-ui/core\";\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nexport default ({ logs: data }) => {\r\n    const [loading, setLoading] = useState(true)\r\n    const [logs, setLogs] = useState(data)\r\n    useEffect(() => {\r\n        Promise.all(data.map(async l => ({ ...l, text: await getFileText(l?.text) })))\r\n            .then((d) => setLogs(d))\r\n            .catch((err) => console.log(err)).finally(() => setLoading(false))\r\n    }, [data])\r\n    const getFileText = async (url) => {\r\n        return (await (await fetch(url))?.text())\r\n    }\r\n    const logColors = {\r\n        warning: \"yellow\",\r\n        info: \"#fff\",\r\n        error: \"red\",\r\n\r\n    }\r\n    return <Box display=\"flex\" flexDirection=\"column\" px={8}>\r\n        {/* <h1>Logs here.</h1> */}\r\n        {loading ? <p>loading...</p> : logs?.map((l, i) => (\r\n            <Accordion key={i}>\r\n                <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\">\r\n                    <Typography>{l.label.toUpperCase()}</Typography>\r\n                    <Typography color=\"textSecondary\" style={{ marginLeft: 30 }}>\r\n                        {new Date(l?.updatedAt).toLocaleString()}\r\n                    </Typography>\r\n                    <Typography color=\"textSecondary\" style={{ marginLeft: 30 }}>\r\n                        Instance Id: {l?.rendererInstance?.instanceId}, IPV4: {l?.rendererInstance?.ipv4}\r\n                    </Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <div\r\n                        style={{\r\n                            display: \"flex\",\r\n                            backgroundColor: \"black\", paddingBottom: 100, padding: 10, flexDirection: 'column', width: '100%',\r\n                        }}>\r\n                        {l.label === 'console' ?\r\n                            <>\r\n                                {JSON.parse(l?.text)?.map(({ line, data, level, timestamp = new Date().toLocaleString() }) =>\r\n                                    <Box style={{ display: 'flex' }}>\r\n                                        <code\r\n                                            style={{\r\n                                                \"white-space\": \"pre-line\",\r\n                                                fontSize: 14,\r\n                                                fontFamily: \"monospace\",\r\n                                                fontWeight: 600, color: '#fff',\r\n                                                paddingRight: 10,\r\n                                                textAlign: 'right',\r\n                                                minWidth: 40,\r\n                                                \"border-right\": \"0.2px solid #fff\"\r\n                                            }}>\r\n                                            {`${line}`}\r\n                                        </code>\r\n                                        <code\r\n                                            style={{\r\n                                                \"white-space\": \"pre-line\",\r\n                                                paddingLeft: 35,\r\n                                                fontSize: 14,\r\n                                                fontFamily: \"monospace\",\r\n                                                fontWeight: 600, color: logColors[level]\r\n                                            }}>\r\n                                            {timestamp}: {data?.toString()?.replace(/,/g, \"\\n\")}\r\n                                        </code>\r\n                                    </Box>)}\r\n                            </>\r\n                            : <code style={{\r\n                                \"white-space\": \"pre-line\",\r\n                                paddingLeft: 35,\r\n                                fontSize: 14,\r\n                                fontFamily: \"monospace\",\r\n                                fontWeight: 600, color: '#fff'\r\n                            }}>\r\n                                {l.text}\r\n                            </code>}\r\n                    </div>\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        ))}\r\n    </Box>\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect, useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport {\r\n  AppBar,\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  FormControl,\r\n  Grid,\r\n  IconButton,\r\n  InputLabel,\r\n  MenuItem,\r\n  Paper,\r\n  Select,\r\n  Chip,\r\n  Tab,\r\n  Tabs,\r\n  Tooltip,\r\n  Fade,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport AddBoxIcon from \"@material-ui/icons/AddBox\";\r\nimport HdIcon from \"@material-ui/icons/Hd\";\r\nimport UpdateIcon from \"@material-ui/icons/Update\";\r\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\r\nimport PublishIcon from \"@material-ui/icons/Publish\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Timeline from \"@material-ui/lab/Timeline\";\r\nimport TimelineItem from \"@material-ui/lab/TimelineItem\";\r\nimport TimelineSeparator from \"@material-ui/lab/TimelineSeparator\";\r\nimport TimelineConnector from \"@material-ui/lab/TimelineConnector\";\r\nimport TimelineContent from \"@material-ui/lab/TimelineContent\";\r\nimport TimelineDot from \"@material-ui/lab/TimelineDot\";\r\nimport TimelineOppositeContent from \"@material-ui/lab/TimelineOppositeContent\";\r\nimport MaterialTable from \"material-table\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\nimport formatTime from \"helpers/formatTime\";\r\n\r\nimport ActionsHandler from \"./ActionsHandler\";\r\nimport AlertHandler from \"common/AlertHandler\";\r\nimport ImageEditRow from \"./ImageEditRow\";\r\nimport TextEditRow from \"./TextEditRow\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport { useAPI } from \"services/APIContext\";\r\nimport LogsTab from \"./LogsTab\";\r\nimport FileUploader from \"common/FileUploader\";\r\nimport { useConfig } from \"services/RemoteConfigContext\";\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box p={3}>\r\n          <Typography>{children}</Typography>\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  button: {\r\n    marginRight: 20,\r\n  },\r\n  container: {\r\n    padding: theme.spacing(0),\r\n    position: \"relative\",\r\n  },\r\n  refreshIcon: {\r\n    position: \"absolute\",\r\n    top: 16,\r\n    right: 16,\r\n  },\r\n  loading: {\r\n    height: 400,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  loadingText: {\r\n    marginTop: 20,\r\n  },\r\n}));\r\n\r\nexport default () => {\r\n  const { Job } = useAPI()\r\n  const { socketURL } = useConfig()\r\n  const [job, setJob] = useState({});\r\n  const [error, setError] = useState(false);\r\n  const [open, setOpen] = useState(false);\r\n  const [socket, setSocket] = useState(null);\r\n  const [redirect, setRedirect] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeTabIndex, setActiveTabIndex] = useState(0);\r\n  const [progress, setProgress] = useState({});\r\n  const [selectedOutputIndex, setSelectedOutputIndex] = useState(0);\r\n\r\n  const { id } = useParams();\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  // fetch job on init\r\n  useEffect(() => {\r\n    fetchJob();\r\n  }, []);\r\n\r\n  // rerender on output select\r\n  useEffect(() => { }, [selectedOutputIndex]);\r\n\r\n  // init socket on mount\r\n  useEffect(() => {\r\n    setSocket(io.connect(socketURL || process.env.REACT_APP_SOCKET_SERVER_URL), {\r\n      withCredentials: true,\r\n    });\r\n  }, []);\r\n\r\n  function subscribeToProgress(jobId) {\r\n    if (!socket) return;\r\n    socket.on(\r\n      \"job-progress\",\r\n      ({ id, state, progress, server }) =>\r\n        jobId === id && setProgress({ id, state, progress, server })\r\n    );\r\n  }\r\n\r\n  function unsubscribeFromProgress() {\r\n    if (!socket) return;\r\n    socket.off(id);\r\n  }\r\n\r\n  useEffect(() => {\r\n    subscribeToProgress(id);\r\n    return () => {\r\n      unsubscribeFromProgress();\r\n    };\r\n  }, [id, socket]);\r\n\r\n  const fetchJob = async () => {\r\n    try {\r\n      setError(false);\r\n      setIsLoading(true);\r\n      setJob(await Job.get(id, \"fields=idVideoTemplate videoTemplate\"));\r\n      setIsLoading(false);\r\n    } catch (err) {\r\n      setError(err);\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n\r\n  const handleUpdateJob = async () => {\r\n    try {\r\n      const { data, actions, id, renderPrefs } = job;\r\n      setIsLoading(true);\r\n      await Job.update(id, { data, actions, renderPrefs }, { noMessage: true });\r\n      setIsLoading(false);\r\n      setRedirect(\"/home/jobs\");\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  const handleDeleteJob = async () => {\r\n    try {\r\n      const { id } = job;\r\n      setIsLoading(true);\r\n      await Job.delete(id);\r\n      setIsLoading(false);\r\n      setRedirect(\"/home/jobs\");\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err);\r\n    }\r\n  };\r\n\r\n  const progressShow = (failureReason, state, percent) => {\r\n    return (\r\n      <Tooltip\r\n        TransitionComponent={Fade}\r\n        title={\r\n          state === \"error\"\r\n            ? failureReason\r\n              ? failureReason\r\n              : \"Reason not given\"\r\n            : \"finished/inProgress\"\r\n        }\r\n      >\r\n        <Chip\r\n          size=\"small\"\r\n          label={`${state}${percent ? \" \" + percent + \"%\" : \"\"}`}\r\n          style={{\r\n            transition: \"background-color 0.5s ease\",\r\n            fontWeight: 700,\r\n            background: getColorFromState(state, percent),\r\n            color: \"white\",\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        />\r\n      </Tooltip>\r\n    );\r\n  };\r\n\r\n  const {\r\n    output = [],\r\n    state,\r\n    actions,\r\n    data,\r\n    renderTime,\r\n    queueTime,\r\n    dateCreated,\r\n    dateFinished,\r\n    renderPrefs = {},\r\n    dateStarted,\r\n    failureReason,\r\n    timeline = [],\r\n  } = job;\r\n  const sortedOutput = output?.sort(\r\n    (a, b) => new Date(b?.dateCreated) - new Date(a?.dateCreated)\r\n  );\r\n  useEffect(() => {\r\n    if (\r\n      progress?.state?.toLowerCase() === \"finished\" &&\r\n      state?.toLowerCase() !== \"finished\"\r\n    ) {\r\n      fetchJob();\r\n    }\r\n  }, [progress?.state, state]);\r\n\r\n  const content = {\r\n    \"Job ID\": id,\r\n    State: progressShow(\r\n      failureReason,\r\n      progress?.state ?? state,\r\n      progress?.progress\r\n    ),\r\n    \"Render Time\": formatTime(renderTime),\r\n    \"Queue Time\": formatTime(queueTime),\r\n    \"Created at\": new Date(dateCreated).toLocaleString(),\r\n    \"Started at\": [\"created\", \"error\"].includes(state)\r\n      ? \"---\"\r\n      : new Date(dateStarted).toLocaleString(),\r\n    \"Finished at\":\r\n      state === \"finished\" ? new Date(dateFinished).toLocaleString() : \"---\",\r\n  };\r\n\r\n  const handleUpdateAsset = async (index, key, value) => {\r\n    const idArray = Object.keys(data);\r\n    job.data[idArray[index]] = value;\r\n    setJob({ ...job, data: job.data });\r\n  };\r\n  const renderJobInHd = async () => {\r\n    try {\r\n      if (\r\n        actions?.postrender?.find(\r\n          ({ module }) =>\r\n            module === \"buzzle-action-merge-videos\" ||\r\n            module === \"action-merge-videos\"\r\n        )\r\n      ) {\r\n        return alert(\"This Job has merge video action!, Request failed\");\r\n      }\r\n      const { data, actions, id } = job;\r\n      setIsLoading(true);\r\n      await Job.update(id, {\r\n        data,\r\n        actions,\r\n        state: \"created\",\r\n        renderPrefs: { settingsTemplate: \"full\" },\r\n        extra: {\r\n          forceRerender: true,\r\n        },\r\n      });\r\n      setIsLoading(false);\r\n      setRedirect(\"/home/jobs\");\r\n    } catch (err) {\r\n      setIsLoading(false);\r\n      setError(err);\r\n    }\r\n  };\r\n  const handleAssetDelete = async (index) => {\r\n    const idArray = Object.keys(data);\r\n    delete job.data[idArray[index]];\r\n    setJob({ ...job, data: job.data });\r\n  };\r\n\r\n  if (redirect) {\r\n    return <Redirect to=\"/home/jobs\" />;\r\n  }\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper className={classes.loading}>\r\n        <CircularProgress />\r\n        <Typography className={classes.loadingText}>Loading...</Typography>\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {error && (\r\n        <AlertHandler\r\n          message={error?.message ?? \"Somethings went wrong!\"}\r\n          showRetry={true}\r\n          onRetry={() =>\r\n            Object.keys(job).length ? handleUpdateJob() : fetchJob()\r\n          }\r\n        />\r\n      )}\r\n      <div className={classes.root}>\r\n        {/* actions bar  */}\r\n        <Box display=\"flex\">\r\n          <Box p={1} justifyItems=\"stretch\" alignItems=\"right\" flex={1}>\r\n            <Button\r\n              className={classes.button}\r\n              disabled={isLoading}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={handleUpdateJob}\r\n              children=\"Update Job\"\r\n              startIcon={<PublishIcon />}\r\n            />\r\n            <Button\r\n              disabled={isLoading}\r\n              color=\"white\"\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              onClick={async () => {\r\n                try {\r\n                  await Job.update(id, {\r\n                    state: \"created\",\r\n                    data,\r\n                    actions,\r\n                    renderPrefs,\r\n                    extra: {\r\n                      forceRerender: true,\r\n                    },\r\n                  });\r\n                  history.push(\"/home/jobs\");\r\n                } catch (err) {\r\n                  setError(err);\r\n                }\r\n              }}\r\n              children=\"Restart Job\"\r\n              startIcon={<UpdateIcon />}\r\n            />\r\n            <Button\r\n              disabled={isLoading}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.button}\r\n              onClick={async () => {\r\n                try {\r\n                  await Job.update(\r\n                    id,\r\n                    {\r\n                      state: \"created\",\r\n                      data,\r\n                      actions,\r\n                      renderPrefs,\r\n                    },\r\n                    { priority: 5 }\r\n                  );\r\n                  history.push(\"/home/jobs\");\r\n                } catch (err) {\r\n                  setError(err);\r\n                }\r\n              }}\r\n              children=\"Update & Restart (Priority)\"\r\n              startIcon={<UpdateIcon />}\r\n            />\r\n          </Box>\r\n          <Box>\r\n            <Select\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              className={classes.button}\r\n              value={selectedOutputIndex}\r\n              autoWidth\r\n              onChange={(e) => {\r\n                setSelectedOutputIndex(e.target.value);\r\n              }}\r\n            >\r\n              {sortedOutput?.map((o, i) => (\r\n                <MenuItem key={i} value={i}>\r\n                  {o.label}\r\n                  <Typography\r\n                    style={{ marginLeft: 10 }}\r\n                    component=\"span\"\r\n                    variant=\"body2\"\r\n                    color=\"textSecondary\"\r\n                  >\r\n                    {new Date(o.dateCreated).toLocaleString()}\r\n                  </Typography>\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n            <IconButton\r\n              onClick={handleDeleteJob}\r\n              aria-label=\"delete\"\r\n              className={classes.margin}\r\n            >\r\n              <DeleteIcon fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <IconButton\r\n              onClick={renderJobInHd}\r\n              aria-label=\"delete\"\r\n              className={classes.margin}\r\n            >\r\n              <HdIcon fontSize=\"inherit\" />\r\n            </IconButton>\r\n            <IconButton\r\n              aria-label=\"download\"\r\n              className={classes.margin}\r\n              onClick={() =>\r\n                window.open(\r\n                  sortedOutput?.length && sortedOutput[selectedOutputIndex]?.src\r\n                )\r\n              }\r\n            >\r\n              <DownloadIcon fontSize=\"inherit\" />\r\n            </IconButton>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* output */}\r\n        <Paper>\r\n          {state === \"finished\" ? (\r\n            <video\r\n              poster={job?.videoTemplate?.thumbnail}\r\n              style={{ height: 320, width: \"100%\" }}\r\n              controls\r\n              src={sortedOutput.length && sortedOutput[selectedOutputIndex].src}\r\n            />\r\n          ) : (\r\n            <>\r\n              <Box justifyContent=\"center\" textAlign=\"center\" height={320}>\r\n                <Typography style={{ padding: 100 }}>\r\n                  {\" \"}\r\n                  No output yet.\r\n                </Typography>\r\n              </Box>\r\n              <Divider />\r\n            </>\r\n          )}\r\n          <AppBar position=\"static\" color=\"transparent\" elevation={0}>\r\n            <Tabs\r\n              value={activeTabIndex}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              centered\r\n              onChange={(_, i) => setActiveTabIndex(i)}\r\n              aria-label=\"simple tabs example\"\r\n            >\r\n              <Tab label=\"Output\" {...a11yProps(0)} />\r\n              <Tab label=\"Data\" {...a11yProps(1)} />\r\n              <Tab label=\"Actions\" {...a11yProps(2)} />\r\n              <Tab label=\"Render Prefs\" {...a11yProps(3)} />\r\n              <Tab label=\"Logs\" {...a11yProps(3)} />\r\n            </Tabs>\r\n          </AppBar>\r\n\r\n          {/* Details tab */}\r\n          <TabPanel value={activeTabIndex} index={0}>\r\n            <Grid xs={12} item>\r\n              <Box p={2}>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => setOpen(true)}\r\n                  startIcon={<AddBoxIcon />}\r\n                  style={{ marginBottom: 10 }}\r\n                >\r\n                  Add Output\r\n                </Button>\r\n                <Dialog onClose={() => setOpen(false)} open={open}>\r\n                  <div style={{ margin: 10 }}>\r\n                    <DialogTitle>Add output</DialogTitle>\r\n                    <FileUploader\r\n                      name={\"watermarkFile\"}\r\n                      value={\"\"}\r\n                      storageType=\"deleteAfter90Days\"\r\n                      onError={(e) => console.log(e.message)}\r\n                      onChange={(src) => {\r\n                        job.output = [\r\n                          ...job.output,\r\n                          {\r\n                            label: \"Added Manually\",\r\n                            updatedAt: new Date().toISOString(),\r\n                            dateCreated: new Date().toISOString(),\r\n                            src,\r\n                          },\r\n                        ];\r\n                        setJob(job);\r\n                      }}\r\n                      accept={\"video/*\"}\r\n                      uploadDirectory={\"outputs\"}\r\n                      label=\"Add output\"\r\n                      onTouched={() => console.log(\"Pressed\")}\r\n                      error={false}\r\n                      helperText={\"This will append new output to this job\"}\r\n                    />\r\n                  </div>\r\n                </Dialog>\r\n                <Typography variant=\"h5\">Details</Typography>\r\n                <br />\r\n\r\n                {Object.keys(content).map((k) => (\r\n                  <Grid key={k} container direction={\"row\"} spacing={1}>\r\n                    <Grid xs={6} item>\r\n                      <Typography> {k}</Typography>\r\n                    </Grid>\r\n                    <Grid xs={6} item>\r\n                      <Typography> {content[k]}</Typography>\r\n                    </Grid>\r\n                  </Grid>\r\n                ))}\r\n\r\n                <Accordion style={{ marginTop: 20 }}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                    id=\"panel1a-header\"\r\n                  >\r\n                    <Typography>Render Timeline</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Timeline align=\"alternate\">\r\n                      {timeline.length ? (\r\n                        timeline.map(({ state, startsAt, endsAt }, index) => (\r\n                          <TimelineItem>\r\n                            {index !== 0 && timeline?.length - 1 !== index && (\r\n                              <TimelineOppositeContent>\r\n                                <Typography color=\"textSecondary\">\r\n                                  {((endsAt - startsAt) / 1000).toFixed(2)} secs\r\n                                </Typography>\r\n                              </TimelineOppositeContent>\r\n                            )}\r\n                            <TimelineSeparator>\r\n                              <TimelineDot\r\n                                style={{\r\n                                  backgroundColor:\r\n                                    index === 0\r\n                                      ? \"#ffa117\"\r\n                                      : index !== timeline?.length - 1\r\n                                        ? \"#35a0f4\"\r\n                                        : \"#65ba68\",\r\n                                }}\r\n                              />\r\n                              {timeline?.length - 1 !== index && (\r\n                                <TimelineConnector />\r\n                              )}\r\n                            </TimelineSeparator>\r\n                            <TimelineContent>\r\n                              <span>{state}</span>\r\n                            </TimelineContent>\r\n                          </TimelineItem>\r\n                        ))\r\n                      ) : (\r\n                        <Typography>Not Available</Typography>\r\n                      )}\r\n                    </Timeline>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              </Box>\r\n            </Grid>\r\n          </TabPanel>\r\n\r\n          {/* data tab  */}\r\n          <TabPanel value={activeTabIndex} index={1}>\r\n            <MaterialTable\r\n              style={{ boxShadow: \"none\" }}\r\n              options={{\r\n                pageSize: 30,\r\n                headerStyle: { fontWeight: 700 },\r\n                actionsColumnIndex: -1,\r\n              }}\r\n              editable={{\r\n                onRowUpdate: async (newData, oldData) => {\r\n                  return await handleUpdateAsset(\r\n                    oldData.tableData.id,\r\n                    newData.key,\r\n                    newData.value\r\n                  );\r\n                },\r\n                onRowDelete: async (oldData) => {\r\n                  return await handleAssetDelete(oldData.tableData.id);\r\n                },\r\n              }}\r\n              columns={[\r\n                {\r\n                  title: \"Label\",\r\n                  render: ({ key }) => {\r\n                    const version = job?.videoTemplate?.versions.find(\r\n                      (v) => v?.id === job?.idVersion\r\n                    );\r\n                    const field = version?.fields?.find((f) => f?.key === key);\r\n                    return <span>{field?.label}</span>;\r\n                  },\r\n                  editable: \"never\",\r\n                },\r\n                {\r\n                  title: \"Type\",\r\n                  render: ({ value }) => {\r\n                    return (\r\n                      <span>\r\n                        {value.startsWith(\"http://\") ||\r\n                          value.startsWith(\"https://\")\r\n                          ? \"image\"\r\n                          : \"string\"}\r\n                      </span>\r\n                    );\r\n                  },\r\n                  editable: \"never\",\r\n                },\r\n                {\r\n                  title: \"valid length/format\",\r\n                  render: ({ value, key }) => {\r\n                    const version = job.videoTemplate.versions.find(\r\n                      (v) => v.id === job.idVersion\r\n                    );\r\n                    const v = value.startsWith(\"http\")\r\n                      ? version.fields.find((f) => f.key === key)?.rendererData\r\n                        ?.extension ?? \"png\"\r\n                      : version.fields.find((f) => f.key === key)?.constraints\r\n                        ?.maxLength;\r\n                    return <span>{v}</span>;\r\n                  },\r\n                  editable: \"never\",\r\n                },\r\n                {\r\n                  title: \"Value\",\r\n                  field: \"value\",\r\n                  render: ({ value, key }) => {\r\n                    const version = job.videoTemplate.versions.find(\r\n                      (v) => v.id === job.idVersion\r\n                    );\r\n                    const isValid = value.startsWith(\"http\")\r\n                      ? value.split(\".\").pop() ===\r\n                      (version.fields.find((f) => f.key === key)?.rendererData\r\n                        ?.extension ?? \"png\")\r\n                      : value.length <=\r\n                      version.fields.find((f) => f.key === key)?.constraints\r\n                        ?.maxLength;\r\n                    return (\r\n                      <Typography color={isValid ? \"textPrimary\" : \"secondary\"}>\r\n                        {value}\r\n                      </Typography>\r\n                    );\r\n                  },\r\n                  editComponent: ({\r\n                    rowData: { key, constraints },\r\n                    onChange,\r\n                    value,\r\n                  }) => {\r\n                    const version = job.videoTemplate.versions.find(\r\n                      (v) => v.id === job.idVersion\r\n                    );\r\n                    const {\r\n                      constraints: { height = 100, width = 100, maxLength },\r\n                      rendererData: { extension = \"png\" },\r\n                    } = version.fields.find((f) => f.key === key);\r\n                    if (\r\n                      value?.startsWith(\"http://\") ||\r\n                      value?.startsWith(\"https://\")\r\n                    ) {\r\n                      return (\r\n                        <ImageEditRow\r\n                          name={key}\r\n                          value={value}\r\n                          extension={extension}\r\n                          onChange={onChange}\r\n                          height={height}\r\n                          width={width}\r\n                        />\r\n                      );\r\n                    } else {\r\n                      return (\r\n                        <TextEditRow\r\n                          maxLength={maxLength}\r\n                          value={value}\r\n                          onChange={onChange}\r\n                        ></TextEditRow>\r\n                      );\r\n                    }\r\n                  },\r\n                },\r\n              ]}\r\n              data={Object.keys(data || {}).map((key) => ({\r\n                key,\r\n                value: data[key],\r\n              }))}\r\n              title=\"Data\"\r\n            />\r\n          </TabPanel>\r\n\r\n          {/* actions tab  */}\r\n          <TabPanel value={activeTabIndex} index={2}>\r\n            <ActionsHandler\r\n              onSubmit={(actions) => setJob({ ...job, actions })}\r\n              // set the key\r\n              prerender={\r\n                actions?.prerender?.map((action) => ({\r\n                  installFonts: action,\r\n                })) ?? []\r\n              }\r\n              // set the key to every acrtion\r\n              postrender={\r\n                actions?.postrender?.map((action) => {\r\n                  switch (action.module) {\r\n                    case \"buzzle-action-handbrake\":\r\n                      return { compress: action };\r\n                    case \"buzzle-action-watermark\":\r\n                      return { addWatermark: action };\r\n                    case \"buzzle-action-add-thumbnail\":\r\n                      return { addThumbnail: action };\r\n                    case \"buzzle-action-upload\":\r\n                      return { upload: action };\r\n                    case \"buzzle-action-add-audio\":\r\n                      return { addAudio: action };\r\n                    case \"buzzle-action-merge-videos\":\r\n                      return { mergeVideos: action };\r\n                    case \"buzzle-action-video-orientation\":\r\n                      return { rotateAction: action };\r\n                    default:\r\n                      return {};\r\n                  }\r\n                }) ?? []\r\n              }\r\n            />\r\n          </TabPanel>\r\n\r\n          {/* render settings tab */}\r\n          <TabPanel value={activeTabIndex} index={3}>\r\n            <Box display=\"flex\" flexDirection=\"column\" px={8}>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"settingsTemplate\">\r\n                  Settings Template\r\n                </InputLabel>\r\n                <Select\r\n                  value={job.renderPrefs?.settingsTemplate || \"\"}\r\n                  onChange={({ target: { value } }) =>\r\n                    setJob({\r\n                      ...job,\r\n                      renderPrefs: {\r\n                        ...job?.renderPrefs,\r\n                        settingsTemplate: value,\r\n                      },\r\n                    })\r\n                  }\r\n                  inputProps={{\r\n                    name: \"settingsTemplate\",\r\n                    id: \"settingsTemplate\",\r\n                  }}\r\n                >\r\n                  <MenuItem aria-label=\"None\" value=\"\" />\r\n                  <MenuItem value={\"half\"}>Half</MenuItem>\r\n                  <MenuItem value={\"full\"}>Full</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              <FormControl>\r\n                <InputLabel htmlFor=\"outputModule\">Output module</InputLabel>\r\n                <Select\r\n                  value={job.renderPrefs?.outputModule || \"\"}\r\n                  onChange={({ target: { value } }) =>\r\n                    setJob({\r\n                      ...job,\r\n                      renderPrefs: { ...job?.renderPrefs, outputModule: value },\r\n                    })\r\n                  }\r\n                  inputProps={{\r\n                    name: \"outputModule\",\r\n                    id: \"outputModule\",\r\n                  }}\r\n                >\r\n                  <MenuItem aria-label=\"None\" value=\"\" />\r\n                  <MenuItem value={\"h264\"}>H264</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n              <TextField\r\n                value={job.renderPrefs?.incrementFrame || \"\"}\r\n                id=\"incrementFrame\"\r\n                label=\"Increment Frame\"\r\n                type=\"number\"\r\n              />\r\n              <TextField\r\n                value={job.renderPrefs?.frameStart || \"\"}\r\n                // onChange={}\r\n                id=\"frameStart\"\r\n                label=\"Start Frame\"\r\n                type=\"number\"\r\n              />\r\n              <TextField\r\n                value={job.renderPrefs?.frameEnd || \"\"}\r\n                // onChange={}\r\n                id=\"frameEnd\"\r\n                label=\"End Frame\"\r\n                type=\"number\"\r\n              />\r\n            </Box>\r\n          </TabPanel>\r\n          <TabPanel value={activeTabIndex} index={4}>\r\n            <LogsTab logs={job?.logs ?? []} />\r\n          </TabPanel>\r\n        </Paper>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nconst getColorFromState = (state = \"\", percent) => {\r\n  switch (state?.toLowerCase()) {\r\n    case \"finished\":\r\n      return \"#4caf50\";\r\n    case \"error\":\r\n      return \"#f44336\";\r\n    case \"started\":\r\n      return \"#ffa502\";\r\n    case \"rendering\":\r\n      return `linear-gradient(90deg, #4caf50 ${percent}%, grey ${percent}%)`;\r\n    default:\r\n      return \"grey\";\r\n  }\r\n};\r\n","import DateFnsUtils from \"@date-io/date-fns\";\r\nimport { Button, Checkbox, TextField } from \"@material-ui/core\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport {\r\n  KeyboardDatePicker,\r\n  MuiPickersUtilsProvider,\r\n} from \"@material-ui/pickers\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useAPI } from \"services/APIContext\";\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\" />;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\" />;\r\n/*\r\n*/\r\nexport default React.memo(\r\n  ({ value = {}, onChange }) => {\r\n    const [loading, setLoading] = useState(true);\r\n    const {VideoTemplate}=useAPI()\r\n    const [videoTemplates, setVideoTemplates] = useState([]);\r\n    const [filters, setFilters] = useState(value);\r\n    useEffect(() => {\r\n      videoTemplates.length === 0 &&\r\n        VideoTemplate.getAll(1, 500) //new api change\r\n          .then(({ data }) =>\r\n            setVideoTemplates(data.map(({ title, id }) => ({ title, id })))\r\n          )\r\n          .catch(console.log)\r\n          .finally(() => setLoading(false));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n      onChange(filters);\r\n    }, [filters]);\r\n    return (\r\n      <>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            style={{ width: 150, marginBottom: 0 }}\r\n            disableToolbar\r\n            margin=\"dense\"\r\n            format=\"MM/dd/yyyy\"\r\n            id=\"date-picker-inline\"\r\n            label=\"Start date\"\r\n            value={filters?.startDate ?? null}\r\n            onChange={(v) =>\r\n              setFilters({ ...filters, startDate: new Date(v).toISOString() })\r\n            }\r\n            KeyboardButtonProps={{\r\n              \"aria-label\": \"change date\",\r\n            }}\r\n          />\r\n          <KeyboardDatePicker\r\n            margin=\"dense\"\r\n            style={{\r\n              marginLeft: 10,\r\n              width: 150,\r\n              marginRight: 10,\r\n              marginBottom: 0,\r\n            }}\r\n            disableToolbar\r\n            format=\"MM/dd/yyyy\"\r\n            id=\"date-picker-inline\"\r\n            label=\"End date\"\r\n            value={filters?.endDate ?? null}\r\n            onChange={(v) =>\r\n              setFilters({ ...filters, endDate: new Date(v).toISOString() })\r\n            }\r\n            KeyboardButtonProps={{\r\n              \"aria-label\": \"change date\",\r\n            }}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n        {/* <FormControl style={{ marginRight: 10, minWidth: 150 }}>\r\n          <InputLabel id=\"demo-simple-select-label\">Video Template</InputLabel>\r\n          <Select\r\n            disabled={loading}\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={filters?.idVideoTemplate}\r\n            onChange={({ target: { value } }) =>\r\n              setFilters({ ...filters, idVideoTemplate: value })\r\n            }>\r\n            {videoTemplates.map(({ title, id }) => (\r\n              <MenuItem value={id}>{title}</MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl> */}\r\n        <Autocomplete\r\n          multiple\r\n          limitTags={1}\r\n          id=\"checkboxes-tags-demo\"\r\n          // onClose={(e, r) => r ? r === 'blur' ?\r\n          //   setFilters({ ...filters, idVideoTemplates: selectedTemplates }) : console.log(r) : setFilters({ ...filters, idVideoTemplates: selectedTemplates })}\r\n          //\r\n          value={filters?.idVideoTemplates ?? []}\r\n          // defaultValue={filters?.idVideoTemplates}\r\n          options={videoTemplates}\r\n          loading={loading}\r\n          onChange={(e, v) => setFilters({ ...filters, idVideoTemplates: v })}\r\n          disableCloseOnSelect\r\n          getOptionLabel={({ title }) => title}\r\n          renderOption={(option) => (\r\n            <React.Fragment>\r\n              <Checkbox\r\n                icon={icon}\r\n                checkedIcon={checkedIcon}\r\n                style={{ marginRight: 8 }}\r\n                checked={filters?.idVideoTemplates?.find(\r\n                  ({ id }) => id === option?.id\r\n                )}\r\n              />\r\n              {option.title}\r\n            </React.Fragment>\r\n          )}\r\n          style={{ width: 250, marginRight: 10 }}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label=\"Videotemplates\"\r\n              placeholder=\"Choose videotemplates\"\r\n            />\r\n          )}\r\n        />\r\n        <Autocomplete\r\n          multiple\r\n          limitTags={1}\r\n          id=\"checkboxes-tags-demo\"\r\n          value={filters?.states ?? []}\r\n          options={[\"error\", \"created\", \"started\", \"finished\",\"render:postrender\",\"render:postdownload\",\r\n          \"render:download\",\"render:script\",\r\n          \"render:predownload\",\r\n          \"render:dorender\",\"render:prerender\"]}\r\n          onChange={(e, v) => setFilters({ ...filters, states: v })}\r\n          disableCloseOnSelect\r\n          getOptionLabel={(a) => a}\r\n          renderOption={(option) => (\r\n            <React.Fragment>\r\n              <Checkbox\r\n                icon={icon}\r\n                checkedIcon={checkedIcon}\r\n                style={{ marginRight: 8 }}\r\n                checked={filters?.states?.includes(option)}\r\n              />\r\n              {option.toUpperCase()}\r\n            </React.Fragment>\r\n          )}\r\n          style={{ width: 250, marginRight: 10 }}\r\n          renderInput={(params) => (\r\n            <TextField {...params} label=\"Status\" placeholder=\"Select Status\" />\r\n          )}\r\n        />\r\n        {/* <FormControl style={{ marginRight: 10, width: 100 }}>\r\n          <InputLabel id=\"demo-simple-select-label\">Status</InputLabel>\r\n          <Select\r\n            labelId=\"demo-simple-select-label\"\r\n            id=\"demo-simple-select\"\r\n            value={filters?.state}\r\n            onChange={({ target: { value } }) =>\r\n              setFilters({ ...filters, state: value })\r\n            }>\r\n            <MenuItem value={\"\"}>All</MenuItem>\r\n            <MenuItem value={\"error\"}>Error</MenuItem>\r\n            <MenuItem value={\"created\"}>Created</MenuItem>\r\n            <MenuItem value={\"finished\"}>Finished</MenuItem>\r\n          </Select>\r\n        </FormControl> */}\r\n        {/* <Button\r\n                children=\"filter\"\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                    onChange(filters)\r\n                }}\r\n            /> */}\r\n        {Object.keys(filters).length ? (\r\n          <Button\r\n            disabled={!Object.keys(filters).length}\r\n            children=\"clear filter\"\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              setFilters({});\r\n              onChange({});\r\n            }}\r\n          />\r\n        ) : (\r\n          <div />\r\n        )}\r\n      </>\r\n    );\r\n  },\r\n  (prev, next) => JSON.stringify(prev?.value) === JSON.stringify(next?.value)\r\n);\r\n","import {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n} from \"@material-ui/core\";\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\nexport default ({ logs = [], onClose }) => {\r\n  const logsRef = useRef(null);\r\n  const scrollToBottom = () => {\r\n    logsRef.current.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"end\",\r\n      inline: \"nearest\",\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    if (logsRef?.current) {\r\n      scrollToBottom();\r\n    }\r\n  }, [logs, logsRef]);\r\n\r\n  const logColors = {\r\n    warning: \"yellow\",\r\n    info: \"#fff\",\r\n    error: \"red\",\r\n  };\r\n  return (\r\n    <>\r\n      <Dialog\r\n        fullWidth\r\n        onClose={onClose}\r\n        aria-labelledby=\"simple-dialog-title\"\r\n        open={true}>\r\n        <DialogTitle id=\"simple-dialog-title\">Logs</DialogTitle>\r\n        <DialogContent\r\n          ref={logsRef}\r\n          style={{\r\n            display: \"flex\",\r\n            backgroundColor: \"black\",\r\n            paddingBottom: 100,\r\n            padding: 10,\r\n            flexDirection: \"column\",\r\n          }}>\r\n          {logs.map(\r\n            ({\r\n              line,\r\n              data,\r\n              level,\r\n              timestamp = new Date().toLocaleString(),\r\n            }) => (\r\n              <Box style={{ display: \"flex\" }}>\r\n                <code\r\n                  style={{\r\n                    \"white-space\": \"pre-line\",\r\n                    fontSize: 14,\r\n                    fontFamily: \"monospace\",\r\n                    fontWeight: 600,\r\n                    color: \"#fff\",\r\n                    paddingRight: 10,\r\n                    textAlign: \"right\",\r\n                    minWidth: 40,\r\n                    \"border-right\": \"0.2px solid #fff\",\r\n                  }}>\r\n                  {`${line}`}\r\n                </code>\r\n                <code\r\n                  style={{\r\n                    \"white-space\": \"pre-line\",\r\n                    paddingLeft: 35,\r\n                    fontSize: 14,\r\n                    fontFamily: \"monospace\",\r\n                    fontWeight: 600,\r\n                    color: logColors[level],\r\n                  }}>\r\n                  {timestamp}: {data?.toString()?.replace(/,/g, \"\\n\")}\r\n                </code>\r\n              </Box>\r\n            )\r\n          )}\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={onClose} color=\"primary\">\r\n            Close\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Button,\r\n  Chip,\r\n  ExpansionPanel,\r\n  ExpansionPanelDetails,\r\n  ExpansionPanelSummary,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { ExpandMore } from \"@material-ui/icons\";\r\nimport LogsDialog from \"common/LogsDialog\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useAPI } from \"services/APIContext\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { useConfig } from \"services/RemoteConfigContext\";\r\nimport io from \"socket.io-client\";\r\nimport * as timeago from \"timeago.js\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default ({ onRowClick }) => {\r\n  // init socket on mount\r\n  const { Job } = useAPI()\r\n  const { socketURL } = useConfig()\r\n  const [activeJobs, setActiveJobs] = useState([]);\r\n  const [jobStats, setJobStats] = useState({});\r\n  const [activeJobLogs, setActiveJobLogs] = useState([]);\r\n  const [jobsData, setJobsData] = useState([]);\r\n  const { user } = useAuth();\r\n  const [selectedJobId, setSelectedJobId] = useState(null);\r\n  const [socket, setSocket] = useState(null);\r\n\r\n  useEffect(() => {\r\n    initialJobsState()\r\n    setSocket(\r\n      io.connect(socketURL || process.env.REACT_APP_SOCKET_SERVER_URL, {\r\n        withCredentials: false,\r\n      })\r\n    );\r\n  }, []);\r\n  const initialJobsState = async () => {\r\n    const { data } = await Job.getStatus(\"state[]=!finished\", { paginate: false, fields: \"state\" })\r\n    let rendering = 0;\r\n    let result = {}\r\n    data.forEach((j) => {\r\n      if (j.state in result) {\r\n        result[j.state] += 1;\r\n      } else {\r\n        result[j.state] = 1;\r\n      }\r\n    });\r\n    const { error = 0, created = 0 } = result;\r\n    let download = result[\"render:download\"] || 0;\r\n    let dorender = result[\"render:dorender\"] || 0;\r\n    let render = result[\"rendering\"] || 0;\r\n    let predownload = result[\"render:predownload\"] || 0;\r\n    let postdownload = result[\"render:postdownload\"] || 0;\r\n    let postrender = result[\"render:postrender\"] || 0;\r\n    let prerender = result[\"render:prerender\"] || 0;\r\n    let script = result[\"render:script\"] || 0;\r\n    rendering = download + postrender + script + dorender + prerender + render + postdownload + predownload;\r\n    setJobStats({ error, rendering, created });\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!socket) {\r\n      return console.log(\"no socket\");\r\n    }\r\n    if (socket) {\r\n      console.log(socket)\r\n    }\r\n    socket.on(\"job-progress\", ({ id, state, idCreatedBy, progress, rendererInstance }) => {\r\n      if (idCreatedBy === user?.uid) {\r\n        setActiveJobs((activeJobs) => {\r\n          const index = activeJobs.map(({ id }) => id).indexOf(id);\r\n          if (index === -1) {\r\n            return [...activeJobs, { id, state, progress, rendererInstance }];\r\n          } else\r\n            return activeJobs?.map((data) =>\r\n              data.id === id ? { id, state, progress, rendererInstance } : data\r\n            );\r\n        });\r\n      }\r\n    });\r\n    socket.on(\"job-logs\", ({ id, idCreatedBy = user?.uid, logs }) => {\r\n      if (idCreatedBy === user?.uid) {\r\n        setActiveJobLogs((activeJobLogs) => {\r\n          const index = activeJobLogs.map(({ id }) => id).indexOf(id);\r\n          if (index === -1) {\r\n            return [...activeJobLogs, { id, logs }];\r\n          } else\r\n            return activeJobLogs?.map((log) =>\r\n              log.id === id ? { id, logs } : log\r\n            );\r\n        });\r\n      }\r\n    });\r\n    socket.on(\"job-status\", (data) => {\r\n      let rendering = 0;\r\n      const { error = 0, created = 0 } = data;\r\n      let download = data[\"render:download\"] || 0;\r\n      let dorender = data[\"render:dorender\"] || 0;\r\n      let render = data[\"rendering\"] || 0;\r\n      let predownload = data[\"render:predownload\"] || 0;\r\n      let postdownload = data[\"render:postdownload\"] || 0;\r\n      let postrender = data[\"render:postrender\"] || 0;\r\n      let prerender = data[\"render:prerender\"] || 0;\r\n      let script = data[\"render:script\"] || 0;\r\n      rendering = download + postrender + script + dorender + prerender + render + postdownload + predownload;\r\n      setJobStats({ error, rendering, created });\r\n    });\r\n  }, [socket]);\r\n  useEffect(() => {\r\n    if (activeJobs?.length && jobsData?.length !== activeJobs?.length) {\r\n      //fetch and setJobs\r\n      const jobIdToBeFetched = activeJobs.find(\r\n        (j) => !jobsData.map(({ id }) => id).includes(j?.id)\r\n      )?.id;\r\n\r\n      if (jobIdToBeFetched) {\r\n        setJobsData((j) => [...j, { id: jobIdToBeFetched }]);\r\n        Job.get(jobIdToBeFetched, true)\r\n          .then((d) =>\r\n            setJobsData((j) => {\r\n              //check if jobIdTobefetched is already inside j, if not then append else replace\r\n              return j.find(({ id }) => id === jobIdToBeFetched)\r\n                ? j.map((data) =>\r\n                  data?.id === jobIdToBeFetched\r\n                    ? { ...d, id: jobIdToBeFetched }\r\n                    : data\r\n                )\r\n                : [...j, { ...d, id: jobIdToBeFetched }];\r\n            })\r\n          )\r\n          .catch(() => setJobsData((j) => [...j, { id: jobIdToBeFetched }]));\r\n      }\r\n    }\r\n  }, [activeJobs, jobsData]);\r\n\r\n  useEffect(() => {\r\n    const finishedJobs = activeJobs?.filter(\r\n      ({ state = \"\" }) => state.toLowerCase() !== \"finished\"\r\n    );\r\n    let timeout = null;\r\n    if (\r\n      finishedJobs?.length &&\r\n      activeJobs.find(({ state = \"\" }) => state.toLowerCase() === \"finished\")\r\n    ) {\r\n      timeout = setTimeout(() => {\r\n        setActiveJobs(finishedJobs);\r\n        setJobsData((d) =>\r\n          d?.filter(({ id }) => finishedJobs.map(({ id }) => id).includes(id))\r\n        );\r\n      }, 5000);\r\n    }\r\n  }, [activeJobs]);\r\n\r\n  const ActiveJobRow = ({ id, state, progress, jobData, rendererInstance }) => {\r\n    return (\r\n      <TableRow key={id} onClick={() => onRowClick(id)}>\r\n        <TableCell component=\"th\" scope=\"row\">\r\n          {id}\r\n        </TableCell>\r\n        <TableCell align=\"left\">\r\n          {jobData?.videoTemplate?.title || \"loading...\"}\r\n        </TableCell>\r\n        <TableCell>\r\n          {jobData?.videoTemplate?.versions?.find(\r\n            (v) => v?.id === jobData?.idVersion\r\n          )?.title || \"loading...\"}\r\n        </TableCell>\r\n        <TableCell>\r\n          {timeago.format(new Date(jobData?.dateUpdated)) || \"loading...\"}\r\n        </TableCell>\r\n        <TableCell>\r\n          {timeago.format(new Date(jobData?.dateCreated)) || \"loading...\"}\r\n        </TableCell>\r\n        <TableCell align=\"left\">\r\n          <Chip\r\n            size=\"small\"\r\n            label={`${state}${progress ? \" \" + progress + \"%\" : \"\"}`}\r\n            style={{\r\n              fontWeight: 700,\r\n              background: getColorFromState(state, progress),\r\n              color: \"white\",\r\n              textTransform: \"capitalize\",\r\n            }}\r\n          />\r\n        </TableCell>\r\n        <TableCell>{rendererInstance?.ipv4}</TableCell>\r\n        <TableCell align=\"left\">\r\n          <Button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              setSelectedJobId(id);\r\n            }}\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            children=\"view logs\"\r\n          />\r\n        </TableCell>\r\n      </TableRow>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ExpansionPanel defaultExpanded={true} style={{ marginBottom: 20 }}>\r\n        <ExpansionPanelSummary\r\n          expandIcon={<ExpandMore />}\r\n          aria-controls=\"panel1c-content\"\r\n          id=\"panel1c-header\">\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              width: \"100%\",\r\n            }}>\r\n            <div\r\n              style={{ display: \"flex\", alignItems: \"center\", width: \"50%\" }}>\r\n              <Typography variant=\"h6\">\r\n                Active Jobs ({activeJobs?.length} Jobs)\r\n              </Typography>\r\n              <Button\r\n                style={{ marginLeft: 25 }}\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                children={\"clear\"}\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setActiveJobs([]);\r\n                }}\r\n              />\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                alignItems: \"center\",\r\n                justifyContent: \"space-evenly\",\r\n              }}>\r\n              <Chip\r\n                size=\"small\"\r\n                label={`Error: ${jobStats[\"error\"] || 0}`}\r\n                style={{\r\n                  fontWeight: 700,\r\n                  background: \"#f44336\",\r\n                  color: \"white\",\r\n                  marginLeft: 10,\r\n\r\n                  textTransform: \"capitalize\",\r\n                }}\r\n              />\r\n              <Chip\r\n                size=\"small\"\r\n                label={`Rendering: ${jobStats[\"rendering\"] || 0}`}\r\n                style={{\r\n                  fontWeight: 700,\r\n                  background: \"#ffa502\",\r\n\r\n                  color: \"white\",\r\n                  marginLeft: 10,\r\n                  textTransform: \"capitalize\",\r\n                }}\r\n              />\r\n              <Chip\r\n                size=\"small\"\r\n                label={`Created: ${jobStats[\"created\"] || 0}`}\r\n                style={{\r\n                  fontWeight: 700,\r\n                  marginLeft: 10,\r\n                  background: \"grey\",\r\n\r\n                  color: \"white\",\r\n                  textTransform: \"capitalize\",\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        </ExpansionPanelSummary>\r\n        <ExpansionPanelDetails style={{ flexWrap: \"wrap\" }}>\r\n          {activeJobs?.length ? (\r\n            <TableContainer>\r\n              <Table stickyHeader size=\"small\" aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Job Id</TableCell>\r\n                    <TableCell align=\"left\">Video template</TableCell>\r\n                    <TableCell align=\"left\">Version</TableCell>\r\n                    <TableCell align=\"left\">Last updated</TableCell>\r\n                    <TableCell align=\"left\">Created at</TableCell>\r\n                    <TableCell align=\"left\">Status</TableCell>\r\n                    <TableCell align=\"left\">Instance IP</TableCell>\r\n                    <TableCell align=\"left\">Actions</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  {activeJobs.map(\r\n                    ({ id, state, progress, rendererInstance }) => (\r\n                      <ActiveJobRow\r\n                        id={id}\r\n                        rendererInstance={rendererInstance}\r\n                        state={state}\r\n                        progress={progress}\r\n                        jobData={jobsData?.find((j) => j.id === id) || []}\r\n                      />\r\n                    )\r\n                  )}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n          ) : (\r\n            <Box>\r\n              <Typography>No Active Jobs</Typography>\r\n            </Box>\r\n          )}\r\n        </ExpansionPanelDetails>\r\n      </ExpansionPanel>\r\n      {selectedJobId !== null && (\r\n        <LogsDialog\r\n          logs={activeJobLogs?.find(({ id }) => id === selectedJobId)?.logs}\r\n          onClose={() => setSelectedJobId(null)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst getColorFromState = (state = \"\", percent) => {\r\n  switch (state.toLowerCase()) {\r\n    case \"finished\":\r\n      return \"#4caf50\";\r\n    case \"error\":\r\n      return \"#f44336\";\r\n    case \"started\":\r\n      return \"#ffa502\";\r\n    case \"rendering\":\r\n      return `linear-gradient(90deg, #ffa502 ${percent}%, grey ${percent}%)`;\r\n    default:\r\n      return \"grey\";\r\n  }\r\n};\r\n\r\nconst getArrayOfIdsAsQueryString = (field, ids) => {\r\n  return ids\r\n    .map((id, index) => `${index === 0 ? \"\" : \"&\"}${field}[]=${id}`)\r\n    .toString()\r\n    .replace(/,/g, \"\");\r\n};\r\nconst filterObjectToString = (f) => {\r\n  if (!f) return null;\r\n  const { startDate = 0, endDate = 0, idVideoTemplates = [], states = [] } = f;\r\n\r\n  return `${startDate\r\n    ? `dateUpdated=>=${startDate}&${endDate ? `dateUpdated=<=${endDate || startDate}&` : \"\"\r\n    }`\r\n    : \"\"\r\n    }${idVideoTemplates.length !== 0\r\n      ? getArrayOfIdsAsQueryString(\r\n        \"idVideoTemplate\",\r\n        idVideoTemplates.map(({ id }) => id)\r\n      ) + \"&\"\r\n      : \"\"\r\n    }${states.length !== 0 ? getArrayOfIdsAsQueryString(\"state\", states) : \"\"}`;\r\n};\r\n\r\n//job-status for job statoos\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport { useHistory, useRouteMatch, useLocation } from \"react-router-dom\";\r\n\r\nimport * as timeago from \"timeago.js\";\r\n\r\nimport {\r\n  Chip,\r\n  Typography,\r\n  Container,\r\n  Paper,\r\n  Box,\r\n  Tooltip,\r\n  Fade,\r\n} from \"@material-ui/core\";\r\nimport MaterialTable, { Query } from \"material-table\";\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport formatTime from \"helpers/formatTime\";\r\nimport Alert from \"@material-ui/lab/Alert\";\r\nimport { useDarkMode } from \"helpers/useDarkMode\";\r\n\r\nimport VideoLibrary from \"@material-ui/icons/VideoLibrary\";\r\nimport AudiotrackIcon from \"@material-ui/icons/Audiotrack\";\r\nimport BrandingWatermarkIcon from \"@material-ui/icons/BrandingWatermark\";\r\n\r\nimport Filters from \"common/Filters\";\r\nimport AlertHandler from \"common/AlertHandler\";\r\nimport { useAPI } from \"services/APIContext\";\r\nimport Timeline from \"@material-ui/lab/Timeline\";\r\nimport TimelineItem from \"@material-ui/lab/TimelineItem\";\r\nimport TimelineSeparator from \"@material-ui/lab/TimelineSeparator\";\r\nimport TimelineConnector from \"@material-ui/lab/TimelineConnector\";\r\nimport TimelineContent from \"@material-ui/lab/TimelineContent\";\r\nimport TimelineDot from \"@material-ui/lab/TimelineDot\";\r\nimport UpdateIcon from \"@material-ui/icons/Update\";\r\n\r\nimport TimelineOppositeContent from \"@material-ui/lab/TimelineOppositeContent\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport JSONEditorDialoge from \"common/JSONEditorDialoge\";\r\nimport ActiveJobsTable from \"../ActiveJobsTable\";\r\nimport { Job, JobUpdateParam } from \"services/buzzle-sdk/types\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nexport default () => {\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { state } = useLocation<{ message: string }>()\r\n  const { Job } = useAPI()\r\n  const { enqueueSnackbar, closeSnackbar } = useSnackbar();\r\n  const queryParam = useQuery();\r\n  const tableRef = useRef<any>(null);\r\n  const [error, setError] = useState<Error | null>(null);\r\n  const { user } = useAuth();\r\n  const [filters, setFilters] = useState<any>({});\r\n  const [selectedJob, setSelectedJob] = useState<any>(null);\r\n  const filterString = filterObjectToString(filters);\r\n  const handleRetry = () => {\r\n    tableRef.current && tableRef.current.onQueryChange();\r\n    setError(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleRetry();\r\n  }, [filterString]);\r\n\r\n  const getDataFromQuery = (query: Query<Job>): any => {\r\n    const {\r\n      page = 0,\r\n      pageSize = 20,\r\n      search: searchQuery = null,\r\n      orderBy: { field: orderBy = \"dateUpdated\" } = {},\r\n      orderDirection = \"asc\",\r\n    } = query;\r\n    history.push(\r\n      `?page=${page + 1}&size=${pageSize}${searchQuery ? \"searchQuery=\" + searchQuery : \"\"\r\n      }`\r\n      , { ...state });\r\n\r\n    // if has search query\r\n    if (searchQuery) {\r\n      return ({ data: [], page: 1, totalCount: 0 });\r\n    }\r\n    return Job.getAll(\r\n      page + 1,\r\n      pageSize,\r\n      filterString || \"\",\r\n      orderBy,\r\n      orderDirection\r\n      // idCreator\r\n    )\r\n      .then(({ data = [], count: totalCount }) => {\r\n        if (data?.length === 0 && totalCount) {\r\n          history.push(\r\n            `?page=${1}&size=${pageSize}${searchQuery ? \"searchQuery=\" + searchQuery : \"\"\r\n            }`\r\n            , {\r\n              ...state\r\n            });\r\n          return Job.getAll(\r\n            1,\r\n            pageSize,\r\n            filterString || \"\",\r\n            orderBy,\r\n            orderDirection\r\n            // idCreator\r\n          )\r\n            .then(({ data = [], count: totalCount }) => {\r\n              return { data, page: 0, totalCount };\r\n            })\r\n            .catch((err) => {\r\n              setError(err as Error);\r\n              history.push(\r\n                `?page=${1}&size=${pageSize}${searchQuery ? \"searchQuery=\" + searchQuery : \"\"\r\n                }`\r\n                , { ...state });\r\n              return {\r\n                data: [],\r\n                page: 0,\r\n                totalCount: 0,\r\n              };\r\n            });\r\n        }\r\n        return { data, page, totalCount };\r\n      })\r\n      .catch((err) => {\r\n        setError(err as Error);\r\n        history.push(\r\n          `?page=${1}&size=${pageSize}${searchQuery ? \"searchQuery=\" + searchQuery : \"\"\r\n          }`\r\n          , { ...state });\r\n        return {\r\n          data: [],\r\n          page: 0,\r\n          totalCount: 0,\r\n        };\r\n      });\r\n  }\r\n  const deleteMultipleJobs = async (array: any) => {\r\n    try {\r\n      await Job.deleteMultiple({\r\n        ids: array.map((a: any) => a?.id as string),\r\n      });\r\n      enqueueSnackbar(`jobs deleted successfully `, {\r\n        variant: \"success\",\r\n      });\r\n    } catch (e) {\r\n      enqueueSnackbar(`jobs failed to delete `, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n    tableRef.current && tableRef.current.onQueryChange();\r\n  };\r\n\r\n  const handleJobUpdate = async ({ id, data, actions, renderPrefs }: JobUpdateParam & { id: string }) => {\r\n    try {\r\n      await Job.update(id, { data, actions, renderPrefs }, { noMessage: true });\r\n      enqueueSnackbar(`Job Updated successfully!`, {\r\n        variant: \"success\",\r\n      });\r\n      setSelectedJob(null);\r\n      tableRef.current && tableRef.current.onQueryChange();\r\n    } catch (err) {\r\n      enqueueSnackbar(\r\n        `Failed to update, ${(err as Error)?.message ?? \"Something went wrong\"}`,\r\n        {\r\n          variant: \"error\",\r\n          anchorOrigin: {\r\n            vertical: \"bottom\",\r\n            horizontal: \"right\",\r\n          },\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  const TimeRenderer = ({ renderTime, id, timeline = [] }: any) => {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const handlePopoverOpen = (event: any) => {\r\n      setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handlePopoverClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n    const open = Boolean(anchorEl);\r\n    return (\r\n      <>\r\n        <Typography\r\n          aria-owns={open ? `mouse-over-popover${id}` : undefined}\r\n          aria-haspopup=\"true\"\r\n          onMouseEnter={handlePopoverOpen}\r\n          onMouseLeave={handlePopoverClose}>\r\n          {renderTime !== -1 ? formatTime(renderTime) : \"NA\"}\r\n        </Typography>\r\n        <Popover\r\n          id={`mouse-over-popover${id}`}\r\n          open={open}\r\n          style={{ pointerEvents: \"none\" }}\r\n          anchorEl={anchorEl}\r\n          anchorOrigin={{\r\n            vertical: \"bottom\",\r\n            horizontal: \"right\",\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"center\",\r\n            horizontal: \"left\",\r\n          }}\r\n          onClose={handlePopoverClose}\r\n          disableRestoreFocus>\r\n          <Timeline align=\"alternate\">\r\n            {timeline.length ? (\r\n              timeline.map(({ state, startsAt, endsAt }: any, index: number) => (\r\n                <TimelineItem>\r\n                  {index !== 0 && timeline?.length - 1 !== index && (\r\n                    <TimelineOppositeContent>\r\n                      <Typography color=\"textSecondary\">\r\n                        {((endsAt - startsAt) / 1000).toFixed(2)} secs\r\n                      </Typography>\r\n                    </TimelineOppositeContent>\r\n                  )}\r\n                  <TimelineSeparator>\r\n                    <TimelineDot\r\n                      style={{\r\n                        backgroundColor:\r\n                          index === 0\r\n                            ? \"#ffa117\"\r\n                            : index !== timeline?.length - 1\r\n                              ? \"#35a0f4\"\r\n                              : \"#65ba68\",\r\n                      }}\r\n                    />\r\n                    {timeline?.length - 1 !== index && <TimelineConnector />}\r\n                  </TimelineSeparator>\r\n                  <TimelineContent>\r\n                    <span>{state}</span>\r\n                  </TimelineContent>\r\n                </TimelineItem>\r\n              ))\r\n            ) : (\r\n              <Typography>Not Available</Typography>\r\n            )}\r\n          </Timeline>\r\n        </Popover>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const restartMultiple = async (array: any) => {\r\n    try {\r\n      const arrIds = array.map((a: any) => {\r\n        return a.id;\r\n      });\r\n      await Job.updateMultiple({\r\n        ids: arrIds,\r\n        state: \"created\",\r\n        extra: { forceRerender: true },\r\n      });\r\n      enqueueSnackbar(`jobs restarted successfully `, {\r\n        variant: \"success\",\r\n      });\r\n    } catch (e) {\r\n      enqueueSnackbar(`jobs failed to restart `, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n\r\n    tableRef.current && tableRef.current.onQueryChange();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error && (\r\n        <AlertHandler\r\n          message={error.message}\r\n          showRetry={true}\r\n          onRetry={handleRetry}\r\n        />\r\n      )}\r\n      {state?.message ? <AlertHandler severity=\"info\" message={state?.message ?? \"\"} /> : <div />}\r\n      <Box>\r\n        <ActiveJobsTable onRowClick={(id: string) => history.push(`${path}${id}`)} />\r\n      </Box>\r\n      <Paper style={{ padding: 15, marginBottom: 5 }}>\r\n        <Typography variant=\"h6\">Filters</Typography>\r\n        <Container\r\n          style={{ padding: 5, alignItems: \"flex-end\", display: \"flex\" }}>\r\n          <Filters\r\n            //@ts-ignore\r\n            onChange={(v: any) => setFilters(v)}\r\n            value={filters} />\r\n        </Container>\r\n      </Paper>\r\n      <MaterialTable\r\n        tableRef={tableRef}\r\n        title=\"Your Jobs\"\r\n        options={{\r\n          pageSize: parseInt(queryParam?.get(\"size\") + \"\") || 20,\r\n          headerStyle: { fontWeight: 700 },\r\n          actionsColumnIndex: -1,\r\n          selection: true,\r\n          // padding: 'dense',\r\n          sorting: true,\r\n        }}\r\n        onRowClick={(e: any, { id }: any) => {\r\n          // prevents redirection on link click\r\n          if ([\"td\", \"TD\"].includes(e.target.tagName))\r\n            window.open(`${path}${id}`);\r\n        }}\r\n        columns={[\r\n          {\r\n            title: \"JobId\",\r\n            field: \"id\",\r\n          },\r\n          {\r\n            title: \"Video Template\",\r\n            sorting: false,\r\n            field: \"videoTemplate.title\",\r\n          },\r\n          {\r\n            title: \"Version\",\r\n            sorting: false,\r\n            searchable: false,\r\n            render: ({ videoTemplate, idVersion }: any) => (\r\n              <span>\r\n                {videoTemplate?.versions?.find((v: any) => v?.id === idVersion)\r\n                  ?.title ?? \"\"}\r\n              </span>\r\n            ),\r\n          },\r\n          {\r\n            title: \"Render Time\",\r\n            field: \"renderTime\",\r\n            sorting: false,\r\n            searchable: false,\r\n            render: ({ renderTime, id, timeline }: any) => (\r\n              <TimeRenderer\r\n                renderTime={renderTime}\r\n                id={id}\r\n                timeline={timeline}\r\n              />\r\n            ),\r\n          },\r\n\r\n          {\r\n            searchable: false,\r\n            title: \"Last Updated\",\r\n            field: \"dateUpdated\",\r\n            type: \"datetime\",\r\n            defaultSort: \"desc\",\r\n            render: ({ dateUpdated }: any) => (\r\n              <span>{timeago.format(new Date(dateUpdated))}</span>\r\n            ),\r\n          },\r\n          {\r\n            searchable: false,\r\n            title: \"Created At\",\r\n            field: \"dateCreated\",\r\n            type: \"datetime\",\r\n            render: ({ dateCreated }: any) => (\r\n              <span>{timeago.format(new Date(dateCreated))}</span>\r\n            ),\r\n          },\r\n          {\r\n            searchable: false,\r\n            title: \"source\",\r\n            render: ({ sourceCreatedBy = \"\" }: any) => {\r\n              return <Tooltip\r\n                TransitionComponent={Fade}\r\n                title={(sourceCreatedBy || \"api\") === \"api\" ? \"Created using API\" : \"Created from buzzle\"}>\r\n                <Chip\r\n                  size=\"small\"\r\n                  label={sourceCreatedBy || \"api\"}\r\n                  style={{\r\n                    fontWeight: 700,\r\n                    background: getColorFromSource(sourceCreatedBy || \"api\"),\r\n                    color: \"white\",\r\n                    textTransform: \"uppercase\",\r\n                  }}\r\n                />\r\n              </Tooltip>\r\n            }\r\n          },\r\n          {\r\n            searchable: false,\r\n            title: \"State\",\r\n            field: \"state\",\r\n            render: ({ state, failureReason }: any) => {\r\n              return state === \"error\" ? (\r\n                <Tooltip\r\n                  TransitionComponent={Fade}\r\n                  title={failureReason ? failureReason : \"Reason not given\"}>\r\n                  <Chip\r\n                    size=\"small\"\r\n                    label={state}\r\n                    style={{\r\n                      fontWeight: 700,\r\n                      background: getColorFromState(state as any),\r\n                      color: \"white\",\r\n                      textTransform: \"capitalize\",\r\n                    }}\r\n                  />\r\n                </Tooltip>\r\n              ) : (\r\n                <Chip\r\n                  size=\"small\"\r\n                  label={state}\r\n                  style={{\r\n                    fontWeight: 700,\r\n                    background: getColorFromState(state as any),\r\n                    color: \"white\",\r\n                    textTransform: \"capitalize\",\r\n                  }}\r\n                />\r\n              );\r\n            },\r\n          },\r\n          {\r\n            searchable: false,\r\n            title: \"Render Actions\",\r\n            render: ({ actions }: any) => {\r\n              const { postrender = [], prerender = [] } = actions;\r\n              return (\r\n                <div>\r\n                  {postrender?.map(({ module }: any) => {\r\n                    if (module === \"buzzle-action-merge-videos\") {\r\n                      return (\r\n                        <Tooltip title=\"Merge Video\">\r\n                          <VideoLibrary color=\"disabled\" />\r\n                        </Tooltip>\r\n                      );\r\n                    } else if (module === \"buzzle-action-add-audio\") {\r\n                      return (\r\n                        <Tooltip title=\"Add Audio\">\r\n                          <AudiotrackIcon color=\"disabled\" />\r\n                        </Tooltip>\r\n                      );\r\n                    } else if (module === \"buzzle-action-watermark\") {\r\n                      return (\r\n                        <Tooltip title=\"Watermark action\">\r\n                          <BrandingWatermarkIcon color=\"disabled\" />\r\n                        </Tooltip>\r\n                      );\r\n                    } else return <div />;\r\n                  })}\r\n                </div>\r\n              );\r\n            },\r\n          },\r\n          {\r\n            searchable: false,\r\n            title: \"Outputs\",\r\n            render: ({ output = [] }: any) => <span>{output.length}</span>,\r\n          },\r\n        ]}\r\n        localization={{\r\n          body: {\r\n            emptyDataSourceMessage: <Typography>No Data to display</Typography>,\r\n          },\r\n        }}\r\n        data={getDataFromQuery}\r\n        actions={[\r\n          {\r\n            icon: \"refresh\",\r\n            tooltip: \"Refresh Data\",\r\n            isFreeAction: true,\r\n            onClick: handleRetry,\r\n          },\r\n          {\r\n            icon: () => <FileCopyIcon />,\r\n            tooltip: \"Duplicate Job\",\r\n            onClick: async (\r\n              e: any,\r\n              { actions, data, idVideoTemplate, idVersion, renderPrefs }: any\r\n            ) => {\r\n              try {\r\n                await Job.create({\r\n                  actions,\r\n                  data,\r\n                  idVideoTemplate,\r\n                  idVersion,\r\n                  renderPrefs,\r\n                });\r\n                handleRetry();\r\n              } catch (err) {\r\n                setError(err as Error);\r\n              }\r\n            },\r\n            position: \"row\",\r\n          },\r\n          {\r\n            icon: () => <UpdateIcon />,\r\n            tooltip: \"Restart Job with priority\",\r\n            position: \"row\",\r\n            onClick: async (e, { id, data, actions, renderPrefs = {} }: any) => {\r\n              try {\r\n                await Job.update(\r\n                  id,\r\n                  {\r\n                    state: \"created\",\r\n                    extra: {\r\n                      forceRerender: true,\r\n                    },\r\n                  },\r\n                  { priority: 5 }\r\n                );\r\n              } catch (err) {\r\n                setError(err as Error);\r\n              }\r\n              tableRef.current && tableRef.current.onQueryChange();\r\n            },\r\n          },\r\n          {\r\n            icon: \"repeat\",\r\n            tooltip: \"Restart Job\",\r\n            position: \"row\",\r\n            onClick: async (e, { id, data, actions, renderPrefs = {} }: any) => {\r\n              try {\r\n                await Job.update(id, {\r\n                  state: \"created\",\r\n                  extra: {\r\n                    forceRerender: true,\r\n                  },\r\n                });\r\n              } catch (err) {\r\n                setError(err as Error);\r\n              }\r\n              tableRef.current && tableRef.current.onQueryChange();\r\n            },\r\n          },\r\n          {\r\n            icon: \"code\",\r\n            tooltip: \"View/Edit JSON\",\r\n            position: \"row\",\r\n            onClick: async (event, rowData) => {\r\n              setSelectedJob({ ...rowData });\r\n            },\r\n          },\r\n          {\r\n            icon: \"delete\",\r\n            tooltip: \"Delete Job\",\r\n            position: \"row\",\r\n            onClick: async (event: any, rowData: any) => {\r\n              const action = window.confirm(\"Are you sure, you want to delete\");\r\n              if (!action) return;\r\n              try {\r\n                await Job.delete(rowData.id);\r\n                tableRef.current && tableRef.current.onQueryChange();\r\n              } catch (err) {\r\n                setError(err as Error);\r\n              }\r\n            },\r\n          },\r\n          {\r\n            icon: \"repeat\",\r\n            tooltip: \"Restart All Selected Jobs\",\r\n            position: \"toolbarOnSelect\",\r\n            onClick: async (e, data) => {\r\n              await restartMultiple(data);\r\n            },\r\n          },\r\n          {\r\n            icon: \"delete\",\r\n            tooltip: \"Delete All Selected Jobs\",\r\n            position: \"toolbarOnSelect\",\r\n            onClick: async (e, data) => {\r\n              const action = window.confirm(\"Are you sure, you want to delete\");\r\n              if (!action) return;\r\n              await deleteMultipleJobs(data);\r\n            },\r\n          },\r\n        ]}\r\n      />\r\n      {selectedJob !== null && (\r\n        <JSONEditorDialoge\r\n          json={selectedJob}\r\n          onSubmit={handleJobUpdate}\r\n          onClose={() => setSelectedJob(null)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nconst getColorFromSource = (source: string) => {\r\n  switch (source) {\r\n    case \"api\":\r\n      return \"#ffa502\"\r\n    default:\r\n      return \"#3742fa\"\r\n  }\r\n}\r\nconst getColorFromState = (state = \"\", percent?: number) => {\r\n  switch (state.toLowerCase()) {\r\n    case \"finished\":\r\n      return \"#4caf50\";\r\n    case \"error\":\r\n      return \"#f44336\";\r\n    case \"started\":\r\n      return \"#ffa502\";\r\n    case \"rendering\":\r\n      return `linear-gradient(90deg, #ffa502 ${percent}%, grey ${percent}%)`;\r\n    default:\r\n      return \"grey\";\r\n  }\r\n};\r\n\r\nconst getArrayOfIdsAsQueryString = (field: string, ids: Array<string>) => {\r\n  return ids\r\n    .map((id, index) => `${index === 0 ? \"\" : \"&\"}${field}[]=${id}`)\r\n    .toString()\r\n    .replace(/,/g, \"\");\r\n};\r\nconst filterObjectToString = (f: any) => {\r\n  if (!f) return null;\r\n  const { startDate = 0, endDate = 0, idVideoTemplates = [], states = [] } = f;\r\n\r\n  return `${startDate\r\n    ? `dateUpdated=>=${startDate}&${endDate ? `dateUpdated=<=${endDate || startDate}&` : \"\"\r\n    }`\r\n    : \"\"\r\n    }${idVideoTemplates.length !== 0\r\n      ? getArrayOfIdsAsQueryString(\r\n        \"idVideoTemplate\",\r\n        idVideoTemplates.map(({ id }: { id: string }) => id)\r\n      ) + \"&\"\r\n      : \"\"\r\n    }${states.length !== 0 ? getArrayOfIdsAsQueryString(\"state\", states) : \"\"}`;\r\n};\r\n","import React from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport JobDetails from \"./JobDetails\";\r\nimport JobsTable from \"./JobsTable\";\r\nimport Page from \"common/Page\";\r\n\r\nexport default () => {\r\n  let { path } = useRouteMatch();\r\n  return (\r\n    <Switch>\r\n      <Route path={`${path}/`} exact\r\n        render={props => (\r\n          <Page props={props} component={JobsTable} title=\"Jobs\" />\r\n        )} />\r\n      <Route path={`${path}/:id`}\r\n        render={props => (\r\n          <Page props={props} component={JobDetails} title=\"Job details\" />\r\n        )}\r\n      />\r\n    </Switch>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n    AssignmentInd,\r\n    VideoLibrary,\r\n    Stars,\r\n    Work,\r\n    Settings,\r\n} from \"@material-ui/icons\";\r\n\r\nimport EqualizerIcon from '@material-ui/icons/Equalizer';\r\nimport { Route, Switch, useRouteMatch, Redirect } from \"react-router-dom\";\r\nimport Navbar from \"common/Navbar\";\r\nimport RoleBasedRoute from \"common/RoleBasedRoute\";\r\nimport Revenue from \"domains/Revenue\";\r\nimport Home from \"domains/Home\";\r\nimport Setting from \"domains/Setting\";\r\nimport Users from \"domains/User\";\r\nimport Servers from \"domains/Servers\";\r\nimport Creators from \"domains/Creator\";\r\nimport VideoTemplates from \"domains/VideoTemplate\";\r\nimport Jobs from \"domains/Job\";\r\nimport Page from \"common/Page\";\r\n\r\nconst useStyles = makeStyles((theme) =>\r\n    createStyles({\r\n        root: {\r\n            display: \"flex\",\r\n            width: '100%', height: '100%',\r\n        },\r\n        toolbar: {\r\n            display: \"flex\",\r\n            ...theme.mixins.toolbar,\r\n        },\r\n        content: {\r\n            width: '100%', height: '100%',\r\n            padding: theme.spacing(3),\r\n        },\r\n    })\r\n);\r\n\r\nexport default () => {\r\n    let { path, url } = useRouteMatch();\r\n\r\n    const classes = useStyles();\r\n    const links = [\r\n        {\r\n            text: \"Analytics\",\r\n            icon: <EqualizerIcon />,\r\n            to: `${url}`,\r\n            allowedRoles: \"*\",\r\n        },\r\n        {\r\n            text: \"Video Templates\",\r\n            icon: <VideoLibrary />,\r\n            to: `${url}/videoTemplates`,\r\n            allowedRoles: \"*\",\r\n        },\r\n        {\r\n            text: \"Jobs\",\r\n            icon: <Work />,\r\n            to: `${url}/jobs`,\r\n            allowedRoles: \"*\",\r\n        },\r\n\r\n        {\r\n            text: \"Settings\",\r\n            icon: <Settings />,\r\n            to: `${url}/settings`,\r\n            allowedRoles: \"*\",\r\n        },\r\n        // {\r\n        //     text: \"Revenue\",\r\n        //     icon: <MonetizationOn />,\r\n        //     to: `${url}/revenue`,\r\n        //     allowedRoles: \"*\",\r\n        // },\r\n        {\r\n            text: \"Users\",\r\n            icon: <Stars />,\r\n            to: `${url}/users`,\r\n            allowedRoles: [\"Admin\"],\r\n        },\r\n        // {\r\n        //     text: \"Render Server\",\r\n        //     icon: <StorageIcon />,\r\n        //     to: `${url}/servers`,\r\n        //     allowedRoles: [\"Admin\"],\r\n        // },\r\n    ];\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Navbar items={links} />\r\n            <main className={classes.content}>\r\n                <div className={classes.toolbar} />\r\n                <Switch>\r\n                    <Route path={`${path}/`} exact\r\n                        render={props => (\r\n                            <Page props={props} component={Home} title=\"\" />\r\n                        )}\r\n                    />\r\n                    <RoleBasedRoute path={`${path}/settings`}\r\n                        allowedRoles={\"*\"}\r\n                        render={props => (\r\n                            <Page props={props} component={Setting} title=\"Settings\" />\r\n                        )} />\r\n                    <RoleBasedRoute path={`${path}/videoTemplates`}\r\n                        allowedRoles={\"*\"}\r\n                        render={props => (\r\n                            <Page props={props} component={VideoTemplates} title=\"Video Templates\" />\r\n                        )}\r\n                    />\r\n                    {/* <Route path={`${path}/revenue`}\r\n                        render={props => (\r\n                            <Page props={props} component={Revenue} title=\"Revenue\" />\r\n                        )} /> */}\r\n                    <RoleBasedRoute path={`${path}/jobs`}\r\n                        allowedRoles={\"*\"}\r\n                        render={props => (\r\n                            <Page props={props} component={Jobs} title=\"Jobs\" />\r\n                        )} />\r\n                    <RoleBasedRoute path={`${path}/users`}\r\n                        allowedRoles={[\"Admin\"]}\r\n                        render={props => (\r\n                            <Page props={props} component={Users} title=\"Users\" />\r\n                        )} />\r\n                    {/* <Route path={`${path}/servers`}\r\n                        render={props => (\r\n                            <Page props={props} component={Servers} title=\"Servers\" />\r\n                        )}\r\n                    /> */}\r\n                    <Redirect to={\"/NotFound\"} />\r\n                </Switch>\r\n            </main>\r\n        </div >\r\n    );\r\n};\r\n","import React from \"react\";\r\nimport { Typography, Box } from \"@material-ui/core\";\r\nimport spiring_black from \"assets/spiring.svg\";\r\nimport spiring_white from \"assets/spiring_grey.svg\";\r\nimport { useDarkMode } from \"helpers/useDarkMode\";\r\n\r\nexport default ({ mt }: { mt?: number }) => {\r\n  const [theme] = useDarkMode();\r\n  return (\r\n    <Box\r\n      style={{\r\n        marginTop: mt ? mt : 10,\r\n        textAlign: \"center\",\r\n        // position: \"relative\",\r\n        paddingTop: 30,\r\n        paddingBottom: 30,\r\n        bottom: 32,\r\n        width: \"100%\",\r\n      }}>\r\n      <img\r\n        style={{ height: 36 }}\r\n        src={theme === \"light\" ? spiring_black : spiring_white}\r\n      />\r\n      <Typography\r\n        style={{\r\n          fontSize: 12,\r\n          fontWeight: 700,\r\n        }}>\r\n        Copyright © 2020 All Rights Reserved.\r\n      </Typography>\r\n    </Box>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport {\r\n    Button,\r\n    Container,\r\n    Typography,\r\n    Box,\r\n    Grid,\r\n    withStyles,\r\n    makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport Branding from \"common/Branding\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport notFoundIllustration from \"assets/404.svg\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport { useAuth } from \"services/auth\";\r\nimport { Redirect } from \"react-router-dom\";\r\nconst useStyles = makeStyles({\r\n    hoverHighlight: {\r\n        backgroundImage:\r\n            \"linear-gradient(transparent calc(15% - 5px), #394afa 5px)\",\r\n        backgroundSize: 0,\r\n        backgroundRepeat: \"no-repeat\",\r\n        display: \"inline\",\r\n        transition: \"0.5s ease\",\r\n        \"-webkit-transition\": \"0.5s ease\",\r\n\r\n        \"&:hover\": {\r\n            color: \"white\",\r\n            backgroundSize: \"100%\",\r\n        },\r\n    },\r\n    backButton: { marginTop: 10 },\r\n    hoverUnderline: {\r\n        backgroundImage:\r\n            \"linear-gradient(transparent calc(100% - 5px), #394afa 5px)\",\r\n        backgroundSize: 0,\r\n        backgroundRepeat: \"no-repeat\",\r\n        display: \"inline\",\r\n        transition: \"0.5s ease\",\r\n        \"-webkit-transition\": \"0.5s ease\",\r\n\r\n        \"&:hover\": {\r\n            backgroundSize: \"100%\",\r\n        },\r\n    },\r\n});\r\n\r\nexport default () => {\r\n    const { t } = useTranslation();\r\n    const { user, isUserLoadingFromFirebase } = useAuth()\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    if (user && !isUserLoadingFromFirebase) {\r\n        return <Redirect to=\"/home\" />\r\n    }\r\n    return (<Redirect to=\"/login\" />);\r\n}\r\n\r\n\r\n/*\r\n\r\n        <Box>\r\n            <Branding />\r\n            <Box\r\n                style={{\r\n                    height: \"100vh\",\r\n                    width: \"100vw\",\r\n                    zIndex: -9999,\r\n                    position: \"absolute\",\r\n                    left: 0,\r\n                    top: 0,\r\n                    background: \"#ffffff\",\r\n                }}\r\n            />\r\n            <Box\r\n                style={{\r\n                    height: \"30vh\",\r\n                    width: \"100vw\",\r\n                    zIndex: -999,\r\n                    position: \"absolute\",\r\n                    left: 0,\r\n                    bottom: 0,\r\n                    background: \"#394afa\",\r\n                }}\r\n            />\r\n            <Box>\r\n                <Grid\r\n                    style={{ alignItems: \"stretch\", height: \"-webkit-fill-available\" }}\r\n                    container\r\n                    direction=\"row\">\r\n                    <Grid\r\n                        md={6}\r\n                        sm={12}\r\n                        item\r\n                        style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <img style={{ width: \"100%\" }} src={notFoundIllustration} />\r\n                    </Grid>\r\n                    <Grid\r\n                        md={6}\r\n                        sm={12}\r\n                        item\r\n                        style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                        <Box mb={4}>\r\n                            <Typography\r\n                                color=\"\"\r\n                                variant=\"h1\"\r\n                                style={{\r\n                                    color: \"#2f3542\",\r\n                                    marginBottom: 16,\r\n                                    fontWeight: 800,\r\n                                    fontFamily: \"Poppins\",\r\n                                }}>\r\n                                <span className={classes.hoverHighlight}>404</span>\r\n                            </Typography>\r\n                            <Box mt={2}>\r\n                                <Typography\r\n                                    variant={\"h6\"}\r\n                                    style={{ fontWeight: 700, width: 350, color: \"#2f3542\" }}>\r\n                                    <span className={classes.hoverUnderline}>\r\n                                        {t(\"notFound\")}\r\n                                    </span>\r\n                                </Typography>\r\n                            </Box>\r\n                            <Box>\r\n                                <Button\r\n                                    className={classes.backButton}\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    startIcon={<ArrowBack />}\r\n                                    onClick={() => history.goBack()}\r\n                                    children=\"Go Back\"\r\n                                />\r\n                            </Box>\r\n                        </Box>\r\n                    </Grid>\r\n                </Grid>\r\n            </Box>\r\n        </Box>\r\n     */","import React from \"react\";\r\nimport {\r\n  Button,\r\n  Typography,\r\n  Box,\r\n  Grid,\r\n  makeStyles,\r\n  Container,\r\n} from \"@material-ui/core\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport Branding from \"common/Branding\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport landingIllustration from \"assets/landing.svg\";\r\nimport otherIllustration from \"assets/404.svg\";\r\nimport videoIllustration from \"assets/video.svg\";\r\nimport { useAuth } from \"services/auth\";\r\n\r\nconst useStyles = makeStyles({\r\n  hoverHighlight: {\r\n    backgroundImage:\r\n      \"linear-gradient(transparent calc(15% - 5px), #394afa 5px)\",\r\n    backgroundSize: 0,\r\n    backgroundRepeat: \"no-repeat\",\r\n    display: \"inline\",\r\n    transition: \"0.5s ease\",\r\n    \"-webkit-transition\": \"0.5s ease\",\r\n\r\n    \"&:hover\": {\r\n      color: \"white\",\r\n      backgroundSize: \"100%\",\r\n    },\r\n  },\r\n  hoverUnderline: {\r\n    backgroundImage:\r\n      \"linear-gradient(transparent calc(100% - 5px), #394afa 5px)\",\r\n    backgroundSize: 0,\r\n    backgroundRepeat: \"no-repeat\",\r\n    display: \"inline\",\r\n    transition: \"0.5s ease\",\r\n    \"-webkit-transition\": \"0.5s ease\",\r\n\r\n    \"&:hover\": {\r\n      backgroundSize: \"100%\",\r\n    },\r\n  },\r\n  logo: {\r\n    marginBottom: 16,\r\n    fontWeight: 800,\r\n    fontFamily: \"Poppins\",\r\n  },\r\n  heightInherit: {\r\n    height: \"inherit\",\r\n  },\r\n  viewportHeight: {\r\n    height: \"90vh\",\r\n  },\r\n  background: {\r\n    height: \"100%\",\r\n    width: \"200%\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: \"-50%\",\r\n    zIndex: -999,\r\n  },\r\n  whiteText: {\r\n    color: \"white\",\r\n  },\r\n  whiteBg: {\r\n    backgroundColor: \"white\",\r\n  },\r\n});\r\n\r\nfunction Landing() {\r\n  const { user } = useAuth();\r\n\r\n  const { t } = useTranslation();\r\n  const classes = useStyles();\r\n  if (user) return <Redirect to=\"/home\" />;\r\n\r\n  return (\r\n    <Container className={classes.heightInherit} maxWidth=\"md\">\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        className={classes.viewportHeight}>\r\n        <Grid md={6} sm={6} item style={{ flex: 1, padding: \"5%\" }}>\r\n          <img src={landingIllustration} />\r\n        </Grid>\r\n        <Grid md={6} sm={6} item>\r\n          <Box mb={4} p={4}>\r\n            <Typography variant=\"h1\" className={classes.logo}>\r\n              <span className={classes.hoverHighlight}>Buzzle!</span>\r\n            </Typography>\r\n            <Box mt={2}>\r\n              <Typography>\r\n                <span className={classes.hoverUnderline}>{t(\"welcome\")}🥳</span>\r\n              </Typography>\r\n            </Box>\r\n            <Box mt={6}>\r\n              <Box display=\"inline-block\" m={1}>\r\n                <Button\r\n                  component={Link}\r\n                  to=\"/login\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\">\r\n                  Get Started\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n      <Grid\r\n        container\r\n        direction=\"row\"\r\n        justify=\"center\"\r\n        alignItems=\"center\"\r\n        style={{ position: \"relative\" }}>\r\n        <Box bgcolor=\"primary.main\" className={classes.background} />\r\n        <Grid md={6} sm={6} item>\r\n          <Box mb={4} p={4}>\r\n            <Box mt={2}>\r\n              <Typography className={classes.whiteText}>\r\n                <span className={classes.hoverUnderline}>{t(\"welcome\")}</span>\r\n              </Typography>\r\n            </Box>\r\n            <Box mt={6}>\r\n              <Box display=\"inline-block\" m={1}>\r\n                <Button\r\n                  component={Link}\r\n                  to=\"/login\"\r\n                  className={classes.whiteBg}\r\n                  variant=\"contained\">\r\n                  Get Started\r\n                </Button>\r\n              </Box>\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n        <Grid md={6} sm={6} item style={{ flex: 1, padding: \"5%\" }}>\r\n          <img src={otherIllustration} />\r\n        </Grid>\r\n      </Grid>\r\n      <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\">\r\n        <Grid md={6} sm={6} item style={{ flex: 1, padding: \"5%\" }}>\r\n          <img src={videoIllustration} />\r\n        </Grid>\r\n        <Grid md={6} sm={6} item>\r\n          <Box mb={4} p={4}>\r\n            <Box mt={2}>\r\n              <Typography>\r\n                <span className={classes.hoverUnderline}>{t(\"welcome\")}🥳</span>\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </Grid>\r\n      </Grid>\r\n      <Branding />\r\n    </Container>\r\n  );\r\n}\r\nexport default Landing;\r\n","import { Box, Button, TextField, Typography } from \"@material-ui/core\";\r\nimport FileUploader from \"common/FileUploader\";\r\nimport { useFormik } from \"formik\";\r\nimport React from \"react\";\r\nimport * as Yup from \"yup\";\r\n\r\nexport default ({ version = {}, onSubmitJob }) => {\r\n  const formikSubmit = async (data) => {\r\n    console.log(\"triggered submit\", data);\r\n    onSubmitJob(data);\r\n  };\r\n  const fields = version?.fields ?? [];\r\n\r\n  const vs = {};\r\n  fields.map(\r\n    (f) => (vs[f.key] = constraintsToYup(f.type, f.constraints, f.label))\r\n  );\r\n\r\n  const fieldComponents = {\r\n    string: (props) => {\r\n      return (\r\n        <TextField\r\n          style={{ flex: 1 }}\r\n          onChange={props?.handleChange}\r\n          value={props?.value}\r\n          placeholder={props?.placeholder}\r\n          maxLength={props?.maxLength}\r\n          readOnly={props?.readonly}\r\n          error={props?.touched && Boolean(props?.error)}\r\n          helperText={props?.touched && props.error}\r\n        />\r\n      );\r\n    },\r\n    image: (props) => {\r\n      return (\r\n        <FileUploader\r\n          value={props?.value}\r\n          cropEnabled={true}\r\n          height={props?.height}\r\n          width={props?.width}\r\n          onChange={(v) => props?.setFieldValue(props?.key, v)}\r\n          uploadDirectory={\"jobImages\"}\r\n          onError={null}\r\n          name={props?.key + version.id}\r\n        />\r\n      );\r\n    },\r\n  };\r\n\r\n  const schema = Yup.object().shape(vs);\r\n\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    values,\r\n    touched,\r\n    errors,\r\n    setFieldTouched,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: Object.assign({}, ...fields.map((f) => ({ [f.key]: \"\" }))),\r\n    onSubmit: formikSubmit,\r\n    validationSchema: schema,\r\n  });\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit}>\r\n        {fields.map((f) => (\r\n          <Box key={f.key}>\r\n            <Typography style={{ flex: 1 }} display=\"block\">\r\n              {f.label}\r\n            </Typography>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexDirection: \"row\",\r\n                flex: 1,\r\n              }}>\r\n              {fieldComponents[f.type]({\r\n                name: f?.key,\r\n                extension: f?.rendererData?.extension,\r\n                key: f?.key,\r\n                value: values[f?.key],\r\n                handleChange: handleChange(f?.key),\r\n                setFieldValue: setFieldValue,\r\n                setFieldTouched: setFieldTouched,\r\n                touched: touched[f?.key],\r\n                label: f?.label,\r\n                placeholder: f?.placeholder,\r\n                height: f?.constraints.height,\r\n                versionId: version.id,\r\n                error: errors[f?.key],\r\n                width: f?.constraints.width,\r\n                ...f?.constraints,\r\n              })}\r\n            </div>\r\n          </Box>\r\n        ))}\r\n        <Button variant=\"contained\" style={{ marginBottom: 20 }} type=\"submit\">\r\n          Save\r\n        </Button>\r\n        <br></br>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  function constraintsToYup(type, constraints, label) {\r\n    try {\r\n      const yupTypes = {\r\n        string: Yup.string().matches(\r\n          /^[a-zA-Z0-9(&!/'\":.\\-)\\s]*$/,\r\n          \"Invalid value, not allowed\"\r\n        ),\r\n        image: Yup.string(),\r\n      };\r\n      let y = yupTypes[type];\r\n\r\n      Object.keys(constraints).map((k) => {\r\n        switch (k) {\r\n          case \"required\":\r\n            y = y.required(`${label} is required`);\r\n            break;\r\n          case \"maxLength\":\r\n            y = y.max(parseInt(constraints[k], 10));\r\n        }\r\n      });\r\n      return y;\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  }\r\n};\r\n\r\n// const Form = styled.form`\r\n//   position: relative;\r\n//   background: white;\r\n//   min-height: 100vh;\r\n//   border-radius: 20px 20px 0px 0px;\r\n//   padding: 25px;\r\n//   box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\r\n// `;\r\n\r\n// const Input = styled.div`\r\n//   height: 55px;\r\n//   width: 100%;\r\n//   outline: 0px;\r\n//   background: transparent;\r\n//   margin-left: 20px;\r\n// `;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { useFormik } from \"formik\";\r\n\r\nimport ManualTestJob from \"./manualTestJob\";\r\nimport { useAPI } from \"services/APIContext\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  // Dialog,\r\n  // DialogTitle,\r\n  FormControl,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  InputLabel,\r\n  FormGroup,\r\n  Checkbox,\r\n  MenuItem,\r\n  Radio,\r\n  RadioGroup,\r\n  FormHelperText,\r\n  Select,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\n\r\nimport createTestJobs from \"helpers/createTestJobs\";\r\nimport { TestJobVersionsParams } from \"common/types\";\r\nimport { VideoTemplate } from \"services/buzzle-sdk/types\";\r\nimport { useSnackbar } from \"notistack\";\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  versions: Yup.array()\r\n    .required(\"Atleast 1 one version should be selected!\")\r\n    .min(1),\r\n});\r\ntype IProps = {}\r\nexport default (props: IProps) => {\r\n  const { state: { videoTemplate, versions } = {} } = useLocation<{ videoTemplate: VideoTemplate, versions: VideoTemplate[\"versions\"] }>()\r\n  const history = useHistory();\r\n  const { Job } = useAPI()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const [manualJob, setManualJob] = useState<any>([]);\r\n  const {\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    values,\r\n    errors,\r\n    touched,\r\n    setFieldValue,\r\n    setFieldTouched,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    initialValues: {\r\n      versions: [],\r\n      dataFillType: \"maxLength\",\r\n      incrementFrame: 1,\r\n      renderSettings: \"h264\",\r\n      settingsTemplate: \"half\",\r\n    },\r\n    validationSchema,\r\n    onSubmit: async (options: {\r\n      versions: Array<string>,\r\n      dataFillType: \"maxLength\" | \"manual\",\r\n      incrementFrame: number,\r\n      renderSettings: \"h264\",\r\n      settingsTemplate: \"half\" | \"full\",\r\n    }) => {\r\n      try {\r\n        const { settingsTemplate, renderSettings, incrementFrame = 1, versions, dataFillType = \"maxLength\" } = options;\r\n        if (manualJob.length) {\r\n          console.log(\"its a manual job\", manualJob, videoTemplate);\r\n          await Promise.all(\r\n            manualJob.map(async (m: any) => {\r\n              const idVersion = Object.keys(m)[0];\r\n              await Job.create({\r\n                idVideoTemplate: videoTemplate?.id ?? \"\",\r\n                idVersion: idVersion,\r\n                renderPrefs: {\r\n                  settingsTemplate,\r\n                  incrementFrame,\r\n                  renderSettings,\r\n                },\r\n                data: m[idVersion],\r\n              });\r\n            })\r\n          );\r\n          return history.push(\"/home/jobs\");\r\n        }\r\n        // const options: TestJobVersionsParams =\r\n        const jobs = createTestJobs(videoTemplate?.id || \"\", versions?.map((versionId) => ({\r\n          settingsTemplate,\r\n          incrementFrame,\r\n          fields: videoTemplate?.versions?.find(({ id = \"\" }) => versionId === id)?.fields || [],\r\n          id: versionId,\r\n          dataFillType,\r\n        })))\r\n        await Promise.all(jobs?.map(async (data) => await Job.create({\r\n          data: data?.data,\r\n          idVersion: data?.idVersion,\r\n          idVideoTemplate: data?.idVideoTemplate,\r\n          renderPrefs: data?.renderPrefs\r\n        })))\r\n        history.push(\"/home/jobs\", {\r\n          message: \"Video renders created successfully, Once finished you can continue to publish the template section.\"\r\n        })\r\n        history.push(\"/home/jobs\");\r\n      } catch (e) {\r\n        enqueueSnackbar((e as Error)?.message, { variant: 'error' })\r\n      }\r\n    },\r\n  });\r\n\r\n  const handleVersionChoose = (versionId: string, checked: boolean) => {\r\n    setFieldTouched(\"versions\", true);\r\n    const isPresent = Boolean(\r\n      values.versions.filter((id) => id === versionId)?.length ?? false\r\n    );\r\n    if (isPresent) {\r\n      //check if version Id exist remove it from versions\r\n      setFieldValue(\r\n        \"versions\",\r\n        values.versions.filter((id) => id !== versionId)\r\n      );\r\n    } else {\r\n      // add it to versions\r\n      setFieldValue(\"versions\", [\r\n        ...values.versions,\r\n        versions?.find(({ id }) => id === versionId)?.id,\r\n      ]);\r\n    }\r\n  };\r\n\r\n  const onSubmitJob = (data: any, versionId: string) => {\r\n    setManualJob([...manualJob, { [versionId]: data }]);\r\n  };\r\n  return (\r\n    <div>\r\n      <Box as=\"form\"\r\n        //@ts-ignore\r\n        onSubmit={handleSubmit}\r\n        p={4} mb={2}>\r\n        <FormControl\r\n          required\r\n          error={!!(touched.versions && errors.versions)}\r\n          component=\"fieldset\">\r\n          <FormLabel component=\"legend\">Choose Versions</FormLabel>\r\n          <FormGroup row>\r\n            {versions?.map((item, index) => (\r\n              <FormControlLabel\r\n                key={index}\r\n                control={\r\n                  <Checkbox\r\n                    checked={Boolean(\r\n                      values.versions?.filter((idVersion) => (item?.id ?? \"\") === idVersion)\r\n                        ?.length ?? false\r\n                    )}\r\n                    onChange={({ target: { checked } }) =>\r\n                      handleVersionChoose(item?.id, checked)\r\n                    }\r\n                  />\r\n                }\r\n                label={item?.title}\r\n              />\r\n            ))}\r\n          </FormGroup>\r\n          <FormHelperText error={!!(touched.versions && errors.versions)}>\r\n            {errors.versions}\r\n          </FormHelperText>\r\n        </FormControl>\r\n        <br />\r\n        <FormControl component=\"fieldset\">\r\n          <FormLabel component=\"legend\">Data Fill Type</FormLabel>\r\n          <RadioGroup\r\n            aria-label=\"dataFillType\"\r\n            name=\"dataFillType\"\r\n            value={values.dataFillType}\r\n            onChange={handleChange}>\r\n            <FormControlLabel\r\n              value=\"maxLength\"\r\n              control={<Radio />}\r\n              label=\"Max Length\"\r\n            />\r\n            <FormControlLabel\r\n              value=\"manual\"\r\n              control={<Radio />}\r\n              label=\"Manual\"\r\n            />\r\n          </RadioGroup>\r\n        </FormControl>\r\n        {values.dataFillType === \"manual\" && videoTemplate !== undefined ? (\r\n          values.versions.map((version) => (\r\n            <ManualTestJob\r\n              //@ts-ignore\r\n              edit={false}\r\n              version={videoTemplate?.versions?.find(({ id }) => id === version)} //version.id\r\n              onSubmitJob={(d: any) => onSubmitJob(d, version)}></ManualTestJob>\r\n          ))\r\n        ) : (\r\n          <div></div>\r\n        )}\r\n\r\n        <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n          <InputLabel htmlFor=\"settingsTemplate\">Output Module</InputLabel>\r\n          <Select\r\n            name={\"settingsTemplate\"}\r\n            value={values.settingsTemplate}\r\n            margin=\"dense\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            error={touched.settingsTemplate && !!errors.settingsTemplate}\r\n            fullWidth\r\n            placeholder={\"Settings Template\"}\r\n            label=\"Output Module\"\r\n            variant={\"outlined\"}\r\n            inputProps={{\r\n              name: \"settingsTemplate\",\r\n              id: \"settingsTemplate\",\r\n            }}>\r\n            <MenuItem aria-label=\"None\" value=\"\" />\r\n            <MenuItem value={\"half\"}>Half</MenuItem>\r\n            <MenuItem value={\"full\"}>Full</MenuItem>\r\n          </Select>\r\n        </FormControl>\r\n        {/* <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n          <InputLabel htmlFor=\"renderSettings\">\r\n            Render Settings Template\r\n          </InputLabel>\r\n          <Select\r\n            name={\"renderSettings\"}\r\n            value={values.renderSettings}\r\n            margin=\"dense\"\r\n            onBlur={handleBlur}\r\n            onChange={handleChange}\r\n            placeholder={\"Render Settings\"}\r\n            label=\"Render Settings Template\"\r\n            error={touched.renderSettings && !!errors.renderSettings}\r\n            fullWidth\r\n            variant={\"outlined\"}\r\n            inputProps={{\r\n              name: \"renderSettings\",\r\n              id: \"renderSettings\",\r\n            }}>\r\n            <MenuItem aria-label=\"None\" value=\"\" />\r\n            <MenuItem value={\"h264\"}>h264</MenuItem>\r\n          </Select>\r\n        </FormControl> */}\r\n        <TextField\r\n          name={\"incrementFrame\"}\r\n          margin=\"dense\"\r\n          value={values.incrementFrame}\r\n          label=\"Frame Increment\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched.incrementFrame && !!errors.incrementFrame}\r\n          fullWidth\r\n          type={\"number\"}\r\n          variant={\"outlined\"}\r\n          placeholder=\"Frame Increment\"\r\n        />\r\n        {/* <TextField\r\n          name=\"frameStart\"\r\n          label=\"Start Frame\"\r\n          type=\"number\"\r\n          value={values.frameStart}\r\n          margin=\"dense\"\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched.frameStart && !!errors.frameStart}\r\n          fullWidth\r\n          variant={\"outlined\"}\r\n          placeholder=\"Frame Start\"\r\n        />\r\n        <TextField\r\n          name=\"frameEnd\"\r\n          label=\"Frame End\"\r\n          type=\"number\"\r\n          margin=\"dense\"\r\n          value={values.frameEnd}\r\n          onBlur={handleBlur}\r\n          onChange={handleChange}\r\n          error={touched.frameEnd && !!errors.frameEnd}\r\n          fullWidth\r\n          variant={\"outlined\"}\r\n          placeholder=\"Frame End\"\r\n        /> */}\r\n        <Box mb={2}>\r\n          <Button\r\n            disabled={!!isSubmitting}\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            // type=\"submit\"\r\n            onClick={()=>handleSubmit()}\r\n            children=\"Submit\" />\r\n        </Box>\r\n      </Box>\r\n    </div>\r\n  );\r\n};\r\n","import {\r\n  Box,\r\n  Button,\r\n  CircularProgress,\r\n  Container,\r\n  FormControl,\r\n  FormHelperText,\r\n  IconButton,\r\n  InputAdornment,\r\n  InputLabel,\r\n  LinearProgress,\r\n  OutlinedInput,\r\n  Paper,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { createStyles, makeStyles } from \"@material-ui/core/styles\";\r\nimport Visibility from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOff from \"@material-ui/icons/VisibilityOff\";\r\nimport { Alert } from \"@material-ui/lab\";\r\nimport Branding from \"common/Branding\";\r\nimport { useFormik } from \"formik\";\r\nimport React, { useState, useEffect, useCallback } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport { useAuth } from \"services/auth\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport { useAPI } from \"services/APIContext\";\r\nimport AuthOperations from \"common/AuthOperations\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\n\r\nexport default () => {\r\n  const param = useQuery()\r\n  const { state = {}, } = useLocation<{ message?: string, email?: string, mode?: \"change-pass\" | \"check\" | \"forgot-pass\" | \"login\" | \"register\" | \"re-auth\" }>()\r\n  const { user, isUserLoadingFromFirebase, } = useAuth();\r\n  const email = ((state)?.email || param.get(\"email\") || \"\")\r\n  const message = ((state)?.message || param.get(\"message\") || \"\")\r\n\r\n  if (user && !isUserLoadingFromFirebase) {\r\n    return <Redirect to=\"/home\" />\r\n  }\r\n  return (\r\n    <Box style={{\r\n      display: 'flex', height: '100%',\r\n      justifyContent: 'center',\r\n      alignItems: 'center',\r\n      flexDirection: 'column'\r\n    }} >\r\n      <Typography\r\n        variant=\"h4\"\r\n        style={{\r\n          textAlign: \"center\",\r\n          marginBottom: 30,\r\n          fontWeight: 800,\r\n          fontSize: \"2.5rem\",\r\n          fontFamily: \"Poppins\",\r\n        }}>\r\n        Buzzle!\r\n      </Typography>\r\n      <Paper style={{ marginLeft: 10, marginRight: 10,  }}>\r\n        <AuthOperations message={message} email={email} />\r\n      </Paper>\r\n      <Branding mt={5} />\r\n    </Box>\r\n  );\r\n};\r\n","import React, { useEffect, useMemo } from \"react\";\r\nimport { darkTheme, lightTheme } from \"helpers/themes\";\r\nimport { DarkModeProvider, useDarkMode } from \"helpers/useDarkMode\";\r\nimport PrivateRoute from \"common/PrivateRoute\";\r\n// pages\r\n// import AddVideoTemplateOutline from \"pages/AddVideoTemplateOutline\";\r\nimport Domains from \"domains\";\r\nimport NotFound from \"domains/NotFound\";\r\n\r\nimport Landing from \"domains/Landing\";\r\nimport TestJob from \"domains/VideoTemplate/CreateTestJob\";\r\nimport Auth from \"domains/Auth\";\r\nimport { SnackbarProvider, useSnackbar } from \"notistack\";\r\nimport { Route, BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\r\nimport { AuthProvider, useAuth } from \"services/auth\";\r\nimport Page from \"common/Page\";\r\nimport { APIProvider } from \"services/APIContext\";\r\nimport { Box, CircularProgress, ThemeProvider } from \"@material-ui/core\";\r\nimport { ReAuthFlowProvider } from \"services/Re-AuthContext\";\r\nimport { RemoteConfigProvider } from \"services/RemoteConfigContext\";\r\n\r\nconst AppChild = () => {\r\n  const [theme, componentMounted] = useDarkMode();\r\n  const { isUserLoadingFromFirebase, user } = useAuth()\r\n  const appTheme = useMemo(() => theme == \"light\" ? lightTheme : darkTheme, [theme])\r\n  if (!componentMounted || isUserLoadingFromFirebase) {\r\n    return <Box style={{ height: '100%', margin: 0, display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\r\n      <CircularProgress color=\"primary\" />\r\n    </Box>\r\n  }\r\n  return (\r\n    <Box style={{ height: '100%', margin: 0 }}>\r\n      <ThemeProvider theme={appTheme} >\r\n        <Router>\r\n          <Switch>\r\n            <Route exact path=\"/\"\r\n              render={(props: any) => (\r\n                <Page props={props} component={Landing} title=\"\" />\r\n              )} />\r\n            <Route path=\"/login\" exact\r\n              render={(props: any) => (\r\n                <Page props={props} component={Auth} title=\"Login\" />\r\n              )}\r\n            />\r\n            <Route path=\"/testJob\" exact\r\n              render={(props: any) => (\r\n                <Page props={props} component={TestJob} title=\"Test Job\" />\r\n              )}\r\n            />\r\n            <PrivateRoute path=\"/home\"\r\n              render={(props: any) => (\r\n                <Page props={props} component={Domains} title=\"Home\" />\r\n              )}\r\n            />\r\n            <Route path=\"*\"\r\n              render={(props: any) => (\r\n                <Page props={props} component={NotFound} title=\"404 - Not Found\" />\r\n              )}\r\n            />\r\n          </Switch>\r\n        </Router>\r\n      </ThemeProvider >\r\n    </Box >\r\n  );\r\n};\r\n\r\nexport default () => {\r\n  return (\r\n    <DarkModeProvider>\r\n      <RemoteConfigProvider>\r\n        <SnackbarProvider maxSnack={3} anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }\r\n        }>\r\n          <APIProvider>\r\n            <AuthProvider>\r\n              <ReAuthFlowProvider>\r\n                <AppChild />\r\n              </ReAuthFlowProvider>\r\n            </AuthProvider>\r\n          </APIProvider>\r\n        </SnackbarProvider>\r\n      </RemoteConfigProvider>\r\n    </DarkModeProvider>\r\n  );\r\n};\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport Backend from \"i18next-http-backend\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\n// not like to use this?\r\n// have a look at the Quick start guide\r\n// for passing in lng and translations on init\r\nconst Languages = ['en'];\r\ni18n\r\n    // load translation using http -> see /public/locales (i.e. https://github.com/i18next/react-i18next/tree/master/example/react/public/locales)\r\n    // learn more: https://github.com/i18next/i18next-http-backend\r\n    .use(Backend)\r\n    // detect user language\r\n    // learn more: https://github.com/i18next/i18next-browser-languageDetector\r\n    .use(LanguageDetector)\r\n    // pass the i18n instance to react-i18next.\r\n    .use(initReactI18next)\r\n    // init i18next\r\n    // for all options read: https://www.i18next.com/overview/configuration-options\r\n    .init({\r\n        fallbackLng: 'en',\r\n        debug: true,\r\n        whitelist: Languages,\r\n        // have a common namespace used around the full app\r\n        keySeparator: false, // we use content as keys\r\n        interpolation: {\r\n            escapeValue: false, // not needed for react!!\r\n        },\r\n    });\r\nexport default i18n;","import React, { Suspense } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport \"./i18next\";\r\nimport { CurrencyProvider } from \"services/currencyContext\";\r\nimport { CircularProgress,Box } from \"@material-ui/core\";\r\n// if (\"serviceWorker\" in navigator) {\r\n//   navigator.serviceWorker\r\n//     .register(\"/firebase-messaging-sw.js\")\r\n//     .then(function (registration) {\r\n//       console.log(\"Registration successful, scope is:\", registration.scope);\r\n//     })\r\n//     .catch(function (err) {\r\n//       console.log(\"Service worker registration failed, error:\", err);\r\n//     });\r\n// }\r\nReactDOM.render(\r\n  <Suspense fallback={<Box style={{ display: 'flex', height: '100%', width: '100%', alignItems: 'center', justifyContent: 'center' }}><CircularProgress color=\"primary\" size={25} /></Box>}>\r\n    <React.StrictMode>\r\n      <CurrencyProvider>\r\n        <App />\r\n      </CurrencyProvider>\r\n    </React.StrictMode>\r\n  </Suspense>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","export const createImage = url =>\r\n    new Promise((resolve, reject) => {\r\n        const image = new Image()\r\n        image.addEventListener('load', () => resolve(image))\r\n        image.addEventListener('error', error => reject(error))\r\n        image.src = url\r\n    })\r\n\r\nfunction getRadianAngle(degreeValue) {\r\n    return (degreeValue * Math.PI) / 180\r\n}\r\nexport const getDiagonalLengthOfRectangle = ({ width, height }) => {\r\n    return (Math.sqrt(width * width + height * height))\r\n}\r\n/**\r\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\r\n * @param {File} image - Image File url\r\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\r\n * @param {number} rotation - optional rotation parameter\r\n */\r\nexport async function getCroppedImg(imageSrc, pixelCrop, rotation = 0, { width = 0, height = 0 }) {\r\n    const image = await createImage(imageSrc)\r\n    const canvas = document.createElement('canvas')\r\n    const ctx = canvas.getContext('2d')\r\n    width = parseInt(`${width || 0}`)\r\n    height = parseInt(`${height || 0}`)\r\n    const safeArea = Math.max(image.width, image.height) * 2\r\n    // set each dimensions to double largest dimension to allow for a safe area for the\r\n    // image to rotate in without being clipped by canvas context\r\n    canvas.width = safeArea\r\n    canvas.height = safeArea\r\n    ctx.beginPath();\r\n    ctx.rect(0, 0, canvas.width, canvas.height)\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fill();\r\n    // translate canvas context to a central location on image to allow rotating around the center.\r\n    ctx.translate(safeArea / 2, safeArea / 2)\r\n    ctx.rotate(getRadianAngle(rotation))\r\n    ctx.translate(-safeArea / 2, -safeArea / 2)\r\n\r\n    // draw rotated image and store data.\r\n    ctx.drawImage(\r\n        image,\r\n        safeArea / 2 - image.width * 0.5,\r\n        safeArea / 2 - image.height * 0.5\r\n    )\r\n    const data = ctx.getImageData(0, 0, safeArea, safeArea)\r\n\r\n    // set canvas width to final desired crop size - this will clear existing context\r\n    canvas.width = pixelCrop.width\r\n    canvas.height = pixelCrop.height\r\n    ctx.beginPath();\r\n    ctx.rect(0, 0, canvas.width, canvas.height)\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fill();\r\n    // paste generated rotate image with correct offsets for x,y crop values.\r\n    ctx.putImageData(\r\n        data,\r\n        0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x,\r\n        0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y\r\n    )\r\n    //As Base64 string\r\n    var canvasTemp = document.createElement(\"canvas\");\r\n    var ctx2 = canvasTemp.getContext(\"2d\");\r\n    canvasTemp.width = width\r\n    canvasTemp.height = height\r\n    ctx2.beginPath();\r\n    ctx2.rect(0, 0, width, height)\r\n    ctx2.fillStyle = \"black\";\r\n    ctx2.fill();\r\n    ctx2.drawImage(canvas, 0, 0, width, height);\r\n    return canvasTemp.toDataURL(\"image/png\", 1);\r\n\r\n    // As a blob\r\n    // return new Promise(resolve => {\r\n    //     canvas.toBlob(file => {\r\n    //         resolve(URL.createObjectURL(file))\r\n    //     }, 'image/jpeg')\r\n    // })\r\n}\r\n\r\nexport function readFile(file) {\r\n    return new Promise(resolve => {\r\n        const reader = new FileReader()\r\n        reader.addEventListener('load', () => resolve(reader.result), false)\r\n        reader.readAsDataURL(file)\r\n    })\r\n}\r\nexport const ORIENTATION_TO_ANGLE = {\r\n    '3': 180,\r\n    '6': 90,\r\n    '8': -90,\r\n}\r\nexport async function getRotatedImage(imageSrc, rotation = 0) {\r\n    const image = await createImage(imageSrc)\r\n    const canvas = document.createElement('canvas')\r\n    const ctx = canvas.getContext('2d')\r\n\r\n    const orientationChanged =\r\n        rotation === 90 || rotation === -90 || rotation === 270 || rotation === -270\r\n    if (orientationChanged) {\r\n        canvas.width = image.height\r\n        canvas.height = image.width\r\n    } else {\r\n        canvas.width = image.width\r\n        canvas.height = image.height\r\n    }\r\n\r\n    ctx.translate(canvas.width / 2, canvas.height / 2)\r\n    ctx.rotate((rotation * Math.PI) / 180)\r\n    ctx.drawImage(image, -image.width / 2, -image.height / 2)\r\n\r\n    return new Promise(resolve => {\r\n        canvas.toBlob(file => {\r\n            resolve(URL.createObjectURL(file))\r\n        }, 'image/jpeg')\r\n    })\r\n}\r\n","\r\nimport { firebaseAuth } from './firebase';\r\n\r\nimport firebase from 'firebase/app';\r\nimport \"firebase/auth\"\r\nimport React, {\r\n  createContext,\r\n  useContext,\r\n  useEffect,\r\n  useMemo,\r\n  useState,\r\n  ReactNode,\r\n  useCallback,\r\n} from 'react';\r\nimport { Auth } from 'common/types';\r\nimport { useAPI } from './APIContext';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useSnackbar } from 'notistack';\r\nimport { User } from './buzzle-sdk/types';\r\nconst provider = new firebase.auth.GoogleAuthProvider()\r\ninterface IProps {\r\n  children?: ReactNode;\r\n}\r\nconst defaultAuthValue: Auth = {\r\n  signInWithPassword: async () => console.log('Email/Password Sign In!'),\r\n  forgotPassword: () => console.log('Forgot Password Sign In!'),\r\n  signUpWithEmailPassword: async () => console.log('Signup function!'),\r\n  refreshUser: async () => console.log('Change Password Sign In!'),\r\n  signOut: () => console.log('Sign out!'),\r\n  checkUserExist: async () => true,\r\n  verifyEmail: () => console.log(\"send email verification\"),\r\n  user: null,\r\n  initializing: false,\r\n  isUserLoading: true,\r\n  token: \"\",\r\n  isAdmin: false,\r\n  isUserLoadingFromFirebase: true\r\n};\r\nconst AuthContext = createContext<Auth>(defaultAuthValue);\r\n\r\nfunction useAuth(): Auth {\r\n  const context = useContext(AuthContext);\r\n  if (!context) {\r\n    console.log('useAuth must be used within a AuthProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\nfunction AuthProvider(props: IProps) {\r\n  const [token, setToken] = useState<string>(\"\")\r\n  const history = useHistory()\r\n  const { enqueueSnackbar } = useSnackbar()\r\n  const { User, isAPIReady, token: apiToken, setToken: handleSetToken } = useAPI()\r\n  const [user, setUser] = useState<any | null>(null);\r\n  const [isUserLoadingFromFirebase, setIsUserLoadingFromFirebase] = useState<boolean>(true)\r\n  const [isUserLoading, setIsUserLoading] = useState<boolean>(true);\r\n  const [initializing, setInitializing] = useState(false);\r\n  const [error, setError] = useState<Error | null>(null)\r\n  const [isUserRegistered, setIsUserRegistered] = useState<boolean>(true)\r\n  const [name, setName] = useState<string>(\"\")\r\n  const onAuthStateChanged = (u: firebase.User | any): any => {\r\n    setIsUserLoading(true)\r\n    if (u) {\r\n      u.getIdToken(true).then((value: string) => {\r\n        setToken(value)\r\n        setUser(u);\r\n        setInitializing(false)\r\n        setIsUserLoadingFromFirebase(false)\r\n      }).catch()\r\n\r\n    } else {\r\n      setToken(\"\")\r\n      setUser(null);\r\n      setIsUserLoading(false)\r\n      setIsUserLoadingFromFirebase(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (apiToken !== token) {\r\n      handleSetToken(token)\r\n    }\r\n  }, [token, apiToken])\r\n\r\n  useEffect(() => {\r\n    if (isAPIReady && user && isUserLoading) {\r\n      if (isUserRegistered) {\r\n\r\n        User.get(user?.uid).then((data) => {\r\n          setIsUserLoading(false)\r\n          setUser(firebaseAuth.currentUser ? { ...user, ...data } : null);\r\n        }).catch((err) => {\r\n          setIsUserLoading(false)\r\n          setError(err as Error)\r\n          enqueueSnackbar(\"Failed to load user\", { variant: 'error' })\r\n\r\n        });\r\n      } else {\r\n\r\n        User.create({ name: firebaseAuth.currentUser?.displayName || name }).then(({ data }) => {\r\n          setIsUserLoading(false)\r\n          setIsUserRegistered(true)\r\n          setUser(firebaseAuth.currentUser ? { ...user, ...data } : null);\r\n        }).catch((err) => {\r\n          setIsUserLoading(false)\r\n          enqueueSnackbar(\"Failed to create user\", { variant: 'error' })\r\n          setError(err as Error)\r\n        });\r\n      }\r\n    }\r\n  }, [isUserRegistered, isUserLoading, user, User, isAPIReady, name])\r\n\r\n\r\n  useEffect(() => {\r\n    const subscriber = firebaseAuth.onAuthStateChanged(onAuthStateChanged);\r\n    return subscriber;\r\n  }, []);\r\n\r\n  const value: Auth = useMemo(() => {\r\n\r\n    const signInWithPassword = async (\r\n      email: string,\r\n      password: string\r\n    ) => {\r\n      try {\r\n        setInitializing(true);\r\n        await firebaseAuth.signInWithEmailAndPassword(email, password);\r\n      } catch (error) {\r\n        setInitializing(false);\r\n        throw new Error((error as Error)?.message);\r\n      }\r\n    };\r\n    const signOut = async () => {\r\n      try {\r\n        await firebaseAuth.signOut();\r\n        history.push(\"/login\")\r\n        setUser(null);\r\n        setToken(\"\")\r\n      } catch (err) {\r\n        await firebaseAuth.signOut();\r\n        setUser(null);\r\n        setToken(\"\")\r\n\r\n      }\r\n    };\r\n    const refreshUser = async (updatedUser?: User) => {\r\n      try {\r\n        if (user?.uid && !updatedUser) {\r\n          setIsUserLoading(true)\r\n          const data = await User.get(user?.uid)\r\n          setIsUserLoading(false)\r\n          setUser(firebaseAuth.currentUser ? { ...(firebaseAuth.currentUser || {}), ...data } : null);\r\n\r\n        } else {\r\n          setUser(firebaseAuth.currentUser ? { ...(firebaseAuth.currentUser || {}), ...updatedUser } : null)\r\n        }\r\n      } catch (err) {\r\n        enqueueSnackbar(\"Failed to refresh\", {\r\n          variant: 'error'\r\n        })\r\n        setIsUserLoading(false)\r\n      }\r\n    }\r\n    const checkUserExist = async (email: string): Promise<boolean> => {\r\n      try {\r\n        await User.get(email || \"\")\r\n        setIsUserRegistered(true)\r\n        return true\r\n      } catch (err) {\r\n\r\n        setIsUserRegistered(false)\r\n        return false\r\n      }\r\n    }\r\n    const forgotPassword = async (email: string) => {\r\n      await firebaseAuth.sendPasswordResetEmail(email, { url: `${window.location.origin}/login?email=${email}` })\r\n    }\r\n    const verifyEmail = async (email: string) => {\r\n      await firebaseAuth.currentUser?.sendEmailVerification({ url: `${window.location.origin}/login` })\r\n    }\r\n    const signUpWithEmailPassword = async (email: string, password: string, name: string) => {\r\n      const { user } = await firebaseAuth.createUserWithEmailAndPassword(email, password);\r\n      setName(name)\r\n      await user?.updateProfile({ displayName: name, })\r\n    }\r\n    return {\r\n      signInWithPassword,\r\n      signOut,\r\n      isUserLoading,\r\n      refreshUser,\r\n      forgotPassword,\r\n      signUpWithEmailPassword,\r\n      user,\r\n      initializing,\r\n      checkUserExist,\r\n      isUserLoadingFromFirebase,\r\n      token,\r\n      verifyEmail,\r\n      isAdmin: (user?.role === \"admin\")\r\n    };\r\n  }, [user, token, isUserLoading, isUserLoadingFromFirebase, initializing]);\r\n  return <AuthContext.Provider value={value} {...props} />;\r\n}\r\n\r\nconst getErrorFromStatusCode = (statusCode: string) => {\r\n  // switch (statusCode) {\r\n  //   case statusCodes.SIGN_IN_CANCELLED:\r\n  //     return 'User cancelled the login flow';\r\n  //   case statusCodes.IN_PROGRESS:\r\n  //     return 'Operation (f.e. sign in) is in progress already';\r\n  //   case statusCodes.PLAY_SERVICES_NOT_AVAILABLE:\r\n  //     return 'Play services not available or outdated';\r\n  //   default:\r\n  //     return 'Something went wrong.';\r\n  // }\r\n};\r\nexport { AuthProvider, useAuth };\r\n","export const apiRequest= async (uri:string, options?:RequestInit) => {\r\n  const response = await fetch(uri, options);\r\n  if (!response.ok) throw new Error((await response.json()).message);\r\n  return await response.json();\r\n};\r\n","export default function (obj:any) {\r\n  var str = [];\r\n  for (var p in obj)\r\n    if (obj.hasOwnProperty(p)) {\r\n      str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\r\n    }\r\n  return str.join(\"&\");\r\n};","import { apiRequest } from \"../helpers/apiRequest\";\r\nimport { Job as JobType, JobParam } from \"../types\";\r\nimport objectToQueryString from \"../helpers/objectToQueryString\";\r\n\r\nexport default function Job(baseUrl: String, headers: HeadersInit) {\r\n  return {\r\n    getAll: async (\r\n      page: number,\r\n      size: number,\r\n      query: string,\r\n      sortBy?: string,\r\n      orderBy?: string,\r\n      extraParams?: Record<string, any>\r\n    ): Promise<{ data: Array<JobType | []>; count: number }> => {\r\n      return apiRequest(\r\n        `${baseUrl}/jobs?page=${page}&size=${size}&sortBy=${sortBy || \"dateCreated\"}&orderBy=${orderBy || \"desc\"}&${query}&${objectToQueryString(\r\n          extraParams || {}\r\n        )}`,\r\n        { method: \"GET\", headers }\r\n\r\n      );\r\n    },\r\n\r\n    get: async (id: string,\r\n      query: string,\r\n      extraParams?: Record<string, any>\r\n    ): Promise<JobType | []> => {\r\n      return apiRequest(\r\n        `${baseUrl}/jobs/${id}?&${query}&${objectToQueryString(extraParams || {})}`,\r\n        { method: \"GET\", headers }\r\n      );\r\n    },\r\n    create: async ({\r\n      actions,\r\n      data,\r\n      idVideoTemplate,\r\n      idVersion,\r\n      renderPrefs,\r\n      extra,\r\n      extraParams,\r\n    }: JobParam) => {\r\n\r\n      return apiRequest(`${baseUrl}/jobs${extraParams ? `?${objectToQueryString(extraParams || {})}` : \"\"}`, {\r\n        method: \"POST\",\r\n        headers,\r\n        body: JSON.stringify({\r\n          actions,\r\n          data,\r\n          idVideoTemplate,\r\n          idVersion,\r\n          renderPrefs,\r\n          ...(extra ? { extra } : {}),\r\n        }),\r\n      });\r\n    },\r\n\r\n    update: async (id: string, data: Record<string, any>, extraParams?: Record<string, any>): Promise<any> => {\r\n      return apiRequest(\r\n        `${baseUrl}/jobs/${id}?${objectToQueryString(extraParams)}`,\r\n        {\r\n          method: \"PUT\",\r\n          headers,\r\n          body: JSON.stringify(data),\r\n        }\r\n      );\r\n    },\r\n\r\n    updateMultiple: async (data: Record<string, any>, extraParams?: Record<string, any>): Promise<any> => {\r\n      return apiRequest(`${baseUrl}/jobs?${objectToQueryString(extraParams)}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n\r\n    delete: async (id: string, extraParams?: Record<string, any>) => {\r\n      return apiRequest(\r\n        `${baseUrl}/jobs/${id}?${objectToQueryString(extraParams || {})}`,\r\n        {\r\n          method: \"DELETE\",\r\n          headers,\r\n        }\r\n      );\r\n    },\r\n    deleteMultiple: async (data: Record<string, any>, extraParams?: Record<string, any>): Promise<any> => {\r\n      return apiRequest(`${baseUrl}/jobs?${objectToQueryString(extraParams)}`, {\r\n        method: \"DELETE\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n    getStatus: async (\r\n      query: string,\r\n      extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/jobs?${query}&${objectToQueryString(extraParams)}`, {\r\n        method: \"GET\",\r\n        headers,\r\n      })\r\n    }\r\n  };\r\n}\r\n","import { apiRequest } from \"../helpers/apiRequest\";\r\nimport { User as UserType } from \"../types\";\r\nimport objectToQueryString from \"../helpers/objectToQueryString\";\r\n\r\nexport default function User(\r\n  baseUrl: String,\r\n  headers: HeadersInit\r\n) {\r\n  return {\r\n    getAll: async (page: number,\r\n      size: number,\r\n      extraParams?: Record<string, any>\r\n    ): Promise<{ data: Array<UserType | []>; count: number }> => {\r\n      return apiRequest(\r\n        `${baseUrl}/users?page=${page}&size=${size}&${objectToQueryString(\r\n          extraParams || {}\r\n        )}`,\r\n        {\r\n          method: \"GET\",\r\n          headers,\r\n        }\r\n      );\r\n    },\r\n    get: async (id: string, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/users/${id}?${objectToQueryString(\r\n        extraParams || {}\r\n      )}`, {\r\n        method: \"GET\",\r\n        headers,\r\n      });\r\n    },\r\n\r\n    delete: async (id: string, data: Record<string, any>, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/users/${id}?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"DELETE\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n\r\n    create: async (data: Partial<UserType>, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/users?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"POST\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n    update: async (data?: Partial<UserType>, extraParams?: {\r\n      noMessage?: boolean,\r\n      keyOperation?: \"generate\" | \"update\" | \"revoke\"\r\n    }): Promise<{ message: string, data: UserType }> => {\r\n\r\n      return apiRequest(`${baseUrl}/users?${objectToQueryString(\r\n        extraParams || {}\r\n      )}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify(data || {}),\r\n      });\r\n    },\r\n    addTemplate: (guestTemplateUsed: Array<string>, extraParams?: {\r\n      noMessage?: boolean,\r\n    }): Promise<{ message: string, data: UserType }> => {\r\n      return apiRequest(`${baseUrl}/users?${objectToQueryString(\r\n        extraParams || {}\r\n      )}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify({ guestTemplateUsed }),\r\n      });\r\n    },\r\n    removeTemplate: (guestTemplateUsedToBeRemoved: Array<string>, extraParams?: {\r\n      noMessage?: boolean,\r\n    }): Promise<{ message: string, data: UserType }> => {\r\n      return apiRequest(`${baseUrl}/users?${objectToQueryString(\r\n        extraParams || {}\r\n      )}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify({ guestTemplateUsedToBeRemoved }),\r\n      });\r\n    }\r\n  };\r\n}\r\n","import { apiRequest } from \"../helpers/apiRequest\";\r\nimport { User as UserType } from \"../types\";\r\nimport objectToQueryString from \"../helpers/objectToQueryString\";\r\n\r\nexport default function Analytics(\r\n    baseUrl: String,\r\n    headers: HeadersInit\r\n) {\r\n    return {\r\n        jobsPerTemplate: async (from: Date,\r\n            to?: Date,\r\n            mode?: \"template\" | \"version\",\r\n            extraParams?: Record<string, any>\r\n        ): Promise<{\r\n            data: Array<{\r\n                date: string,\r\n                id: string,\r\n                title: string,\r\n                idVideoTemplate?: string,\r\n                idVersion?: string\r\n            }>;\r\n            count: number\r\n        }> => {\r\n            return apiRequest(\r\n                `${baseUrl}/analytics?mode=${mode}&dateUpdated=>=${from.toISOString()}&${to ? `dateUpdated=<=${to.toISOString() || from.toISOString()}` : \"\"}&${objectToQueryString(\r\n                    extraParams || {}\r\n                )}`,\r\n                {\r\n                    method: \"GET\",\r\n                    headers,\r\n                }\r\n            );\r\n        },\r\n\r\n    }\r\n}\r\n","import { apiRequest } from \"../helpers/apiRequest\";\r\nimport { ec2Instance, Pricing, VideoTemplate as VideoTemplateType } from \"../types\";\r\nimport objectToQueryString from \"../helpers/objectToQueryString\";\r\n\r\nexport default function VideoTemplate(\r\n    baseUrl: String,\r\n    headers: HeadersInit\r\n) {\r\n    return {\r\n        video: async (id: string, query?: string, extraParams?: {\r\n            duration?: \"month\" | \"all\"\r\n        })\r\n            : Promise<Array<Pricing>> => {\r\n            return apiRequest(`${baseUrl}/renderTime/${id}?${query}&${objectToQueryString(\r\n                extraParams || {}\r\n            )}`, {\r\n                method: \"GET\",\r\n                headers,\r\n            });\r\n        },\r\n        instance: async (): Promise<Array<ec2Instance>> => {\r\n            return apiRequest(`${baseUrl}/status/instances`, {\r\n                method: \"GET\",\r\n                headers,\r\n            });\r\n        }\r\n    };\r\n}\r\n","import { apiRequest } from \"../helpers/apiRequest\";\r\nimport { VideoTemplate as VideoTemplateType } from \"../types\";\r\nimport objectToQueryString from \"../helpers/objectToQueryString\";\r\n\r\nexport default function VideoTemplate(\r\n  baseUrl: String,\r\n  headers: HeadersInit\r\n) {\r\n  return {\r\n    getAll: async (\r\n      page: number,\r\n      size: number,\r\n      query: string,\r\n      sortBy: string,\r\n      orderBy: string,\r\n      extraParams?: { type: \"owned\" | \"public\", idCreatedBy?: string, fields?: \"createdBy\" }\r\n    ): Promise<{ data: Array<VideoTemplateType>; count: number }> => {\r\n      return apiRequest(\r\n        `${baseUrl}/videoTemplates?page=${page}&size=${size}&sortBy=${sortBy}&orderBy=${orderBy}&${query}&${objectToQueryString(\r\n          extraParams\r\n        )}`,\r\n        {\r\n          method: \"GET\",\r\n          headers,\r\n        }\r\n      );\r\n    },\r\n    get: async (id: string, query?: string, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/videoTemplates/${id}?${query}&${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"GET\",\r\n        headers,\r\n      });\r\n    },\r\n\r\n    create: async (data: Partial<VideoTemplateType>, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/videoTemplates?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"POST\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n\r\n    update: async (id: string, data: Partial<VideoTemplateType>, extraParams?: { noMessage?: boolean, publishAction?: 'publish' }): Promise<{\r\n      message: string,\r\n      data: VideoTemplateType\r\n    }> => {\r\n      return apiRequest(`${baseUrl}/videoTemplates/${id}?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n    updateMany: async (data: Partial<VideoTemplateType>, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/videoTemplates?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"PUT\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n\r\n    delete: async (id: string, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/videoTemplates/${id}?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"DELETE\",\r\n        headers,\r\n      });\r\n    },\r\n    deleteMany: async (data: any, extraParams?: Record<string, any>) => {\r\n      return apiRequest(`${baseUrl}/videoTemplates?${objectToQueryString(\r\n        extraParams\r\n      )}`, {\r\n        method: \"DELETE\",\r\n        headers,\r\n        body: JSON.stringify(data),\r\n      });\r\n    },\r\n  };\r\n}\r\n","import API from \"./api\";\r\nexport default API\r\n","import Job from \"./job\";\r\nimport User from \"./user\";\r\nimport Analytics from \"./analytics\";\r\nimport Pricing from \"./pricing\";\r\nimport VideoTemplate from \"./videoTemplate\";\r\nimport { APIParam } from \"../types\";\r\nimport { firebaseAuth } from \"services/firebase\";\r\n\r\nexport default (params: APIParam) => {\r\n  const { baseUrl, authToken } = params;\r\n  const headers = {\r\n    Accept: \"application/json\",\r\n    \"Content-Type\": \"application/json\",\r\n    Authorization: `bearer ${authToken || firebaseAuth.currentUser?.getIdToken(true)}`,\r\n  };\r\n\r\n  return {\r\n    Job: Job(baseUrl, headers),\r\n    Pricing: Pricing(baseUrl, headers),\r\n    Analytics: Analytics(baseUrl, headers),\r\n    User: User(baseUrl, headers),\r\n    VideoTemplate: VideoTemplate(baseUrl, headers),\r\n  };\r\n}\r\n","import React, {\r\n    createContext,\r\n    ReactNode,\r\n    useContext,\r\n    useEffect,\r\n    useMemo,\r\n    useState,\r\n} from 'react';\r\nimport { useAuth } from './auth';\r\nimport API from './buzzle-sdk';\r\nimport { firebaseAuth } from './firebase';\r\nimport APIInterface from 'buzzle-sdk/dist/lib/interfaces';\r\nimport { useConfig } from './RemoteConfigContext';\r\n\r\nconst APIContext = createContext(\r\n    {\r\n        ...API({\r\n            baseUrl: process.env.REACT_APP_API_URL || \"\",\r\n            authToken: \"\"\r\n        }),\r\n        isAPIReady: false,\r\n        token: \"\",\r\n        setToken: () => console.log(\"set token function\")\r\n    }\r\n);\r\n\r\ninterface IProps {\r\n    value?: any;\r\n    children?: ReactNode;\r\n}\r\n\r\nfunction useAPI(): ReturnType<typeof API> & {\r\n    isAPIReady: boolean,\r\n    token: string,\r\n    setToken: Function\r\n} {\r\n    const context = useContext(APIContext);\r\n    if (!context) {\r\n        console.log('useAPI must be used within a APIProvider');\r\n    }\r\n    return context;\r\n}\r\n\r\nfunction APIProvider(props: IProps) {\r\n    const [token, setToken] = useState<string>(\"\")\r\n    const { apiURL } = useConfig()\r\n    const [isAPIReady, setIsAPIReady] = useState<boolean>(!!token)\r\n    const [methods, setMethods] = useState(\r\n        API({\r\n            baseUrl: apiURL || process.env.REACT_APP_API_URL || \"\",\r\n            authToken: token\r\n        })\r\n    );\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            setMethods(\r\n                API({\r\n                    baseUrl: apiURL || process.env.REACT_APP_API_URL || \"\",\r\n                    authToken: token\r\n                }))\r\n            setIsAPIReady(!!token)\r\n        }\r\n    }, [token, apiURL]);\r\n    const value = useMemo(() => {\r\n        return { ...methods, isAPIReady, setToken, token };\r\n    }, [methods, isAPIReady, token]);\r\n    return <APIContext.Provider value={value} {...props} />;\r\n}\r\n\r\nexport { APIProvider, useAPI };\r\n","import firebase from \"firebase/app\";\r\nimport \"firebase/messaging\";\r\nimport \"firebase/auth\"\r\nimport \"firebase/remote-config\"\r\nconst firebaseDevConfig = {\r\n  apiKey: \"AIzaSyDgOaSoXj1mz4U-BiIROG4EQL1h2TrjrUE\",\r\n  authDomain: \"buzzle-dev.firebaseapp.com\",\r\n  projectId: \"buzzle-dev\",\r\n  storageBucket: \"buzzle-dev.appspot.com\",\r\n  messagingSenderId: \"645987891897\",\r\n  appId: \"1:645987891897:web:70215e856e7ef9e3e87968\"\r\n};\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCN_zzGeAOOxiBScp_z8QrPLOVnJ1F27sQ\",\r\n  authDomain: \"buzzle-3f88a.firebaseapp.com\",\r\n  projectId: \"buzzle-3f88a\",\r\n  storageBucket: \"buzzle-3f88a.appspot.com\",\r\n  messagingSenderId: \"1005067748514\",\r\n  appId: \"1:1005067748514:web:980845590b8edc48b1c3fb\",\r\n  measurementId: \"G-DY2JRKP8ZV\"\r\n}\r\nexport default firebase.initializeApp(firebaseConfig);\r\nexport const firebaseAuth = firebase.auth()\r\nexport const remoteConfig = firebase.remoteConfig();\r\nremoteConfig.settings = {\r\n  minimumFetchIntervalMillis: 0,\r\n  fetchTimeoutMillis: 6000,\r\n};\r\nlet messaging: null | firebase.messaging.Messaging = null;\r\nif (firebase.messaging.isSupported()) {\r\n  messaging = firebase.messaging();\r\n  messaging.usePublicVapidKey(\r\n    \"BOfud4xtKcWRgYwHTN56ToeaFigYT2DGKXJryxhkwyLRqE2uGtRsDZotUMI5JiwLnMqFlC9TNt1p3jdcirF725U\"\r\n  );\r\n\r\n  messaging.onMessage(function (payload) {\r\n    console.log(\"payload\", payload)\r\n  })\r\n}\r\nexport {\r\n  messaging\r\n}","module.exports = __webpack_public_path__ + \"static/media/404.f4c82894.svg\";","import {\r\n  AppBar,\r\n  Button,\r\n  Dialog,\r\n  DialogContent,\r\n  IconButton,\r\n  makeStyles,\r\n  Slide, Box,\r\n  Slider,\r\n  Toolbar,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  AddBoxOutlined,\r\n  Close,\r\n  IndeterminateCheckBoxOutlined,\r\n} from \"@material-ui/icons\";\r\nimport { createImage, getCroppedImg, getDiagonalLengthOfRectangle } from \"helpers/CreateImage\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Cropper from \"react-easy-crop\";\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    position: \"relative\",\r\n    height: 70,\r\n  },\r\n  button: {\r\n    position: \"absolute\",\r\n    right: 15,\r\n  },\r\n}));\r\nconst cropAreaHeight = window.innerHeight - 100\r\nexport default ({ image, cropSize, setIsCropperOpen, onUpload, onCancel }) => {\r\n  const classes = useStyles();\r\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [rotation, setRotation] = useState(0);\r\n  const [minZoom, setMinZoom] = useState(0.1)\r\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\r\n  const onCropComplete = (croppedArea, croppedAreaPixels) => {\r\n    setCroppedAreaPixels(croppedAreaPixels);\r\n  };\r\n  const handleSave = async () => {\r\n    onUpload(await getCroppedImg(image, croppedAreaPixels, rotation, cropSize));\r\n  };\r\n  // ratio=w/h \r\n  const ratio = parseInt(`${cropSize?.width ?? 100}`, 10) / parseInt(`${cropSize?.height ?? 100}`)\r\n  let cropperHeight = cropAreaHeight\r\n  let cropperWidth = ratio * cropperHeight\r\n  // if width is greater then max width then set the with to max\r\n  cropperWidth = (window.innerWidth - 30) < cropperWidth ? (window.innerWidth - 30) : cropperWidth\r\n  // and adjust height as per the updated width\r\n  cropperHeight = cropperWidth / ratio\r\n  useEffect(() => {\r\n    // handleCropperInit()\r\n  }, [])\r\n\r\n  const handleCropperInit = async () => {\r\n    const imageData = await createImage(image)\r\n\r\n    const finalImageDimension = getDiagonalLengthOfRectangle({\r\n      height: parseInt(`${cropSize?.height ?? imageData?.height}`),\r\n      width: parseInt(`${cropSize?.width ?? imageData?.width}`)\r\n    })\r\n    const imageDimension = getDiagonalLengthOfRectangle({ height: imageData?.height, width: imageData?.width })\r\n    const greaterDiagonal = Math.max(finalImageDimension, imageDimension)\r\n    const smallerDiagonal = Math.min(finalImageDimension, imageDimension)\r\n    const value = greaterDiagonal / smallerDiagonal\r\n    setZoom(value)\r\n    // setMinZoom(value)\r\n  }\r\n  return (\r\n    <Dialog\r\n      open\r\n      fullScreen\r\n      TransitionComponent={Transition}\r\n      onClose={() => setIsCropperOpen(false)}\r\n      aria-labelledby=\"form-dialog-title\">\r\n\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            onClick={onCancel}\r\n            aria-label=\"close\">\r\n            <Close />\r\n          </IconButton>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flex: \"auto\",\r\n            }}>\r\n            {\" \"}\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flexDirection: \"row\",\r\n                width: 200,\r\n                marginTop: 0,\r\n                marginBottom: 0,\r\n                margin: 20,\r\n              }}>\r\n              <Typography id=\"Zoom\" gutterBottom>\r\n                Zoom\r\n              </Typography>\r\n\r\n              <IndeterminateCheckBoxOutlined\r\n                style={{\r\n                  color: \"white\",\r\n                  fontSize: 25,\r\n                  padding: 5,\r\n                  paddingBottom: 0,\r\n                  paddingTop: 0,\r\n                }}\r\n              />\r\n              <Slider\r\n                style={{ marginLeft: 5, color: \"white\" }}\r\n                value={zoom}\r\n                min={minZoom}\r\n                max={5}\r\n                step={0.1}\r\n                aria-labelledby=\"Zoom\"\r\n                onChange={(e, zoom) => setZoom(zoom)}\r\n              />\r\n              <AddBoxOutlined\r\n                color=\"inherit\"\r\n                style={{\r\n                  fontSize: 25,\r\n                  padding: 5,\r\n                  paddingBottom: 0,\r\n                  paddingTop: 0,\r\n                }}\r\n              />\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                justifyContent: \"center\",\r\n                alignItems: \"center\",\r\n                flexDirection: \"row\",\r\n                width: 200,\r\n                marginTop: 0,\r\n                marginBottom: 0,\r\n                margin: 20,\r\n              }}>\r\n              <Typography id=\"Zoom\" gutterBottom>\r\n                Rotate\r\n              </Typography>\r\n              <IndeterminateCheckBoxOutlined\r\n                color=\"inherit\"\r\n                style={{\r\n                  fontSize: 25,\r\n                  padding: 5,\r\n                  paddingBottom: 0,\r\n                  paddingTop: 0,\r\n                }}\r\n              />\r\n              <Slider\r\n                style={{ marginLeft: 5, color: \"white\" }}\r\n                value={rotation}\r\n                min={0}\r\n                max={360}\r\n                step={1}\r\n                aria-labelledby=\"Zoom\"\r\n                onChange={(e, degree) => setRotation(degree)}\r\n              />\r\n              <AddBoxOutlined\r\n                color=\"inherit\"\r\n                style={{\r\n                  fontSize: 25,\r\n                  padding: 5,\r\n                  paddingBottom: 0,\r\n                  paddingTop: 0,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Button\r\n            className={classes.button}\r\n            autoFocus\r\n            color=\"inherit\"\r\n            onClick={handleSave}\r\n            children=\"Upload\"\r\n          />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Box style={{ position: 'relative', background: '#333', height: window.innerHeight - 70 }}>\r\n        <Cropper\r\n          image={image}\r\n          crop={crop}\r\n          zoom={zoom}\r\n          minZoom={minZoom}\r\n          maxZoom={5}\r\n          onRotationChange={setRotation}\r\n          rotation={rotation}\r\n          restrictPosition={false}\r\n          aspect={ratio}\r\n          cropSize={{ width: cropperWidth, height: cropperHeight }}//TODO\r\n          onCropChange={setCrop}\r\n          onCropComplete={onCropComplete}\r\n          onZoomChange={setZoom}\r\n        />\r\n      </Box>\r\n    </Dialog>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    FormControl,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\nimport FileUploader from \"common/FileUploader\";\r\nimport { Orientation } from \"get-orientation\";\r\n\r\nexport default ({ initialValue, onSubmit, handleEdit }) => {\r\n\r\n    const actionName = Object.keys(initialValue)[0];\r\n    const actionValue = initialValue[actionName];\r\n    const [compress, setCompress] = useState(\r\n        actionName === \"compress\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-handbrake\",\r\n                preset: null,\r\n                output: \"encoded.mp4\",\r\n            }\r\n    );\r\n    const [rotateAction, setRotateAction] = useState(\r\n        actionName === \"rotateAction\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-video-orientation\",\r\n            }\r\n    );\r\n    const [addWatermark, setAddWatermark] = useState(\r\n        actionName === \"addWatermark\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-watermark\",\r\n                watermark: null,\r\n            }\r\n    );\r\n    const [addThumbnail, setAddThumbnail] = useState(\r\n        actionName === \"addThumbnail\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-add-thumbnail\",\r\n                thumbnail: null,\r\n                thumbnailDuration: 1,\r\n            }\r\n    );\r\n    const [upload, setUpload] = useState(\r\n        actionName === \"upload\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-upload\",\r\n                input: \"encoded.mp4\",\r\n                provider: \"s3\",\r\n                params: {\r\n                    region: \"us-east-1\",\r\n                    bucket: \"bulaava-assets\",\r\n                    key: `outputs/${Date.now()}.mp4`,\r\n                    //TODO better acl policy\r\n                    acl: \"public-read\",\r\n                },\r\n            }\r\n    );\r\n    const [mergeVideos, setMergeVideos] = useState(\r\n        actionName === \"mergeVideos\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-merge-videos\",\r\n                input2: \"\",\r\n\r\n            }\r\n    );\r\n    const [addAudio, setAddAudio] = useState(\r\n        actionName === \"addAudio\"\r\n            ? actionValue\r\n            : {\r\n                module: \"buzzle-action-add-audio\",\r\n                audio: \"\"\r\n            }\r\n    );\r\n\r\n    const [fileError, setFileError] = useState(null);\r\n    const [action, setAction] = useState(actionName);\r\n    useEffect(() => {\r\n        if (action) {\r\n            handleEdit({\r\n                [action]: eval(action)\r\n            });\r\n        }\r\n    }, [action])\r\n    const renderCompress = () => {\r\n        return (\r\n            <>\r\n                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                    <InputLabel id=\"property-select\">Preset</InputLabel>\r\n\r\n                    <Select\r\n                        labelId=\"property-select\"\r\n                        id=\"property-select\"\r\n                        onChange={(e) => {\r\n                            setCompress({ ...compress, preset: e?.target?.value });\r\n                            handleEdit({\r\n                                compress: { ...compress, preset: e?.target?.value },\r\n                            });\r\n                        }}\r\n                        name=\"property\"\r\n                        value={compress.preset}\r\n                        placeholder=\"Select Preset\"\r\n                        label=\"Preset\">\r\n                        {presets.map((item, index) => (\r\n                            <MenuItem\r\n                                key={index}\r\n                                id={index}\r\n                                value={item}\r\n                                children={item}\r\n                                selected={compress.preset === item}\r\n                            />\r\n                        ))}\r\n                    </Select>\r\n                </FormControl>\r\n                <TextField\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    value={compress.output}\r\n                    onChange={(e) => {\r\n                        setCompress({ ...compress, output: e.target.value });\r\n                        handleEdit({ compress: { ...compress, output: e?.target?.value } });\r\n                    }}\r\n                    type=\"text\"\r\n                    label={\"Output\"}\r\n                    placeholder={\"Enter Output filename\"}\r\n                />\r\n            </>\r\n        );\r\n    };\r\n    const renderUpload = () => {\r\n        return (\r\n            <>\r\n                <TextField\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    value={upload.input}\r\n                    onChange={(e) => {\r\n                        setUpload({ ...upload, input: e.target.value });\r\n                        handleEdit({ upload: { ...upload, input: e?.target?.value } });\r\n                    }}\r\n                    type=\"text\"\r\n                    label={\"Input\"}\r\n                    placeholder={\"Enter Input filename\"}\r\n                />\r\n                <TextField\r\n                    fullWidth\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    value={upload.params.key}\r\n                    onChange={(e) => {\r\n                        setUpload({\r\n                            ...upload,\r\n                            params: { ...upload.params, key: e.target.value },\r\n                        });\r\n                        handleEdit({\r\n                            upload: {\r\n                                ...upload,\r\n                                params: { ...upload.params, key: e.target.value },\r\n                            },\r\n                        });\r\n                    }}\r\n                    type=\"text\"\r\n                    label={\"S3 File Name\"}\r\n                    placeholder={\"Enter filename\"}\r\n                    helperText={\r\n                        \"use examplePath/ before the name for uploading inside the directory\"\r\n                    }\r\n                />\r\n            </>\r\n        );\r\n    };\r\n    const renderWatermark = () => {\r\n        return (\r\n            <><FileUploader\r\n                name={\"watermarkFile\"}\r\n                value={addWatermark.watermark}\r\n                onError={(e) => setFileError(e.message)}\r\n                onChange={(url) => {\r\n                    setAddWatermark({ ...addWatermark, watermark: url });\r\n                    handleEdit({ addWatermark: { ...addWatermark, watermark: url } });\r\n                }}\r\n                accept={\"image/*\"}\r\n                uploadDirectory={\"jobImages\"}\r\n                label=\"Watermark\"\r\n                onTouched={() => setFileError(null)}\r\n                error={fileError}\r\n                helperText={\"Watermark should be transparent.\"}\r\n            />\r\n            </>\r\n        );\r\n    };\r\n    const renderAddThumbnail = () => {\r\n        return <>\r\n            <TextField\r\n                fullWidth\r\n                variant=\"outlined\"\r\n                margin=\"dense\"\r\n                value={addThumbnail.thumbnailDuration}\r\n                onChange={(e) => {\r\n                    setAddThumbnail({ ...addThumbnail, thumbnailDuration: e.target.value });\r\n                    handleEdit({ addThumbnail: { ...addThumbnail, thumbnailDuration: e?.target?.value } });\r\n                }}\r\n                type=\"text\"\r\n                label={\"Thumbnail durationa in frames\"}\r\n                placeholder={\"Enter duration number\"}\r\n            />\r\n            <FileUploader\r\n                name={\"thumbnailFile\"}\r\n                value={addThumbnail.thumbnail}\r\n                onError={(e) => setFileError(e.message)}\r\n                onChange={(url) => {\r\n                    setAddThumbnail({ ...addThumbnail, thumbnail: url });\r\n                    handleEdit({ addThumbnail: { ...addThumbnail, thumbnail: url } });\r\n                }}\r\n                uploadDirectory={\"jobImages\"}\r\n                accept={\"image/*\"}\r\n                label=\"Thumbnail\"\r\n                onTouched={() => setFileError(null)}\r\n                error={fileError}\r\n                helperText={\"Thumbnail would be resized to fit.\"}\r\n            />\r\n        </>\r\n    }\r\n    const renderMergeVideos = () => {\r\n        return (\r\n            <>\r\n                <FileUploader\r\n                    value={mergeVideos.input2}\r\n                    onError={(e) => setFileError(e.message)}\r\n                    onChange={(url) => {\r\n                        setMergeVideos({ ...mergeVideos, input2: url, });\r\n                        handleEdit({ mergeVideos: { ...mergeVideos, input2: url, } });\r\n                    }}\r\n                    accept={\"video/*\"}\r\n                    uploadDirectory={\"jobImages\"}\r\n\r\n                    name={\"input2\"}\r\n                    label=\"Video File To be Merged\"\r\n                    onTouched={() => setFileError(null)}\r\n                    error={fileError}\r\n                    helperText={\"Choose Video to be merged\"}\r\n                />\r\n            </>\r\n        );\r\n    };\r\n    const renderRotateAction = () => {\r\n\r\n        const transposeOptions = [{ title: \"90 Counter-CLockwise and Vertical Flip\", value: 0 },\r\n        { title: \"90 Clockwise\", value: 1 },\r\n        { title: \"90 Counter Clockwise\", value: 2 },\r\n        { title: \"90 Clockwise and Vertical Flip\", value: 3 }]\r\n        return (<>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"property-select\">Output Orientation</InputLabel>\r\n                <Select\r\n                    labelId=\"orientation-select\"\r\n                    id=\"orientation-select\"\r\n                    onChange={(e) => {\r\n                        setRotateAction({ ...rotateAction, orientation: (e?.target?.value) });\r\n                        handleEdit({ rotateAction: { ...rotateAction, orientation: (e?.target?.value) } });\r\n                    }}\r\n                    name=\"orientation\"\r\n                    value={rotateAction?.orientation ?? 'portrait'}\r\n                    placeholder=\"Select Output Orientation\"\r\n                    label=\"Select Output Orientation\">\r\n                    {[\"landscape\", 'portrait'].map((item, index) => (\r\n                        <MenuItem\r\n                            key={index}\r\n                            id={index}\r\n                            value={item}\r\n                            children={item.toUpperCase()}\r\n                            selected={rotateAction.orientation === item}\r\n                        />\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"transpose-select\">Transpose option</InputLabel>\r\n                <Select\r\n                    labelId=\"transpose-select\"\r\n                    id=\"transpose-select\"\r\n                    onChange={(e) => {\r\n                        setRotateAction({ ...rotateAction, transpose: parseInt(e?.target?.value) });\r\n                        handleEdit({ rotateAction: { ...rotateAction, transpose: parseInt(e?.target?.value) } });\r\n                    }}\r\n                    name=\"orientation\"\r\n                    value={rotateAction?.transpose ?? 1}\r\n                    placeholder=\"Select transpose\"\r\n                    label=\"Select transpose\">\r\n                    {transposeOptions.map((item, index) => (\r\n                        <MenuItem\r\n                            key={item.value}\r\n                            id={index}\r\n                            value={item.value}\r\n                            children={item.title}\r\n                            selected={rotateAction.transpose === item.value}\r\n                        />\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n        </>)\r\n    }\r\n    const renderAddAudio = () => {\r\n        return (\r\n            <>\r\n                <FileUploader\r\n                    value={addAudio.audio}\r\n                    onError={(e) => setFileError(e.message)}\r\n                    onChange={(url) => {\r\n                        setAddAudio({ ...addAudio, audio: url });\r\n                        handleEdit({ addAudio: { ...addAudio, audio: url } });\r\n                    }}\r\n                    accept={\"audio/*\"}\r\n                    uploadDirectory={\"jobImages\"}\r\n                    name={\"audio\"}\r\n                    label=\"Audio File\"\r\n                    onTouched={() => setFileError(null)}\r\n                    error={fileError}\r\n                    helperText={\"Choose Audio file.\"}\r\n                />\r\n                {addAudio.audio && <audio controls>\r\n                    <source src={addAudio.audio} type=\"audio/mpeg\" />\r\n                </audio>}\r\n            </>\r\n        );\r\n    };\r\n    const presets = [\"mp4\", \"ogg\", \"webm\", \"mp3\", \"m4a\", \"gif\"];\r\n    const actions = {\r\n        compress: renderCompress(),\r\n        upload: renderUpload(),\r\n        addWatermark: renderWatermark(),\r\n        mergeVideos: renderMergeVideos(),\r\n        addAudio: renderAddAudio(),\r\n        addThumbnail: renderAddThumbnail(),\r\n        rotateAction: renderRotateAction()\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"property-select\">Action Name</InputLabel>\r\n                <Select\r\n                    labelId=\"property-select\"\r\n                    id=\"property-select\"\r\n                    onChange={(e) => setAction(e?.target?.value)}\r\n                    name=\"property\"\r\n                    value={actionName}\r\n                    placeholder=\"Select Action\"\r\n                    label=\"Action Name\">\r\n                    {Object.keys(actions).map((item, index) => (\r\n                        <MenuItem\r\n                            key={index}\r\n                            id={index}\r\n                            value={item}\r\n                            children={item}\r\n                            selected={actionName === item}\r\n                        />\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n            {actions[action]}\r\n        </>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","module.exports = __webpack_public_path__ + \"static/media/spiring.5a649ff9.svg\";","module.exports = __webpack_public_path__ + \"static/media/spiring_grey.4eaa8e78.svg\";","module.exports = __webpack_public_path__ + \"static/media/landing.1e388c68.svg\";","module.exports = __webpack_public_path__ + \"static/media/video.7d7a15b2.svg\";","import React, { useState, useEffect, forwardRef } from \"react\";\r\nimport { FormHelperText, Typography, Box, Button, FormControl, FormControlLabel, Radio, RadioGroup, TextField } from \"@material-ui/core\";\r\nimport CloudUploadIcon from \"@material-ui/icons/CloudUpload\";\r\nimport { upload } from \"services/awsService\";\r\n\r\nimport { readFile, ORIENTATION_TO_ANGLE, getRotatedImage } from \"helpers/CreateImage\"\r\nimport { getOrientation } from 'get-orientation/browser'\r\nimport ImageCropperDialog from \"common/ImageCropperDialog\"\r\nimport { ManagedUpload } from \"aws-sdk/clients/s3\";\r\nimport { useAuth } from \"services/auth\";\r\ntype IProps = {\r\n  required?: boolean,\r\n  name: string,\r\n  value: string,\r\n  onChange: Function,\r\n  label: string, extension?: string,\r\n  accept?: string,\r\n  uploadDirectory: string,\r\n  onError?: (message: string) => void,\r\n  cropEnabled?: boolean,\r\n  uploadFileNameColor?: string,\r\n  error?: Error,\r\n  helperText: string,\r\n  height?: number, width?: number,\r\n  onTouched?: Function,\r\n  forceUploadDirectory?: boolean,\r\n  storageType: \"archive\" | \"deleteAfter7Days\" | \"deleteAfter90Days\"\r\n}\r\nexport default forwardRef(({\r\n  required,\r\n  name,\r\n  value,\r\n  onChange,\r\n  forceUploadDirectory = false,\r\n  label, extension = 'png',\r\n  accept,\r\n  uploadDirectory,\r\n  onError,\r\n  cropEnabled = false,\r\n  error,\r\n  uploadFileNameColor = \"\",\r\n  helperText,\r\n  height = 400, width = 600,\r\n  onTouched,\r\n  storageType = 'archive'\r\n}: IProps, ref: any) => {\r\n  ref = ref ? ref : { current: \"\" }\r\n  const [isError, setIsError] = useState<Error | null>(error || null)\r\n  const { user } = useAuth()\r\n  const [type, setType] = useState('file')\r\n  const [progress, setProgress] = useState(0);\r\n  const [taskController, setTaskController] = useState<ManagedUpload | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [cropImage, setCropImage] = useState(\"\")\r\n  const [filename, setFilename] = useState<string>(\r\n    value ? value.substring(value.lastIndexOf(\"/\") + 1) : \"\"\r\n  );\r\n  const [isCropperOpen, setIsCropperOpen] = useState(false)\r\n  useEffect(() => {\r\n    if (value) {\r\n      onChange(value);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (value && !value.startsWith(\"http\")) {\r\n      setIsError(error || new Error(\"Invalid url, Please re-check the url\"))\r\n    } else {\r\n      setIsError(error || null)\r\n    }\r\n  }, [error, value])\r\n\r\n  const handleFile = async (e: any) => {\r\n\r\n    const file =\r\n      (e?.target?.files ?? [null])[0] ||\r\n      (e?.dataTransfer?.files ?? [null])[0];\r\n    if (!file) {\r\n      return;\r\n    }\r\n    onError ? onError(\"\") : setIsError(null)\r\n    setFilename(file.name);\r\n    await handleUpload(file, file.name.split(\".\").pop())\r\n  }\r\n  const handleUpload = async (file: any, extension: string) => {\r\n    try {\r\n      setLoading(true);\r\n      const task = upload(\r\n        `${forceUploadDirectory ? \"\" : `${user?.uid ?? 'user'}/`}${uploadDirectory}/${Date.now()}.${extension}`,\r\n        file, storageType\r\n      );\r\n      setTaskController(task);\r\n      task.on(\"httpUploadProgress\", ({ loaded, total }) =>\r\n        setProgress(Math.floor((loaded / total) * 100))\r\n      );\r\n      let { Location: uri } = await task.promise();\r\n      uri = uri.startsWith(\"http\") ? uri : `https://${uri}`\r\n      setLoading(false);\r\n      setFilename(uri.substring(uri.lastIndexOf(\"/\") + 1))\r\n      onChange(uri);\r\n      onTouched && onTouched(true)\r\n    } catch (err) {\r\n      setTaskController(null)\r\n      setFilename(value ? value.substring(value.lastIndexOf(\"/\") + 1) : \"\");\r\n      setLoading(false);\r\n      onError ? onError((err as Error).message) : setIsError((err as Error))\r\n    }\r\n\r\n  }\r\n  const handleUploadCancel = async () => {\r\n    if (taskController === null) {\r\n      onTouched && onTouched(true)\r\n      onError ? onError(\"Failed to cancel upload\") : setIsError(new Error(\"Failed to cancel upload\"))\r\n      return\r\n    }\r\n    try {\r\n      await taskController?.abort()//?.bind(taskController);\r\n    } catch (err) {\r\n      setFilename(value ? value.substring(value.lastIndexOf(\"/\") + 1) : \"\");\r\n      setLoading(false);\r\n      onError ? onError((err as Error).message) : setIsError((err as Error))\r\n      setTaskController(null)\r\n    }\r\n  };\r\n  const handleCropImage = async (e: any) => {\r\n    if (e.target.files && e.target.files.length > 0) {\r\n      const file = e.target.files[0]\r\n      setFilename(file.name);\r\n      let imageDataUrl = await readFile(file)\r\n      const orientation = await getOrientation(file)\r\n      //@ts-ignore\r\n      const rotation = ORIENTATION_TO_ANGLE[orientation]\r\n      if (rotation) {\r\n        imageDataUrl = await getRotatedImage(imageDataUrl, rotation)\r\n      }\r\n      setCropImage(imageDataUrl)\r\n      setIsCropperOpen(true)\r\n    }\r\n  }\r\n  ref.current = { handleCropImage, handleUploadCancel, handleUpload }\r\n  return (\r\n    <Box mt={2} mb={2}>\r\n      <Typography>{label}{required && \" *\"}</Typography>\r\n      <FormControl component=\"fieldset\">\r\n        <RadioGroup\r\n          aria-label=\"type\"\r\n          name=\"type\"\r\n          value={type}\r\n          onChange={({ target: { value } }) => setType(value)}\r\n          row>\r\n          <FormControlLabel value=\"file\" control={<Radio />} label=\"File\" />\r\n          <FormControlLabel value=\"url\" control={<Radio />} label=\"URL\" />\r\n        </RadioGroup>\r\n      </FormControl>\r\n      <Box my={1}>\r\n        {type === 'file' ?\r\n          <>\r\n            <input\r\n              onClick={(event) => {\r\n                //@ts-ignore\r\n                event.target.value = null\r\n              }}\r\n              accept={accept}\r\n              id={name}\r\n              type=\"file\"\r\n              onChange={cropEnabled ? handleCropImage : handleFile}\r\n              style={{ display: \"none\" }}\r\n            />\r\n            <label htmlFor={name}>\r\n              <Button\r\n                disabled={loading}\r\n                variant=\"contained\"\r\n                size=\"small\"\r\n                color=\"primary\"\r\n                startIcon={<CloudUploadIcon />}\r\n                component=\"span\">\r\n                {value ? `Change` : `Upload`}\r\n              </Button>\r\n            </label>\r\n            <Typography style={{ marginLeft: 10, ...(uploadFileNameColor ? { color: uploadFileNameColor } : {}) }} variant=\"body2\" component={\"span\"} color=\"textSecondary\">\r\n              {loading ? ` Uploading: ${progress}% ` : ` ${filename} `}\r\n            </Typography>\r\n            {loading && (\r\n              <Button\r\n                onClick={handleUploadCancel}\r\n                size=\"small\"\r\n                color=\"secondary\"\r\n                component=\"span\">\r\n                Cancel\r\n              </Button>\r\n            )}\r\n          </> : <TextField\r\n            label=\"File URL\"\r\n            placeholder=\"Paste URL here\"\r\n            margin=\"dense\"\r\n            style={{ marginRight: 20 }}\r\n            variant=\"outlined\"\r\n            value={value}\r\n            onChange={({ target: { value } }) => {\r\n              setFilename(value.substring(value.lastIndexOf(\"/\") + 1))\r\n              setIsError(null)\r\n              onChange(value)\r\n            }}\r\n          />}\r\n      </Box>\r\n      <FormHelperText error={isError != null}>\r\n        {isError ? isError?.message : helperText}\r\n      </FormHelperText>\r\n      {isCropperOpen && <ImageCropperDialog\r\n        image={cropImage}\r\n        cropSize={{ height, width }}\r\n        setIsCropperOpen={setIsCropperOpen}\r\n        onUpload={(base64: string) => {\r\n          setIsCropperOpen(false)\r\n          //@ts-ignore\r\n          const base64Data = new Buffer.from(base64.replace(/^data:image\\/\\w+;base64,/, \"\"), 'base64');\r\n          handleUpload(base64Data, extension)\r\n        }\r\n        }\r\n        onCancel={() => {\r\n          setIsCropperOpen(false)\r\n          setFilename(value ? value.substring(value.lastIndexOf(\"/\") + 1) : \"\");\r\n\r\n        }} />\r\n      }\r\n    </Box>\r\n  );\r\n})"],"sourceRoot":""}